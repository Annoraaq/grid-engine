var RM=Object.create;var js=Object.defineProperty;var zM=Object.getOwnPropertyDescriptor;var NM=Object.getOwnPropertyNames;var VM=Object.getPrototypeOf,WM=Object.prototype.hasOwnProperty;var _=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),UM=(r,e)=>{for(var t in e)js(r,t,{get:e[t],enumerable:!0})},eb=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of NM(e))!WM.call(r,n)&&n!==t&&js(r,n,{get:()=>e[n],enumerable:!(i=zM(e,n))||i.enumerable});return r};var gt=(r,e,t)=>(t=r!=null?RM(VM(r)):{},eb(e||!r||!r.__esModule?js(t,"default",{value:r,enumerable:!0}):t,r)),GM=r=>eb(js({},"__esModule",{value:!0}),r);var le=_(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.isFunction=void 0;function KM(r){return typeof r=="function"}Fs.isFunction=KM});var si=_(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.createErrorClass=void 0;function XM(r){var e=function(i){Error.call(i),i.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Ds.createErrorClass=XM});var cp=_(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.UnsubscriptionError=void 0;var JM=si();ks.UnsubscriptionError=JM.createErrorClass(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(i,n){return n+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}})});var Nr=_(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.arrRemove=void 0;function ZM(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}Rs.arrRemove=ZM});var xt=_(_t=>{"use strict";var nb=_t&&_t.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ob=_t&&_t.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},ab=_t&&_t.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(_t,"__esModule",{value:!0});_t.isSubscription=_t.EMPTY_SUBSCRIPTION=_t.Subscription=void 0;var fa=le(),lp=cp(),sb=Nr(),fp=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,i,n,s;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var l=nb(c),h=l.next();!h.done;h=l.next()){var p=h.value;p.remove(this)}}catch(M){e={error:M}}finally{try{h&&!h.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else c.remove(this);var v=this.initialTeardown;if(fa.isFunction(v))try{v()}catch(M){s=M instanceof lp.UnsubscriptionError?M.errors:[M]}var b=this._finalizers;if(b){this._finalizers=null;try{for(var w=nb(b),T=w.next();!T.done;T=w.next()){var E=T.value;try{ub(E)}catch(M){s=s??[],M instanceof lp.UnsubscriptionError?s=ab(ab([],ob(s)),ob(M.errors)):s.push(M)}}}catch(M){i={error:M}}finally{try{T&&!T.done&&(n=w.return)&&n.call(w)}finally{if(i)throw i.error}}}if(s)throw new lp.UnsubscriptionError(s)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)ub(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&sb.arrRemove(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&sb.arrRemove(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}();_t.Subscription=fp;_t.EMPTY_SUBSCRIPTION=fp.EMPTY;function ex(r){return r instanceof fp||r&&"closed"in r&&fa.isFunction(r.remove)&&fa.isFunction(r.add)&&fa.isFunction(r.unsubscribe)}_t.isSubscription=ex;function ub(r){fa.isFunction(r)?r():r.unsubscribe()}});var Mn=_(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.config=void 0;zs.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var hp=_(lr=>{"use strict";var cb=lr&&lr.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},lb=lr&&lr.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(lr,"__esModule",{value:!0});lr.timeoutProvider=void 0;lr.timeoutProvider={setTimeout:function(r,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var n=lr.timeoutProvider.delegate;return n?.setTimeout?n.setTimeout.apply(n,lb([r,e],cb(t))):setTimeout.apply(void 0,lb([r,e],cb(t)))},clearTimeout:function(r){var e=lr.timeoutProvider.delegate;return(e?.clearTimeout||clearTimeout)(r)},delegate:void 0}});var pp=_(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.reportUnhandledError=void 0;var tx=Mn(),rx=hp();function ix(r){rx.timeoutProvider.setTimeout(function(){var e=tx.config.onUnhandledError;if(e)e(r);else throw r})}Ns.reportUnhandledError=ix});var Qe=_(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.noop=void 0;function nx(){}Vs.noop=nx});var fb=_(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.createNotification=fr.nextNotification=fr.errorNotification=fr.COMPLETE_NOTIFICATION=void 0;fr.COMPLETE_NOTIFICATION=function(){return Ws("C",void 0,void 0)}();function ox(r){return Ws("E",void 0,r)}fr.errorNotification=ox;function ax(r){return Ws("N",r,void 0)}fr.nextNotification=ax;function Ws(r,e,t){return{kind:r,value:e,error:t}}fr.createNotification=Ws});var Us=_(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.captureError=xn.errorContext=void 0;var hb=Mn(),Qi=null;function sx(r){if(hb.config.useDeprecatedSynchronousErrorHandling){var e=!Qi;if(e&&(Qi={errorThrown:!1,error:null}),r(),e){var t=Qi,i=t.errorThrown,n=t.error;if(Qi=null,i)throw n}}else r()}xn.errorContext=sx;function ux(r){hb.config.useDeprecatedSynchronousErrorHandling&&Qi&&(Qi.errorThrown=!0,Qi.error=r)}xn.captureError=ux});var Ln=_(Jt=>{"use strict";var vb=Jt&&Jt.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.EMPTY_OBSERVER=Jt.SafeSubscriber=Jt.Subscriber=void 0;var cx=le(),pb=xt(),yp=Mn(),lx=pp(),db=Qe(),dp=fb(),fx=hp(),hx=Us(),mb=function(r){vb(e,r);function e(t){var i=r.call(this)||this;return i.isStopped=!1,t?(i.destination=t,pb.isSubscription(t)&&t.add(i)):i.destination=Jt.EMPTY_OBSERVER,i}return e.create=function(t,i,n){return new yb(t,i,n)},e.prototype.next=function(t){this.isStopped?mp(dp.nextNotification(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?mp(dp.errorNotification(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?mp(dp.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(pb.Subscription);Jt.Subscriber=mb;var px=Function.prototype.bind;function vp(r,e){return px.call(r,e)}var dx=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(i){Gs(i)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(i){Gs(i)}else Gs(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Gs(t)}},r}(),yb=function(r){vb(e,r);function e(t,i,n){var s=r.call(this)||this,c;if(cx.isFunction(t)||!t)c={next:t??void 0,error:i??void 0,complete:n??void 0};else{var l;s&&yp.config.useDeprecatedNextContext?(l=Object.create(t),l.unsubscribe=function(){return s.unsubscribe()},c={next:t.next&&vp(t.next,l),error:t.error&&vp(t.error,l),complete:t.complete&&vp(t.complete,l)}):c=t}return s.destination=new dx(c),s}return e}(mb);Jt.SafeSubscriber=yb;function Gs(r){yp.config.useDeprecatedSynchronousErrorHandling?hx.captureError(r):lx.reportUnhandledError(r)}function vx(r){throw r}function mp(r,e){var t=yp.config.onStoppedNotification;t&&fx.timeoutProvider.setTimeout(function(){return t(r,e)})}Jt.EMPTY_OBSERVER={closed:!0,next:db.noop,error:vx,complete:db.noop}});var ha=_(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.observable=void 0;Bs.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var Ke=_(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.identity=void 0;function mx(r){return r}Hs.identity=mx});var pa=_(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.pipeFromArray=jn.pipe=void 0;var yx=Ke();function gx(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return gb(r)}jn.pipe=gx;function gb(r){return r.length===0?yx.identity:r.length===1?r[0]:function(t){return r.reduce(function(i,n){return n(i)},t)}}jn.pipeFromArray=gb});var he=_($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.Observable=void 0;var bp=Ln(),bx=xt(),_x=ha(),Px=pa(),wx=Mn(),gp=le(),Ox=Us(),Sx=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,i){var n=this,s=Cx(e)?e:new bp.SafeSubscriber(e,t,i);return Ox.errorContext(function(){var c=n,l=c.operator,h=c.source;s.add(l?l.call(s,h):h?n._subscribe(s):n._trySubscribe(s))}),s},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var i=this;return t=bb(t),new t(function(n,s){var c=new bp.SafeSubscriber({next:function(l){try{e(l)}catch(h){s(h),c.unsubscribe()}},error:s,complete:n});i.subscribe(c)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[_x.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Px.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=bb(e),new e(function(i,n){var s;t.subscribe(function(c){return s=c},function(c){return n(c)},function(){return i(s)})})},r.create=function(e){return new r(e)},r}();$s.Observable=Sx;function bb(r){var e;return(e=r??wx.config.Promise)!==null&&e!==void 0?e:Promise}function Tx(r){return r&&gp.isFunction(r.next)&&gp.isFunction(r.error)&&gp.isFunction(r.complete)}function Cx(r){return r&&r instanceof bp.Subscriber||Tx(r)&&bx.isSubscription(r)}});var z=_(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.operate=In.hasLift=void 0;var Ax=le();function _b(r){return Ax.isFunction(r?.lift)}In.hasLift=_b;function Ex(r){return function(e){if(_b(e))return e.lift(function(t){try{return r(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}In.operate=Ex});var U=_(ui=>{"use strict";var qx=ui&&ui.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(ui,"__esModule",{value:!0});ui.OperatorSubscriber=ui.createOperatorSubscriber=void 0;var Mx=Ln();function xx(r,e,t,i,n){return new Pb(r,e,t,i,n)}ui.createOperatorSubscriber=xx;var Pb=function(r){qx(e,r);function e(t,i,n,s,c,l){var h=r.call(this,t)||this;return h.onFinalize=c,h.shouldUnsubscribe=l,h._next=i?function(p){try{i(p)}catch(v){t.error(v)}}:r.prototype._next,h._error=s?function(p){try{s(p)}catch(v){t.error(v)}finally{this.unsubscribe()}}:r.prototype._error,h._complete=n?function(){try{n()}catch(p){t.error(p)}finally{this.unsubscribe()}}:r.prototype._complete,h}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;r.prototype.unsubscribe.call(this),!i&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Mx.Subscriber);ui.OperatorSubscriber=Pb});var Qs=_(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.refCount=void 0;var Lx=z(),jx=U();function Ix(){return Lx.operate(function(r,e){var t=null;r._refCount++;var i=jx.createOperatorSubscriber(e,void 0,void 0,void 0,function(){if(!r||r._refCount<=0||0<--r._refCount){t=null;return}var n=r._connection,s=t;t=null,n&&(!s||n===s)&&n.unsubscribe(),e.unsubscribe()});r.subscribe(i),i.closed||(t=r.connect())})}Ys.refCount=Ix});var da=_(Fn=>{"use strict";var Fx=Fn&&Fn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.ConnectableObservable=void 0;var Dx=he(),wb=xt(),kx=Qs(),Rx=U(),zx=z(),Nx=function(r){Fx(e,r);function e(t,i){var n=r.call(this)||this;return n.source=t,n.subjectFactory=i,n._subject=null,n._refCount=0,n._connection=null,zx.hasLift(t)&&(n.lift=t.lift),n}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t?.unsubscribe()},e.prototype.connect=function(){var t=this,i=this._connection;if(!i){i=this._connection=new wb.Subscription;var n=this.getSubject();i.add(this.source.subscribe(Rx.createOperatorSubscriber(n,void 0,function(){t._teardown(),n.complete()},function(s){t._teardown(),n.error(s)},function(){return t._teardown()}))),i.closed&&(this._connection=null,i=wb.Subscription.EMPTY)}return i},e.prototype.refCount=function(){return kx.refCount()(this)},e}(Dx.Observable);Fn.ConnectableObservable=Nx});var Ob=_(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.performanceTimestampProvider=void 0;va.performanceTimestampProvider={now:function(){return(va.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var _p=_(Zt=>{"use strict";var Sb=Zt&&Zt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},Tb=Zt&&Zt.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.animationFrameProvider=void 0;var Vx=xt();Zt.animationFrameProvider={schedule:function(r){var e=requestAnimationFrame,t=cancelAnimationFrame,i=Zt.animationFrameProvider.delegate;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);var n=e(function(s){t=void 0,r(s)});return new Vx.Subscription(function(){return t?.(n)})},requestAnimationFrame:function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Zt.animationFrameProvider.delegate;return(t?.requestAnimationFrame||requestAnimationFrame).apply(void 0,Tb([],Sb(r)))},cancelAnimationFrame:function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Zt.animationFrameProvider.delegate;return(t?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,Tb([],Sb(r)))},delegate:void 0}});var Eb=_(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.animationFrames=void 0;var Wx=he(),Ux=Ob(),Cb=_p();function Gx(r){return r?Ab(r):Bx}Ks.animationFrames=Gx;function Ab(r){return new Wx.Observable(function(e){var t=r||Ux.performanceTimestampProvider,i=t.now(),n=0,s=function(){e.closed||(n=Cb.animationFrameProvider.requestAnimationFrame(function(c){n=0;var l=t.now();e.next({timestamp:r?l:c,elapsed:l-i}),s()}))};return s(),function(){n&&Cb.animationFrameProvider.cancelAnimationFrame(n)}})}var Bx=Ab()});var Pp=_(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.ObjectUnsubscribedError=void 0;var Hx=si();Xs.ObjectUnsubscribedError=Hx.createErrorClass(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var Xe=_(hr=>{"use strict";var Mb=hr&&hr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$x=hr&&hr.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(hr,"__esModule",{value:!0});hr.AnonymousSubject=hr.Subject=void 0;var qb=he(),Op=xt(),Yx=Pp(),Qx=Nr(),wp=Us(),xb=function(r){Mb(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var i=new Sp(this,this);return i.operator=t,i},e.prototype._throwIfClosed=function(){if(this.closed)throw new Yx.ObjectUnsubscribedError},e.prototype.next=function(t){var i=this;wp.errorContext(function(){var n,s;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var c=$x(i.currentObservers),l=c.next();!l.done;l=c.next()){var h=l.value;h.next(t)}}catch(p){n={error:p}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(n)throw n.error}}}})},e.prototype.error=function(t){var i=this;wp.errorContext(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=t;for(var n=i.observers;n.length;)n.shift().error(t)}})},e.prototype.complete=function(){var t=this;wp.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var i=t.observers;i.length;)i.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var i=this,n=this,s=n.hasError,c=n.isStopped,l=n.observers;return s||c?Op.EMPTY_SUBSCRIPTION:(this.currentObservers=null,l.push(t),new Op.Subscription(function(){i.currentObservers=null,Qx.arrRemove(l,t)}))},e.prototype._checkFinalizedStatuses=function(t){var i=this,n=i.hasError,s=i.thrownError,c=i.isStopped;n?t.error(s):c&&t.complete()},e.prototype.asObservable=function(){var t=new qb.Observable;return t.source=this,t},e.create=function(t,i){return new Sp(t,i)},e}(qb.Observable);hr.Subject=xb;var Sp=function(r){Mb(e,r);function e(t,i){var n=r.call(this)||this;return n.destination=t,n.source=i,n}return e.prototype.next=function(t){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,t)},e.prototype.error=function(t){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,t)},e.prototype.complete=function(){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||i===void 0||i.call(t)},e.prototype._subscribe=function(t){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(t))!==null&&n!==void 0?n:Op.EMPTY_SUBSCRIPTION},e}(xb);hr.AnonymousSubject=Sp});var Tp=_(Dn=>{"use strict";var Kx=Dn&&Dn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Dn,"__esModule",{value:!0});Dn.BehaviorSubject=void 0;var Xx=Xe(),Jx=function(r){Kx(e,r);function e(t){var i=r.call(this)||this;return i._value=t,i}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var i=r.prototype._subscribe.call(this,t);return!i.closed&&t.next(this._value),i},e.prototype.getValue=function(){var t=this,i=t.hasError,n=t.thrownError,s=t._value;if(i)throw n;return this._throwIfClosed(),s},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(Xx.Subject);Dn.BehaviorSubject=Jx});var Js=_(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.dateTimestampProvider=void 0;ma.dateTimestampProvider={now:function(){return(ma.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var Zs=_(kn=>{"use strict";var Zx=kn&&kn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(kn,"__esModule",{value:!0});kn.ReplaySubject=void 0;var eL=Xe(),tL=Js(),rL=function(r){Zx(e,r);function e(t,i,n){t===void 0&&(t=1/0),i===void 0&&(i=1/0),n===void 0&&(n=tL.dateTimestampProvider);var s=r.call(this)||this;return s._bufferSize=t,s._windowTime=i,s._timestampProvider=n,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=i===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,i),s}return e.prototype.next=function(t){var i=this,n=i.isStopped,s=i._buffer,c=i._infiniteTimeWindow,l=i._timestampProvider,h=i._windowTime;n||(s.push(t),!c&&s.push(l.now()+h)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(t),n=this,s=n._infiniteTimeWindow,c=n._buffer,l=c.slice(),h=0;h<l.length&&!t.closed;h+=s?1:2)t.next(l[h]);return this._checkFinalizedStatuses(t),i},e.prototype._trimBuffer=function(){var t=this,i=t._bufferSize,n=t._timestampProvider,s=t._buffer,c=t._infiniteTimeWindow,l=(c?1:2)*i;if(i<1/0&&l<s.length&&s.splice(0,s.length-l),!c){for(var h=n.now(),p=0,v=1;v<s.length&&s[v]<=h;v+=2)p=v;p&&s.splice(0,p+1)}},e}(eL.Subject);kn.ReplaySubject=rL});var eu=_(Rn=>{"use strict";var iL=Rn&&Rn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.AsyncSubject=void 0;var nL=Xe(),oL=function(r){iL(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return e.prototype._checkFinalizedStatuses=function(t){var i=this,n=i.hasError,s=i._hasValue,c=i._value,l=i.thrownError,h=i.isStopped,p=i._isComplete;n?t.error(l):(h||p)&&(s&&t.next(c),t.complete())},e.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},e.prototype.complete=function(){var t=this,i=t._hasValue,n=t._value,s=t._isComplete;s||(this._isComplete=!0,i&&r.prototype.next.call(this,n),r.prototype.complete.call(this))},e}(nL.Subject);Rn.AsyncSubject=oL});var Lb=_(zn=>{"use strict";var aL=zn&&zn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(zn,"__esModule",{value:!0});zn.Action=void 0;var sL=xt(),uL=function(r){aL(e,r);function e(t,i){return r.call(this)||this}return e.prototype.schedule=function(t,i){return i===void 0&&(i=0),this},e}(sL.Subscription);zn.Action=uL});var Fb=_(pr=>{"use strict";var jb=pr&&pr.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},Ib=pr&&pr.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(pr,"__esModule",{value:!0});pr.intervalProvider=void 0;pr.intervalProvider={setInterval:function(r,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var n=pr.intervalProvider.delegate;return n?.setInterval?n.setInterval.apply(n,Ib([r,e],jb(t))):setInterval.apply(void 0,Ib([r,e],jb(t)))},clearInterval:function(r){var e=pr.intervalProvider.delegate;return(e?.clearInterval||clearInterval)(r)},delegate:void 0}});var Vn=_(Nn=>{"use strict";var cL=Nn&&Nn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.AsyncAction=void 0;var lL=Lb(),Db=Fb(),fL=Nr(),hL=function(r){cL(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.scheduler=t,n.work=i,n.pending=!1,n}return e.prototype.schedule=function(t,i){var n;if(i===void 0&&(i=0),this.closed)return this;this.state=t;var s=this.id,c=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(c,s,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(c,this.id,i),this},e.prototype.requestAsyncId=function(t,i,n){return n===void 0&&(n=0),Db.intervalProvider.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,i,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Db.intervalProvider.clearInterval(i)},e.prototype.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,i){var n=!1,s;try{this.work(t)}catch(c){n=!0,s=c||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,i=t.id,n=t.scheduler,s=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,fL.arrRemove(s,this),i!=null&&(this.id=this.recycleAsyncId(n,i,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(lL.Action);Nn.AsyncAction=hL});var Rb=_(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.TestTools=Wn.Immediate=void 0;var pL=1,Cp,tu={};function kb(r){return r in tu?(delete tu[r],!0):!1}Wn.Immediate={setImmediate:function(r){var e=pL++;return tu[e]=!0,Cp||(Cp=Promise.resolve()),Cp.then(function(){return kb(e)&&r()}),e},clearImmediate:function(r){kb(r)}};Wn.TestTools={pending:function(){return Object.keys(tu).length}}});var Nb=_(dr=>{"use strict";var dL=dr&&dr.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},vL=dr&&dr.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(dr,"__esModule",{value:!0});dr.immediateProvider=void 0;var zb=Rb(),mL=zb.Immediate.setImmediate,yL=zb.Immediate.clearImmediate;dr.immediateProvider={setImmediate:function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=dr.immediateProvider.delegate;return(t?.setImmediate||mL).apply(void 0,vL([],dL(r)))},clearImmediate:function(r){var e=dr.immediateProvider.delegate;return(e?.clearImmediate||yL)(r)},delegate:void 0}});var Wb=_(Un=>{"use strict";var gL=Un&&Un.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Un,"__esModule",{value:!0});Un.AsapAction=void 0;var bL=Vn(),Vb=Nb(),_L=function(r){gL(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.scheduler=t,n.work=i,n}return e.prototype.requestAsyncId=function(t,i,n){return n===void 0&&(n=0),n!==null&&n>0?r.prototype.requestAsyncId.call(this,t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=Vb.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},e.prototype.recycleAsyncId=function(t,i,n){var s;if(n===void 0&&(n=0),n!=null?n>0:this.delay>0)return r.prototype.recycleAsyncId.call(this,t,i,n);var c=t.actions;i!=null&&((s=c[c.length-1])===null||s===void 0?void 0:s.id)!==i&&(Vb.immediateProvider.clearImmediate(i),t._scheduled===i&&(t._scheduled=void 0))},e}(bL.AsyncAction);Un.AsapAction=_L});var Ap=_(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.Scheduler=void 0;var PL=Js(),wL=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,i){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},r.now=PL.dateTimestampProvider.now,r}();ru.Scheduler=wL});var Bn=_(Gn=>{"use strict";var OL=Gn&&Gn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Gn,"__esModule",{value:!0});Gn.AsyncScheduler=void 0;var Ub=Ap(),SL=function(r){OL(e,r);function e(t,i){i===void 0&&(i=Ub.Scheduler.now);var n=r.call(this,t,i)||this;return n.actions=[],n._active=!1,n}return e.prototype.flush=function(t){var i=this.actions;if(this._active){i.push(t);return}var n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=i.shift());if(this._active=!1,n){for(;t=i.shift();)t.unsubscribe();throw n}},e}(Ub.Scheduler);Gn.AsyncScheduler=SL});var Gb=_(Hn=>{"use strict";var TL=Hn&&Hn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.AsapScheduler=void 0;var CL=Bn(),AL=function(r){TL(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var n=this.actions,s;t=t||n.shift();do if(s=t.execute(t.state,t.delay))break;while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,s){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw s}},e}(CL.AsyncScheduler);Hn.AsapScheduler=AL});var Bb=_(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.asap=Ki.asapScheduler=void 0;var EL=Wb(),qL=Gb();Ki.asapScheduler=new qL.AsapScheduler(EL.AsapAction);Ki.asap=Ki.asapScheduler});var Pt=_(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.async=Xi.asyncScheduler=void 0;var ML=Vn(),xL=Bn();Xi.asyncScheduler=new xL.AsyncScheduler(ML.AsyncAction);Xi.async=Xi.asyncScheduler});var Hb=_($n=>{"use strict";var LL=$n&&$n.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty($n,"__esModule",{value:!0});$n.QueueAction=void 0;var jL=Vn(),IL=function(r){LL(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.scheduler=t,n.work=i,n}return e.prototype.schedule=function(t,i){return i===void 0&&(i=0),i>0?r.prototype.schedule.call(this,t,i):(this.delay=i,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,i){return i>0||this.closed?r.prototype.execute.call(this,t,i):this._execute(t,i)},e.prototype.requestAsyncId=function(t,i,n){return n===void 0&&(n=0),n!=null&&n>0||n==null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,i,n):(t.flush(this),0)},e}(jL.AsyncAction);$n.QueueAction=IL});var $b=_(Yn=>{"use strict";var FL=Yn&&Yn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.QueueScheduler=void 0;var DL=Bn(),kL=function(r){FL(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(DL.AsyncScheduler);Yn.QueueScheduler=kL});var Yb=_(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.queue=Ji.queueScheduler=void 0;var RL=Hb(),zL=$b();Ji.queueScheduler=new zL.QueueScheduler(RL.QueueAction);Ji.queue=Ji.queueScheduler});var Kb=_(Qn=>{"use strict";var NL=Qn&&Qn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.AnimationFrameAction=void 0;var VL=Vn(),Qb=_p(),WL=function(r){NL(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.scheduler=t,n.work=i,n}return e.prototype.requestAsyncId=function(t,i,n){return n===void 0&&(n=0),n!==null&&n>0?r.prototype.requestAsyncId.call(this,t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=Qb.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},e.prototype.recycleAsyncId=function(t,i,n){var s;if(n===void 0&&(n=0),n!=null?n>0:this.delay>0)return r.prototype.recycleAsyncId.call(this,t,i,n);var c=t.actions;i!=null&&((s=c[c.length-1])===null||s===void 0?void 0:s.id)!==i&&(Qb.animationFrameProvider.cancelAnimationFrame(i),t._scheduled=void 0)},e}(VL.AsyncAction);Qn.AnimationFrameAction=WL});var Xb=_(Kn=>{"use strict";var UL=Kn&&Kn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Kn,"__esModule",{value:!0});Kn.AnimationFrameScheduler=void 0;var GL=Bn(),BL=function(r){UL(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var n=this.actions,s;t=t||n.shift();do if(s=t.execute(t.state,t.delay))break;while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,s){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw s}},e}(GL.AsyncScheduler);Kn.AnimationFrameScheduler=BL});var Jb=_(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.animationFrame=Zi.animationFrameScheduler=void 0;var HL=Kb(),$L=Xb();Zi.animationFrameScheduler=new $L.AnimationFrameScheduler(HL.AnimationFrameAction);Zi.animationFrame=Zi.animationFrameScheduler});var t_=_(ci=>{"use strict";var Zb=ci&&ci.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(ci,"__esModule",{value:!0});ci.VirtualAction=ci.VirtualTimeScheduler=void 0;var YL=Vn(),QL=xt(),KL=Bn(),XL=function(r){Zb(e,r);function e(t,i){t===void 0&&(t=e_),i===void 0&&(i=1/0);var n=r.call(this,t,function(){return n.frame})||this;return n.maxFrames=i,n.frame=0,n.index=-1,n}return e.prototype.flush=function(){for(var t=this,i=t.actions,n=t.maxFrames,s,c;(c=i[0])&&c.delay<=n&&(i.shift(),this.frame=c.delay,!(s=c.execute(c.state,c.delay))););if(s){for(;c=i.shift();)c.unsubscribe();throw s}},e.frameTimeFactor=10,e}(KL.AsyncScheduler);ci.VirtualTimeScheduler=XL;var e_=function(r){Zb(e,r);function e(t,i,n){n===void 0&&(n=t.index+=1);var s=r.call(this,t,i)||this;return s.scheduler=t,s.work=i,s.index=n,s.active=!0,s.index=t.index=n,s}return e.prototype.schedule=function(t,i){if(i===void 0&&(i=0),Number.isFinite(i)){if(!this.id)return r.prototype.schedule.call(this,t,i);this.active=!1;var n=new e(this.scheduler,this.work);return this.add(n),n.schedule(t,i)}else return QL.Subscription.EMPTY},e.prototype.requestAsyncId=function(t,i,n){n===void 0&&(n=0),this.delay=t.frame+n;var s=t.actions;return s.push(this),s.sort(e.sortActions),1},e.prototype.recycleAsyncId=function(t,i,n){n===void 0&&(n=0)},e.prototype._execute=function(t,i){if(this.active===!0)return r.prototype._execute.call(this,t,i)},e.sortActions=function(t,i){return t.delay===i.delay?t.index===i.index?0:t.index>i.index?1:-1:t.delay>i.delay?1:-1},e}(YL.AsyncAction);ci.VirtualAction=e_});var er=_(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.empty=en.EMPTY=void 0;var r_=he();en.EMPTY=new r_.Observable(function(r){return r.complete()});function JL(r){return r?ZL(r):en.EMPTY}en.empty=JL;function ZL(r){return new r_.Observable(function(e){return r.schedule(function(){return e.complete()})})}});var ya=_(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.isScheduler=void 0;var ej=le();function tj(r){return r&&ej.isFunction(r.schedule)}iu.isScheduler=tj});var wt=_(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.popNumber=li.popScheduler=li.popResultSelector=void 0;var rj=le(),ij=ya();function Ep(r){return r[r.length-1]}function nj(r){return rj.isFunction(Ep(r))?r.pop():void 0}li.popResultSelector=nj;function oj(r){return ij.isScheduler(Ep(r))?r.pop():void 0}li.popScheduler=oj;function aj(r,e){return typeof Ep(r)=="number"?r.pop():e}li.popNumber=aj});var ou=_(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.isArrayLike=void 0;nu.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var qp=_(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.isPromise=void 0;var sj=le();function uj(r){return sj.isFunction(r?.then)}au.isPromise=uj});var Mp=_(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.isInteropObservable=void 0;var cj=ha(),lj=le();function fj(r){return lj.isFunction(r[cj.observable])}su.isInteropObservable=fj});var xp=_(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.isAsyncIterable=void 0;var hj=le();function pj(r){return Symbol.asyncIterator&&hj.isFunction(r?.[Symbol.asyncIterator])}uu.isAsyncIterable=pj});var Lp=_(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.createInvalidObservableTypeError=void 0;function dj(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}cu.createInvalidObservableTypeError=dj});var jp=_(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.iterator=Xn.getSymbolIterator=void 0;function i_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Xn.getSymbolIterator=i_;Xn.iterator=i_()});var Ip=_(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.isIterable=void 0;var vj=jp(),mj=le();function yj(r){return mj.isFunction(r?.[vj.iterator])}lu.isIterable=yj});var fu=_(Ut=>{"use strict";var gj=Ut&&Ut.__generator||function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(v){return h([p,v])}}function h(p){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=p[0]&2?n.return:p[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,p[1])).done)return s;switch(n=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,n=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){t.label=p[1];break}if(p[0]===6&&t.label<s[1]){t.label=s[1],s=p;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(p);break}s[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(v){p=[6,v],n=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Jn=Ut&&Ut.__await||function(r){return this instanceof Jn?(this.v=r,this):new Jn(r)},bj=Ut&&Ut.__asyncGenerator||function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,s=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(w){i[w]&&(n[w]=function(T){return new Promise(function(E,M){s.push([w,T,E,M])>1||l(w,T)})})}function l(w,T){try{h(i[w](T))}catch(E){b(s[0][3],E)}}function h(w){w.value instanceof Jn?Promise.resolve(w.value.v).then(p,v):b(s[0][2],w)}function p(w){l("next",w)}function v(w){l("throw",w)}function b(w,T){w(T),s.shift(),s.length&&l(s[0][0],s[0][1])}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.isReadableStreamLike=Ut.readableStreamLikeToAsyncGenerator=void 0;var _j=le();function Pj(r){return bj(this,arguments,function(){var t,i,n,s;return gj(this,function(c){switch(c.label){case 0:t=r.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,Jn(t.read())];case 3:return i=c.sent(),n=i.value,s=i.done,s?[4,Jn(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,Jn(n)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}Ut.readableStreamLikeToAsyncGenerator=Pj;function wj(r){return _j.isFunction(r?.getReader)}Ut.isReadableStreamLike=wj});var X=_(be=>{"use strict";var Oj=be&&be.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function l(v){try{p(i.next(v))}catch(b){c(b)}}function h(v){try{p(i.throw(v))}catch(b){c(b)}}function p(v){v.done?s(v.value):n(v.value).then(l,h)}p((i=i.apply(r,e||[])).next())})},Sj=be&&be.__generator||function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(v){return h([p,v])}}function h(p){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=p[0]&2?n.return:p[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,p[1])).done)return s;switch(n=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,n=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){t.label=p[1];break}if(p[0]===6&&t.label<s[1]){t.label=s[1],s=p;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(p);break}s[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(v){p=[6,v],n=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Tj=be&&be.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Fp=="function"?Fp(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(c){return new Promise(function(l,h){c=r[s](c),n(l,h,c.done,c.value)})}}function n(s,c,l,h){Promise.resolve(h).then(function(p){s({value:p,done:l})},c)}},Fp=be&&be.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(be,"__esModule",{value:!0});be.fromReadableStreamLike=be.fromAsyncIterable=be.fromIterable=be.fromPromise=be.fromArrayLike=be.fromInteropObservable=be.innerFrom=void 0;var Cj=ou(),Aj=qp(),Zn=he(),Ej=Mp(),qj=xp(),Mj=Lp(),xj=Ip(),n_=fu(),Lj=le(),jj=pp(),Ij=ha();function Fj(r){if(r instanceof Zn.Observable)return r;if(r!=null){if(Ej.isInteropObservable(r))return o_(r);if(Cj.isArrayLike(r))return a_(r);if(Aj.isPromise(r))return s_(r);if(qj.isAsyncIterable(r))return Dp(r);if(xj.isIterable(r))return u_(r);if(n_.isReadableStreamLike(r))return c_(r)}throw Mj.createInvalidObservableTypeError(r)}be.innerFrom=Fj;function o_(r){return new Zn.Observable(function(e){var t=r[Ij.observable]();if(Lj.isFunction(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}be.fromInteropObservable=o_;function a_(r){return new Zn.Observable(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}be.fromArrayLike=a_;function s_(r){return new Zn.Observable(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,jj.reportUnhandledError)})}be.fromPromise=s_;function u_(r){return new Zn.Observable(function(e){var t,i;try{for(var n=Fp(r),s=n.next();!s.done;s=n.next()){var c=s.value;if(e.next(c),e.closed)return}}catch(l){t={error:l}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}e.complete()})}be.fromIterable=u_;function Dp(r){return new Zn.Observable(function(e){Dj(r,e).catch(function(t){return e.error(t)})})}be.fromAsyncIterable=Dp;function c_(r){return Dp(n_.readableStreamLikeToAsyncGenerator(r))}be.fromReadableStreamLike=c_;function Dj(r,e){var t,i,n,s;return Oj(this,void 0,void 0,function(){var c,l;return Sj(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),t=Tj(r),h.label=1;case 1:return[4,t.next()];case 2:if(i=h.sent(),!!i.done)return[3,4];if(c=i.value,e.next(c),e.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=h.sent(),n={error:l},[3,11];case 6:return h.trys.push([6,,9,10]),i&&!i.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}});var Vr=_(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.executeSchedule=void 0;function kj(r,e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var s=e.schedule(function(){t(),n?r.add(this.schedule(null,i)):this.unsubscribe()},i);if(r.add(s),!n)return s}hu.executeSchedule=kj});var eo=_(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.observeOn=void 0;var kp=Vr(),Rj=z(),zj=U();function Nj(r,e){return e===void 0&&(e=0),Rj.operate(function(t,i){t.subscribe(zj.createOperatorSubscriber(i,function(n){return kp.executeSchedule(i,r,function(){return i.next(n)},e)},function(){return kp.executeSchedule(i,r,function(){return i.complete()},e)},function(n){return kp.executeSchedule(i,r,function(){return i.error(n)},e)}))})}pu.observeOn=Nj});var to=_(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.subscribeOn=void 0;var Vj=z();function Wj(r,e){return e===void 0&&(e=0),Vj.operate(function(t,i){i.add(r.schedule(function(){return t.subscribe(i)},e))})}du.subscribeOn=Wj});var l_=_(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.scheduleObservable=void 0;var Uj=X(),Gj=eo(),Bj=to();function Hj(r,e){return Uj.innerFrom(r).pipe(Bj.subscribeOn(e),Gj.observeOn(e))}vu.scheduleObservable=Hj});var f_=_(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.schedulePromise=void 0;var $j=X(),Yj=eo(),Qj=to();function Kj(r,e){return $j.innerFrom(r).pipe(Qj.subscribeOn(e),Yj.observeOn(e))}mu.schedulePromise=Kj});var h_=_(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.scheduleArray=void 0;var Xj=he();function Jj(r,e){return new Xj.Observable(function(t){var i=0;return e.schedule(function(){i===r.length?t.complete():(t.next(r[i++]),t.closed||this.schedule())})})}yu.scheduleArray=Jj});var Rp=_(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.scheduleIterable=void 0;var Zj=he(),eI=jp(),tI=le(),p_=Vr();function rI(r,e){return new Zj.Observable(function(t){var i;return p_.executeSchedule(t,e,function(){i=r[eI.iterator](),p_.executeSchedule(t,e,function(){var n,s,c;try{n=i.next(),s=n.value,c=n.done}catch(l){t.error(l);return}c?t.complete():t.next(s)},0,!0)}),function(){return tI.isFunction(i?.return)&&i.return()}})}gu.scheduleIterable=rI});var zp=_(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.scheduleAsyncIterable=void 0;var iI=he(),d_=Vr();function nI(r,e){if(!r)throw new Error("Iterable cannot be null");return new iI.Observable(function(t){d_.executeSchedule(t,e,function(){var i=r[Symbol.asyncIterator]();d_.executeSchedule(t,e,function(){i.next().then(function(n){n.done?t.complete():t.next(n.value)})},0,!0)})})}bu.scheduleAsyncIterable=nI});var v_=_(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.scheduleReadableStreamLike=void 0;var oI=zp(),aI=fu();function sI(r,e){return oI.scheduleAsyncIterable(aI.readableStreamLikeToAsyncGenerator(r),e)}_u.scheduleReadableStreamLike=sI});var Np=_(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.scheduled=void 0;var uI=l_(),cI=f_(),lI=h_(),fI=Rp(),hI=zp(),pI=Mp(),dI=qp(),vI=ou(),mI=Ip(),yI=xp(),gI=Lp(),bI=fu(),_I=v_();function PI(r,e){if(r!=null){if(pI.isInteropObservable(r))return uI.scheduleObservable(r,e);if(vI.isArrayLike(r))return lI.scheduleArray(r,e);if(dI.isPromise(r))return cI.schedulePromise(r,e);if(yI.isAsyncIterable(r))return hI.scheduleAsyncIterable(r,e);if(mI.isIterable(r))return fI.scheduleIterable(r,e);if(bI.isReadableStreamLike(r))return _I.scheduleReadableStreamLike(r,e)}throw gI.createInvalidObservableTypeError(r)}Pu.scheduled=PI});var Wr=_(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.from=void 0;var wI=Np(),OI=X();function SI(r,e){return e?wI.scheduled(r,e):OI.innerFrom(r)}wu.from=SI});var Su=_(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.of=void 0;var TI=wt(),CI=Wr();function AI(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=TI.popScheduler(r);return CI.from(r,t)}Ou.of=AI});var Vp=_(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.throwError=void 0;var EI=he(),qI=le();function MI(r,e){var t=qI.isFunction(r)?r:function(){return r},i=function(n){return n.error(t())};return new EI.Observable(e?function(n){return e.schedule(i,0,n)}:i)}Tu.throwError=MI});var Cu=_(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.observeNotification=Ur.Notification=Ur.NotificationKind=void 0;var xI=er(),LI=Su(),jI=Vp(),II=le(),FI;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(FI=Ur.NotificationKind||(Ur.NotificationKind={}));var DI=function(){function r(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue=e==="N"}return r.prototype.observe=function(e){return m_(this,e)},r.prototype.do=function(e,t,i){var n=this,s=n.kind,c=n.value,l=n.error;return s==="N"?e?.(c):s==="E"?t?.(l):i?.()},r.prototype.accept=function(e,t,i){var n;return II.isFunction((n=e)===null||n===void 0?void 0:n.next)?this.observe(e):this.do(e,t,i)},r.prototype.toObservable=function(){var e=this,t=e.kind,i=e.value,n=e.error,s=t==="N"?LI.of(i):t==="E"?jI.throwError(function(){return n}):t==="C"?xI.EMPTY:0;if(!s)throw new TypeError("Unexpected notification kind "+t);return s},r.createNext=function(e){return new r("N",e)},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r}();Ur.Notification=DI;function m_(r,e){var t,i,n,s=r,c=s.kind,l=s.value,h=s.error;if(typeof c!="string")throw new TypeError('Invalid notification, missing "kind"');c==="N"?(t=e.next)===null||t===void 0||t.call(e,l):c==="E"?(i=e.error)===null||i===void 0||i.call(e,h):(n=e.complete)===null||n===void 0||n.call(e)}Ur.observeNotification=m_});var g_=_(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.isObservable=void 0;var kI=he(),y_=le();function RI(r){return!!r&&(r instanceof kI.Observable||y_.isFunction(r.lift)&&y_.isFunction(r.subscribe))}Au.isObservable=RI});var fi=_(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.EmptyError=void 0;var zI=si();Eu.EmptyError=zI.createErrorClass(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}})});var b_=_(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.lastValueFrom=void 0;var NI=fi();function VI(r,e){var t=typeof e=="object";return new Promise(function(i,n){var s=!1,c;r.subscribe({next:function(l){c=l,s=!0},error:n,complete:function(){s?i(c):t?i(e.defaultValue):n(new NI.EmptyError)}})})}qu.lastValueFrom=VI});var __=_(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.firstValueFrom=void 0;var WI=fi(),UI=Ln();function GI(r,e){var t=typeof e=="object";return new Promise(function(i,n){var s=new UI.SafeSubscriber({next:function(c){i(c),s.unsubscribe()},error:n,complete:function(){t?i(e.defaultValue):n(new WI.EmptyError)}});r.subscribe(s)})}Mu.firstValueFrom=GI});var Wp=_(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.ArgumentOutOfRangeError=void 0;var BI=si();xu.ArgumentOutOfRangeError=BI.createErrorClass(function(r){return function(){r(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var Up=_(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.NotFoundError=void 0;var HI=si();Lu.NotFoundError=HI.createErrorClass(function(r){return function(t){r(this),this.name="NotFoundError",this.message=t}})});var Gp=_(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.SequenceError=void 0;var $I=si();ju.SequenceError=$I.createErrorClass(function(r){return function(t){r(this),this.name="SequenceError",this.message=t}})});var Fu=_(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.isValidDate=void 0;function YI(r){return r instanceof Date&&!isNaN(r)}Iu.isValidDate=YI});var ga=_(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.timeout=tn.TimeoutError=void 0;var QI=Pt(),KI=Fu(),XI=z(),JI=X(),ZI=si(),eF=U(),tF=Vr();tn.TimeoutError=ZI.createErrorClass(function(r){return function(t){t===void 0&&(t=null),r(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function rF(r,e){var t=KI.isValidDate(r)?{first:r}:typeof r=="number"?{each:r}:r,i=t.first,n=t.each,s=t.with,c=s===void 0?iF:s,l=t.scheduler,h=l===void 0?e??QI.asyncScheduler:l,p=t.meta,v=p===void 0?null:p;if(i==null&&n==null)throw new TypeError("No timeout provided.");return XI.operate(function(b,w){var T,E,M=null,L=0,D=function(N){E=tF.executeSchedule(w,h,function(){try{T.unsubscribe(),JI.innerFrom(c({meta:v,lastValue:M,seen:L})).subscribe(w)}catch(Y){w.error(Y)}},N)};T=b.subscribe(eF.createOperatorSubscriber(w,function(N){E?.unsubscribe(),L++,w.next(M=N),n>0&&D(n)},void 0,void 0,function(){E?.closed||E?.unsubscribe(),M=null})),!L&&D(i!=null?typeof i=="number"?i:+i-h.now():n)})}tn.timeout=rF;function iF(r){throw new tn.TimeoutError(r)}});var Gr=_(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.map=void 0;var nF=z(),oF=U();function aF(r,e){return nF.operate(function(t,i){var n=0;t.subscribe(oF.createOperatorSubscriber(i,function(s){i.next(r.call(e,s,n++))}))})}Du.map=aF});var pi=_(hi=>{"use strict";var sF=hi&&hi.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},uF=hi&&hi.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(hi,"__esModule",{value:!0});hi.mapOneOrManyArgs=void 0;var cF=Gr(),lF=Array.isArray;function fF(r,e){return lF(e)?r.apply(void 0,uF([],sF(e))):r(e)}function hF(r){return cF.map(function(e){return fF(r,e)})}hi.mapOneOrManyArgs=hF});var Hp=_(di=>{"use strict";var pF=di&&di.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},P_=di&&di.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(di,"__esModule",{value:!0});di.bindCallbackInternals=void 0;var dF=ya(),vF=he(),mF=to(),yF=pi(),gF=eo(),bF=eu();function Bp(r,e,t,i){if(t)if(dF.isScheduler(t))i=t;else return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return Bp(r,e,i).apply(this,n).pipe(yF.mapOneOrManyArgs(t))};return i?function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return Bp(r,e).apply(this,n).pipe(mF.subscribeOn(i),gF.observeOn(i))}:function(){for(var n=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var l=new bF.AsyncSubject,h=!0;return new vF.Observable(function(p){var v=l.subscribe(p);if(h){h=!1;var b=!1,w=!1;e.apply(n,P_(P_([],pF(s)),[function(){for(var T=[],E=0;E<arguments.length;E++)T[E]=arguments[E];if(r){var M=T.shift();if(M!=null){l.error(M);return}}l.next(1<T.length?T:T[0]),w=!0,b&&l.complete()}])),w&&l.complete(),b=!0}return v})}}di.bindCallbackInternals=Bp});var w_=_(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.bindCallback=void 0;var _F=Hp();function PF(r,e,t){return _F.bindCallbackInternals(!1,r,e,t)}ku.bindCallback=PF});var O_=_(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.bindNodeCallback=void 0;var wF=Hp();function OF(r,e,t){return wF.bindCallbackInternals(!0,r,e,t)}Ru.bindNodeCallback=OF});var $p=_(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.argsArgArrayOrObject=void 0;var SF=Array.isArray,TF=Object.getPrototypeOf,CF=Object.prototype,AF=Object.keys;function EF(r){if(r.length===1){var e=r[0];if(SF(e))return{args:e,keys:null};if(qF(e)){var t=AF(e);return{args:t.map(function(i){return e[i]}),keys:t}}}return{args:r,keys:null}}zu.argsArgArrayOrObject=EF;function qF(r){return r&&typeof r=="object"&&TF(r)===CF}});var Yp=_(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.createObject=void 0;function MF(r,e){return r.reduce(function(t,i,n){return t[i]=e[n],t},{})}Nu.createObject=MF});var Vu=_(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.combineLatestInit=ro.combineLatest=void 0;var xF=he(),LF=$p(),C_=Wr(),A_=Ke(),jF=pi(),S_=wt(),IF=Yp(),FF=U(),DF=Vr();function kF(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=S_.popScheduler(r),i=S_.popResultSelector(r),n=LF.argsArgArrayOrObject(r),s=n.args,c=n.keys;if(s.length===0)return C_.from([],t);var l=new xF.Observable(E_(s,t,c?function(h){return IF.createObject(c,h)}:A_.identity));return i?l.pipe(jF.mapOneOrManyArgs(i)):l}ro.combineLatest=kF;function E_(r,e,t){return t===void 0&&(t=A_.identity),function(i){T_(e,function(){for(var n=r.length,s=new Array(n),c=n,l=n,h=function(v){T_(e,function(){var b=C_.from(r[v],e),w=!1;b.subscribe(FF.createOperatorSubscriber(i,function(T){s[v]=T,w||(w=!0,l--),l||i.next(t(s.slice()))},function(){--c||i.complete()}))},i)},p=0;p<n;p++)h(p)},i)}}ro.combineLatestInit=E_;function T_(r,e,t){r?DF.executeSchedule(t,r,e):e()}});var Uu=_(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.mergeInternals=void 0;var RF=X(),zF=Vr(),q_=U();function NF(r,e,t,i,n,s,c,l){var h=[],p=0,v=0,b=!1,w=function(){b&&!h.length&&!p&&e.complete()},T=function(M){return p<i?E(M):h.push(M)},E=function(M){s&&e.next(M),p++;var L=!1;RF.innerFrom(t(M,v++)).subscribe(q_.createOperatorSubscriber(e,function(D){n?.(D),s?T(D):e.next(D)},function(){L=!0},void 0,function(){if(L)try{p--;for(var D=function(){var N=h.shift();c?zF.executeSchedule(e,c,function(){return E(N)}):E(N)};h.length&&p<i;)D();w()}catch(N){e.error(N)}}))};return r.subscribe(q_.createOperatorSubscriber(e,T,function(){b=!0,w()})),function(){l?.()}}Wu.mergeInternals=NF});var vr=_(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.mergeMap=void 0;var VF=Gr(),WF=X(),UF=z(),GF=Uu(),BF=le();function M_(r,e,t){return t===void 0&&(t=1/0),BF.isFunction(e)?M_(function(i,n){return VF.map(function(s,c){return e(i,s,n,c)})(WF.innerFrom(r(i,n)))},t):(typeof e=="number"&&(t=e),UF.operate(function(i,n){return GF.mergeInternals(i,n,r,t)}))}Gu.mergeMap=M_});var io=_(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.mergeAll=void 0;var HF=vr(),$F=Ke();function YF(r){return r===void 0&&(r=1/0),HF.mergeMap($F.identity,r)}Bu.mergeAll=YF});var ba=_(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.concatAll=void 0;var QF=io();function KF(){return QF.mergeAll(1)}Hu.concatAll=KF});var _a=_($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.concat=void 0;var XF=ba(),JF=wt(),ZF=Wr();function eD(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return XF.concatAll()(ZF.from(r,JF.popScheduler(r)))}$u.concat=eD});var Pa=_(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.defer=void 0;var tD=he(),rD=X();function iD(r){return new tD.Observable(function(e){rD.innerFrom(r()).subscribe(e)})}Yu.defer=iD});var x_=_(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.connectable=void 0;var nD=Xe(),oD=he(),aD=Pa(),sD={connector:function(){return new nD.Subject},resetOnDisconnect:!0};function uD(r,e){e===void 0&&(e=sD);var t=null,i=e.connector,n=e.resetOnDisconnect,s=n===void 0?!0:n,c=i(),l=new oD.Observable(function(h){return c.subscribe(h)});return l.connect=function(){return(!t||t.closed)&&(t=aD.defer(function(){return r}).subscribe(c),s&&t.add(function(){return c=i()})),t},l}Qu.connectable=uD});var L_=_(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.forkJoin=void 0;var cD=he(),lD=$p(),fD=X(),hD=wt(),pD=U(),dD=pi(),vD=Yp();function mD(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=hD.popResultSelector(r),i=lD.argsArgArrayOrObject(r),n=i.args,s=i.keys,c=new cD.Observable(function(l){var h=n.length;if(!h){l.complete();return}for(var p=new Array(h),v=h,b=h,w=function(E){var M=!1;fD.innerFrom(n[E]).subscribe(pD.createOperatorSubscriber(l,function(L){M||(M=!0,b--),p[E]=L},function(){return v--},void 0,function(){(!v||!M)&&(b||l.next(s?vD.createObject(s,p):p),l.complete())}))},T=0;T<h;T++)w(T)});return t?c.pipe(dD.mapOneOrManyArgs(t)):c}Ku.forkJoin=mD});var I_=_(no=>{"use strict";var yD=no&&no.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s};Object.defineProperty(no,"__esModule",{value:!0});no.fromEvent=void 0;var gD=X(),bD=he(),_D=vr(),PD=ou(),rn=le(),wD=pi(),OD=["addListener","removeListener"],SD=["addEventListener","removeEventListener"],TD=["on","off"];function Qp(r,e,t,i){if(rn.isFunction(t)&&(i=t,t=void 0),i)return Qp(r,e,t).pipe(wD.mapOneOrManyArgs(i));var n=yD(ED(r)?SD.map(function(l){return function(h){return r[l](e,h,t)}}):CD(r)?OD.map(j_(r,e)):AD(r)?TD.map(j_(r,e)):[],2),s=n[0],c=n[1];if(!s&&PD.isArrayLike(r))return _D.mergeMap(function(l){return Qp(l,e,t)})(gD.innerFrom(r));if(!s)throw new TypeError("Invalid event target");return new bD.Observable(function(l){var h=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return l.next(1<p.length?p:p[0])};return s(h),function(){return c(h)}})}no.fromEvent=Qp;function j_(r,e){return function(t){return function(i){return r[t](e,i)}}}function CD(r){return rn.isFunction(r.addListener)&&rn.isFunction(r.removeListener)}function AD(r){return rn.isFunction(r.on)&&rn.isFunction(r.off)}function ED(r){return rn.isFunction(r.addEventListener)&&rn.isFunction(r.removeEventListener)}});var D_=_(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.fromEventPattern=void 0;var qD=he(),MD=le(),xD=pi();function F_(r,e,t){return t?F_(r,e).pipe(xD.mapOneOrManyArgs(t)):new qD.Observable(function(i){var n=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return i.next(c.length===1?c[0]:c)},s=r(n);return MD.isFunction(e)?function(){return e(n,s)}:void 0})}Xu.fromEventPattern=F_});var R_=_(oo=>{"use strict";var LD=oo&&oo.__generator||function(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(v){return h([p,v])}}function h(p){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=p[0]&2?n.return:p[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,p[1])).done)return s;switch(n=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,n=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){t.label=p[1];break}if(p[0]===6&&t.label<s[1]){t.label=s[1],s=p;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(p);break}s[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(r,t)}catch(v){p=[6,v],n=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(oo,"__esModule",{value:!0});oo.generate=void 0;var k_=Ke(),jD=ya(),ID=Pa(),FD=Rp();function DD(r,e,t,i,n){var s,c,l,h;arguments.length===1?(s=r,h=s.initialState,e=s.condition,t=s.iterate,c=s.resultSelector,l=c===void 0?k_.identity:c,n=s.scheduler):(h=r,!i||jD.isScheduler(i)?(l=k_.identity,n=i):l=i);function p(){var v;return LD(this,function(b){switch(b.label){case 0:v=h,b.label=1;case 1:return!e||e(v)?[4,l(v)]:[3,4];case 2:b.sent(),b.label=3;case 3:return v=t(v),[3,1];case 4:return[2]}})}return ID.defer(n?function(){return FD.scheduleIterable(p(),n)}:p)}oo.generate=DD});var z_=_(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.iif=void 0;var kD=Pa();function RD(r,e,t){return kD.defer(function(){return r()?e:t})}Ju.iif=RD});var vi=_(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.timer=void 0;var zD=he(),ND=Pt(),VD=ya(),WD=Fu();function UD(r,e,t){r===void 0&&(r=0),t===void 0&&(t=ND.async);var i=-1;return e!=null&&(VD.isScheduler(e)?t=e:i=e),new zD.Observable(function(n){var s=WD.isValidDate(r)?+r-t.now():r;s<0&&(s=0);var c=0;return t.schedule(function(){n.closed||(n.next(c++),0<=i?this.schedule(void 0,i):n.complete())},s)})}Zu.timer=UD});var Kp=_(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.interval=void 0;var GD=Pt(),BD=vi();function HD(r,e){return r===void 0&&(r=0),e===void 0&&(e=GD.asyncScheduler),r<0&&(r=0),BD.timer(r,r,e)}ec.interval=HD});var V_=_(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.merge=void 0;var $D=io(),YD=X(),QD=er(),N_=wt(),KD=Wr();function XD(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=N_.popScheduler(r),i=N_.popNumber(r,1/0),n=r;return n.length?n.length===1?YD.innerFrom(n[0]):$D.mergeAll(i)(KD.from(n,t)):QD.EMPTY}tc.merge=XD});var Xp=_(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.never=nn.NEVER=void 0;var JD=he(),ZD=Qe();nn.NEVER=new JD.Observable(ZD.noop);function ek(){return nn.NEVER}nn.never=ek});var mi=_(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.argsOrArgArray=void 0;var tk=Array.isArray;function rk(r){return r.length===1&&tk(r[0])?r[0]:r}rc.argsOrArgArray=rk});var Jp=_(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.onErrorResumeNext=void 0;var ik=he(),nk=mi(),ok=U(),W_=Qe(),ak=X();function sk(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=nk.argsOrArgArray(r);return new ik.Observable(function(i){var n=0,s=function(){if(n<t.length){var c=void 0;try{c=ak.innerFrom(t[n++])}catch{s();return}var l=new ok.OperatorSubscriber(i,void 0,W_.noop,W_.noop);c.subscribe(l),l.add(s)}else i.complete()};s()})}ic.onErrorResumeNext=sk});var U_=_(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.pairs=void 0;var uk=Wr();function ck(r,e){return uk.from(Object.entries(r),e)}nc.pairs=ck});var Zp=_(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.not=void 0;function lk(r,e){return function(t,i){return!r.call(e,t,i)}}oc.not=lk});var Br=_(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.filter=void 0;var fk=z(),hk=U();function pk(r,e){return fk.operate(function(t,i){var n=0;t.subscribe(hk.createOperatorSubscriber(i,function(s){return r.call(e,s,n++)&&i.next(s)}))})}ac.filter=pk});var H_=_(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.partition=void 0;var dk=Zp(),G_=Br(),B_=X();function vk(r,e,t){return[G_.filter(e,t)(B_.innerFrom(r)),G_.filter(dk.not(e,t))(B_.innerFrom(r))]}sc.partition=vk});var ed=_(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.raceInit=ao.race=void 0;var mk=he(),$_=X(),yk=mi(),gk=U();function bk(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r=yk.argsOrArgArray(r),r.length===1?$_.innerFrom(r[0]):new mk.Observable(Y_(r))}ao.race=bk;function Y_(r){return function(e){for(var t=[],i=function(s){t.push($_.innerFrom(r[s]).subscribe(gk.createOperatorSubscriber(e,function(c){if(t){for(var l=0;l<t.length;l++)l!==s&&t[l].unsubscribe();t=null}e.next(c)})))},n=0;t&&!e.closed&&n<r.length;n++)i(n)}}ao.raceInit=Y_});var Q_=_(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.range=void 0;var _k=he(),Pk=er();function wk(r,e,t){if(e==null&&(e=r,r=0),e<=0)return Pk.EMPTY;var i=e+r;return new _k.Observable(t?function(n){var s=r;return t.schedule(function(){s<i?(n.next(s++),this.schedule()):n.complete()})}:function(n){for(var s=r;s<i&&!n.closed;)n.next(s++);n.complete()})}uc.range=wk});var K_=_(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.using=void 0;var Ok=he(),Sk=X(),Tk=er();function Ck(r,e){return new Ok.Observable(function(t){var i=r(),n=e(i),s=n?Sk.innerFrom(n):Tk.EMPTY;return s.subscribe(t),function(){i&&i.unsubscribe()}})}cc.using=Ck});var lc=_(yi=>{"use strict";var Ak=yi&&yi.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},Ek=yi&&yi.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(yi,"__esModule",{value:!0});yi.zip=void 0;var qk=he(),Mk=X(),xk=mi(),Lk=er(),jk=U(),Ik=wt();function Fk(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Ik.popResultSelector(r),i=xk.argsOrArgArray(r);return i.length?new qk.Observable(function(n){var s=i.map(function(){return[]}),c=i.map(function(){return!1});n.add(function(){s=c=null});for(var l=function(p){Mk.innerFrom(i[p]).subscribe(jk.createOperatorSubscriber(n,function(v){if(s[p].push(v),s.every(function(w){return w.length})){var b=s.map(function(w){return w.shift()});n.next(t?t.apply(void 0,Ek([],Ak(b))):b),s.some(function(w,T){return!w.length&&c[T]})&&n.complete()}},function(){c[p]=!0,!s[p].length&&n.complete()}))},h=0;!n.closed&&h<i.length;h++)l(h);return function(){s=c=null}}):Lk.EMPTY}yi.zip=Fk});var J_=_(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0})});var hc=_(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.audit=void 0;var Dk=z(),kk=X(),Z_=U();function Rk(r){return Dk.operate(function(e,t){var i=!1,n=null,s=null,c=!1,l=function(){if(s?.unsubscribe(),s=null,i){i=!1;var p=n;n=null,t.next(p)}c&&t.complete()},h=function(){s=null,c&&t.complete()};e.subscribe(Z_.createOperatorSubscriber(t,function(p){i=!0,n=p,s||kk.innerFrom(r(p)).subscribe(s=Z_.createOperatorSubscriber(t,l,h))},function(){c=!0,(!i||!s||s.closed)&&t.complete()}))})}fc.audit=Rk});var td=_(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.auditTime=void 0;var zk=Pt(),Nk=hc(),Vk=vi();function Wk(r,e){return e===void 0&&(e=zk.asyncScheduler),Nk.audit(function(){return Vk.timer(r,e)})}pc.auditTime=Wk});var rd=_(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.buffer=void 0;var Uk=z(),Gk=Qe(),e0=U(),Bk=X();function Hk(r){return Uk.operate(function(e,t){var i=[];return e.subscribe(e0.createOperatorSubscriber(t,function(n){return i.push(n)},function(){t.next(i),t.complete()})),Bk.innerFrom(r).subscribe(e0.createOperatorSubscriber(t,function(){var n=i;i=[],t.next(n)},Gk.noop)),function(){i=null}})}dc.buffer=Hk});var nd=_(so=>{"use strict";var id=so&&so.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(so,"__esModule",{value:!0});so.bufferCount=void 0;var $k=z(),Yk=U(),Qk=Nr();function Kk(r,e){return e===void 0&&(e=null),e=e??r,$k.operate(function(t,i){var n=[],s=0;t.subscribe(Yk.createOperatorSubscriber(i,function(c){var l,h,p,v,b=null;s++%e===0&&n.push([]);try{for(var w=id(n),T=w.next();!T.done;T=w.next()){var E=T.value;E.push(c),r<=E.length&&(b=b??[],b.push(E))}}catch(D){l={error:D}}finally{try{T&&!T.done&&(h=w.return)&&h.call(w)}finally{if(l)throw l.error}}if(b)try{for(var M=id(b),L=M.next();!L.done;L=M.next()){var E=L.value;Qk.arrRemove(n,E),i.next(E)}}catch(D){p={error:D}}finally{try{L&&!L.done&&(v=M.return)&&v.call(M)}finally{if(p)throw p.error}}},function(){var c,l;try{for(var h=id(n),p=h.next();!p.done;p=h.next()){var v=p.value;i.next(v)}}catch(b){c={error:b}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(c)throw c.error}}i.complete()},void 0,function(){n=null}))})}so.bufferCount=Kk});var od=_(uo=>{"use strict";var Xk=uo&&uo.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(uo,"__esModule",{value:!0});uo.bufferTime=void 0;var Jk=xt(),Zk=z(),eR=U(),tR=Nr(),rR=Pt(),iR=wt(),t0=Vr();function nR(r){for(var e,t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var s=(e=iR.popScheduler(i))!==null&&e!==void 0?e:rR.asyncScheduler,c=(t=i[0])!==null&&t!==void 0?t:null,l=i[1]||1/0;return Zk.operate(function(h,p){var v=[],b=!1,w=function(M){var L=M.buffer,D=M.subs;D.unsubscribe(),tR.arrRemove(v,M),p.next(L),b&&T()},T=function(){if(v){var M=new Jk.Subscription;p.add(M);var L=[],D={buffer:L,subs:M};v.push(D),t0.executeSchedule(M,s,function(){return w(D)},r)}};c!==null&&c>=0?t0.executeSchedule(p,s,T,c,!0):b=!0,T();var E=eR.createOperatorSubscriber(p,function(M){var L,D,N=v.slice();try{for(var Y=Xk(N),ie=Y.next();!ie.done;ie=Y.next()){var pe=ie.value,Fe=pe.buffer;Fe.push(M),l<=Fe.length&&w(pe)}}catch(pt){L={error:pt}}finally{try{ie&&!ie.done&&(D=Y.return)&&D.call(Y)}finally{if(L)throw L.error}}},function(){for(;v?.length;)p.next(v.shift().buffer);E?.unsubscribe(),p.complete(),p.unsubscribe()},void 0,function(){return v=null});h.subscribe(E)})}uo.bufferTime=nR});var sd=_(co=>{"use strict";var oR=co&&co.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(co,"__esModule",{value:!0});co.bufferToggle=void 0;var aR=xt(),sR=z(),r0=X(),ad=U(),i0=Qe(),uR=Nr();function cR(r,e){return sR.operate(function(t,i){var n=[];r0.innerFrom(r).subscribe(ad.createOperatorSubscriber(i,function(s){var c=[];n.push(c);var l=new aR.Subscription,h=function(){uR.arrRemove(n,c),i.next(c),l.unsubscribe()};l.add(r0.innerFrom(e(s)).subscribe(ad.createOperatorSubscriber(i,h,i0.noop)))},i0.noop)),t.subscribe(ad.createOperatorSubscriber(i,function(s){var c,l;try{for(var h=oR(n),p=h.next();!p.done;p=h.next()){var v=p.value;v.push(s)}}catch(b){c={error:b}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(c)throw c.error}}},function(){for(;n.length>0;)i.next(n.shift());i.complete()}))})}co.bufferToggle=cR});var ud=_(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.bufferWhen=void 0;var lR=z(),fR=Qe(),n0=U(),hR=X();function pR(r){return lR.operate(function(e,t){var i=null,n=null,s=function(){n?.unsubscribe();var c=i;i=[],c&&t.next(c),hR.innerFrom(r()).subscribe(n=n0.createOperatorSubscriber(t,s,fR.noop))};s(),e.subscribe(n0.createOperatorSubscriber(t,function(c){return i?.push(c)},function(){i&&t.next(i),t.complete()},void 0,function(){return i=n=null}))})}vc.bufferWhen=pR});var cd=_(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.catchError=void 0;var dR=X(),vR=U(),mR=z();function o0(r){return mR.operate(function(e,t){var i=null,n=!1,s;i=e.subscribe(vR.createOperatorSubscriber(t,void 0,void 0,function(c){s=dR.innerFrom(r(c,o0(r)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):n=!0})),n&&(i.unsubscribe(),i=null,s.subscribe(t))})}mc.catchError=o0});var ld=_(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.scanInternals=void 0;var yR=U();function gR(r,e,t,i,n){return function(s,c){var l=t,h=e,p=0;s.subscribe(yR.createOperatorSubscriber(c,function(v){var b=p++;h=l?r(h,v,b):(l=!0,v),i&&c.next(h)},n&&function(){l&&c.next(h),c.complete()}))}}yc.scanInternals=gR});var on=_(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.reduce=void 0;var bR=ld(),_R=z();function PR(r,e){return _R.operate(bR.scanInternals(r,e,arguments.length>=2,!1,!0))}gc.reduce=PR});var _c=_(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.toArray=void 0;var wR=on(),OR=z(),SR=function(r,e){return r.push(e),r};function TR(){return OR.operate(function(r,e){wR.reduce(SR,[])(r).subscribe(e)})}bc.toArray=TR});var fd=_(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.joinAllInternals=void 0;var CR=Ke(),AR=pi(),ER=pa(),qR=vr(),MR=_c();function xR(r,e){return ER.pipe(MR.toArray(),qR.mergeMap(function(t){return r(t)}),e?AR.mapOneOrManyArgs(e):CR.identity)}Pc.joinAllInternals=xR});var Oc=_(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.combineLatestAll=void 0;var LR=Vu(),jR=fd();function IR(r){return jR.joinAllInternals(LR.combineLatest,r)}wc.combineLatestAll=IR});var hd=_(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.combineAll=void 0;var FR=Oc();Sc.combineAll=FR.combineLatestAll});var pd=_(gi=>{"use strict";var a0=gi&&gi.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},s0=gi&&gi.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(gi,"__esModule",{value:!0});gi.combineLatest=void 0;var DR=Vu(),kR=z(),RR=mi(),zR=pi(),NR=pa(),VR=wt();function u0(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=VR.popResultSelector(r);return t?NR.pipe(u0.apply(void 0,s0([],a0(r))),zR.mapOneOrManyArgs(t)):kR.operate(function(i,n){DR.combineLatestInit(s0([i],a0(RR.argsOrArgArray(r))))(n)})}gi.combineLatest=u0});var dd=_(bi=>{"use strict";var WR=bi&&bi.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},UR=bi&&bi.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(bi,"__esModule",{value:!0});bi.combineLatestWith=void 0;var GR=pd();function BR(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return GR.combineLatest.apply(void 0,UR([],WR(r)))}bi.combineLatestWith=BR});var Cc=_(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.concatMap=void 0;var c0=vr(),HR=le();function $R(r,e){return HR.isFunction(e)?c0.mergeMap(r,e,1):c0.mergeMap(r,1)}Tc.concatMap=$R});var vd=_(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.concatMapTo=void 0;var l0=Cc(),YR=le();function QR(r,e){return YR.isFunction(e)?l0.concatMap(function(){return r},e):l0.concatMap(function(){return r})}Ac.concatMapTo=QR});var md=_(_i=>{"use strict";var KR=_i&&_i.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},XR=_i&&_i.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(_i,"__esModule",{value:!0});_i.concat=void 0;var JR=z(),ZR=ba(),ez=wt(),tz=Wr();function rz(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=ez.popScheduler(r);return JR.operate(function(i,n){ZR.concatAll()(tz.from(XR([i],KR(r)),t)).subscribe(n)})}_i.concat=rz});var yd=_(Pi=>{"use strict";var iz=Pi&&Pi.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},nz=Pi&&Pi.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.concatWith=void 0;var oz=md();function az(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return oz.concat.apply(void 0,nz([],iz(r)))}Pi.concatWith=az});var f0=_(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.fromSubscribable=void 0;var sz=he();function uz(r){return new sz.Observable(function(e){return r.subscribe(e)})}Ec.fromSubscribable=uz});var wa=_(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.connect=void 0;var cz=Xe(),lz=X(),fz=z(),hz=f0(),pz={connector:function(){return new cz.Subject}};function dz(r,e){e===void 0&&(e=pz);var t=e.connector;return fz.operate(function(i,n){var s=t();lz.innerFrom(r(hz.fromSubscribable(s))).subscribe(n),n.add(i.subscribe(s))})}qc.connect=dz});var gd=_(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.count=void 0;var vz=on();function mz(r){return vz.reduce(function(e,t,i){return!r||r(t,i)?e+1:e},0)}Mc.count=mz});var bd=_(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.debounce=void 0;var yz=z(),gz=Qe(),h0=U(),bz=X();function _z(r){return yz.operate(function(e,t){var i=!1,n=null,s=null,c=function(){if(s?.unsubscribe(),s=null,i){i=!1;var l=n;n=null,t.next(l)}};e.subscribe(h0.createOperatorSubscriber(t,function(l){s?.unsubscribe(),i=!0,n=l,s=h0.createOperatorSubscriber(t,c,gz.noop),bz.innerFrom(r(l)).subscribe(s)},function(){c(),t.complete()},void 0,function(){n=s=null}))})}xc.debounce=_z});var _d=_(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.debounceTime=void 0;var Pz=Pt(),wz=z(),Oz=U();function Sz(r,e){return e===void 0&&(e=Pz.asyncScheduler),wz.operate(function(t,i){var n=null,s=null,c=null,l=function(){if(n){n.unsubscribe(),n=null;var p=s;s=null,i.next(p)}};function h(){var p=c+r,v=e.now();if(v<p){n=this.schedule(void 0,p-v),i.add(n);return}l()}t.subscribe(Oz.createOperatorSubscriber(i,function(p){s=p,c=e.now(),n||(n=e.schedule(h,r),i.add(n))},function(){l(),i.complete()},void 0,function(){s=n=null}))})}Lc.debounceTime=Sz});var lo=_(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.defaultIfEmpty=void 0;var Tz=z(),Cz=U();function Az(r){return Tz.operate(function(e,t){var i=!1;e.subscribe(Cz.createOperatorSubscriber(t,function(n){i=!0,t.next(n)},function(){i||t.next(r),t.complete()}))})}jc.defaultIfEmpty=Az});var fo=_(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.take=void 0;var Ez=er(),qz=z(),Mz=U();function xz(r){return r<=0?function(){return Ez.EMPTY}:qz.operate(function(e,t){var i=0;e.subscribe(Mz.createOperatorSubscriber(t,function(n){++i<=r&&(t.next(n),r<=i&&t.complete())}))})}Ic.take=xz});var Dc=_(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.ignoreElements=void 0;var Lz=z(),jz=U(),Iz=Qe();function Fz(){return Lz.operate(function(r,e){r.subscribe(jz.createOperatorSubscriber(e,Iz.noop))})}Fc.ignoreElements=Fz});var Rc=_(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.mapTo=void 0;var Dz=Gr();function kz(r){return Dz.map(function(){return r})}kc.mapTo=kz});var Nc=_(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.delayWhen=void 0;var Rz=_a(),p0=fo(),zz=Dc(),Nz=Rc(),Vz=vr(),Wz=X();function d0(r,e){return e?function(t){return Rz.concat(e.pipe(p0.take(1),zz.ignoreElements()),t.pipe(d0(r)))}:Vz.mergeMap(function(t,i){return Wz.innerFrom(r(t,i)).pipe(p0.take(1),Nz.mapTo(t))})}zc.delayWhen=d0});var Pd=_(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.delay=void 0;var Uz=Pt(),Gz=Nc(),Bz=vi();function Hz(r,e){e===void 0&&(e=Uz.asyncScheduler);var t=Bz.timer(r,e);return Gz.delayWhen(function(){return t})}Vc.delay=Hz});var wd=_(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.dematerialize=void 0;var $z=Cu(),Yz=z(),Qz=U();function Kz(){return Yz.operate(function(r,e){r.subscribe(Qz.createOperatorSubscriber(e,function(t){return $z.observeNotification(t,e)}))})}Wc.dematerialize=Kz});var Od=_(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.distinct=void 0;var Xz=z(),v0=U(),Jz=Qe(),Zz=X();function eN(r,e){return Xz.operate(function(t,i){var n=new Set;t.subscribe(v0.createOperatorSubscriber(i,function(s){var c=r?r(s):s;n.has(c)||(n.add(c),i.next(s))})),e&&Zz.innerFrom(e).subscribe(v0.createOperatorSubscriber(i,function(){return n.clear()},Jz.noop))})}Uc.distinct=eN});var Bc=_(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.distinctUntilChanged=void 0;var tN=Ke(),rN=z(),iN=U();function nN(r,e){return e===void 0&&(e=tN.identity),r=r??oN,rN.operate(function(t,i){var n,s=!0;t.subscribe(iN.createOperatorSubscriber(i,function(c){var l=e(c);(s||!r(n,l))&&(s=!1,n=l,i.next(c))}))})}Gc.distinctUntilChanged=nN;function oN(r,e){return r===e}});var Sd=_(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.distinctUntilKeyChanged=void 0;var aN=Bc();function sN(r,e){return aN.distinctUntilChanged(function(t,i){return e?e(t[r],i[r]):t[r]===i[r]})}Hc.distinctUntilKeyChanged=sN});var ho=_($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.throwIfEmpty=void 0;var uN=fi(),cN=z(),lN=U();function fN(r){return r===void 0&&(r=hN),cN.operate(function(e,t){var i=!1;e.subscribe(lN.createOperatorSubscriber(t,function(n){i=!0,t.next(n)},function(){return i?t.complete():t.error(r())}))})}$c.throwIfEmpty=fN;function hN(){return new uN.EmptyError}});var Td=_(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.elementAt=void 0;var m0=Wp(),pN=Br(),dN=ho(),vN=lo(),mN=fo();function yN(r,e){if(r<0)throw new m0.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(i){return i.pipe(pN.filter(function(n,s){return s===r}),mN.take(1),t?vN.defaultIfEmpty(e):dN.throwIfEmpty(function(){return new m0.ArgumentOutOfRangeError}))}}Yc.elementAt=yN});var Cd=_(wi=>{"use strict";var gN=wi&&wi.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},bN=wi&&wi.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(wi,"__esModule",{value:!0});wi.endWith=void 0;var _N=_a(),PN=Su();function wN(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return _N.concat(t,PN.of.apply(void 0,bN([],gN(r))))}}wi.endWith=wN});var Ad=_(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.every=void 0;var ON=z(),SN=U();function TN(r,e){return ON.operate(function(t,i){var n=0;t.subscribe(SN.createOperatorSubscriber(i,function(s){r.call(e,s,n++,t)||(i.next(!1),i.complete())},function(){i.next(!0),i.complete()}))})}Qc.every=TN});var Xc=_(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.exhaustMap=void 0;var CN=Gr(),y0=X(),AN=z(),g0=U();function b0(r,e){return e?function(t){return t.pipe(b0(function(i,n){return y0.innerFrom(r(i,n)).pipe(CN.map(function(s,c){return e(i,s,n,c)}))}))}:AN.operate(function(t,i){var n=0,s=null,c=!1;t.subscribe(g0.createOperatorSubscriber(i,function(l){s||(s=g0.createOperatorSubscriber(i,void 0,function(){s=null,c&&i.complete()}),y0.innerFrom(r(l,n++)).subscribe(s))},function(){c=!0,!s&&i.complete()}))})}Kc.exhaustMap=b0});var Zc=_(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.exhaustAll=void 0;var EN=Xc(),qN=Ke();function MN(){return EN.exhaustMap(qN.identity)}Jc.exhaustAll=MN});var Ed=_(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.exhaust=void 0;var xN=Zc();el.exhaust=xN.exhaustAll});var qd=_(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.expand=void 0;var LN=z(),jN=Uu();function IN(r,e,t){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,LN.operate(function(i,n){return jN.mergeInternals(i,n,r,e,void 0,!0,t)})}tl.expand=IN});var Md=_(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.finalize=void 0;var FN=z();function DN(r){return FN.operate(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})}rl.finalize=DN});var il=_(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.createFind=po.find=void 0;var kN=z(),RN=U();function zN(r,e){return kN.operate(_0(r,e,"value"))}po.find=zN;function _0(r,e,t){var i=t==="index";return function(n,s){var c=0;n.subscribe(RN.createOperatorSubscriber(s,function(l){var h=c++;r.call(e,l,h,n)&&(s.next(i?h:l),s.complete())},function(){s.next(i?-1:void 0),s.complete()}))}}po.createFind=_0});var xd=_(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.findIndex=void 0;var NN=z(),VN=il();function WN(r,e){return NN.operate(VN.createFind(r,e,"index"))}nl.findIndex=WN});var Ld=_(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.first=void 0;var UN=fi(),GN=Br(),BN=fo(),HN=lo(),$N=ho(),YN=Ke();function QN(r,e){var t=arguments.length>=2;return function(i){return i.pipe(r?GN.filter(function(n,s){return r(n,s,i)}):YN.identity,BN.take(1),t?HN.defaultIfEmpty(e):$N.throwIfEmpty(function(){return new UN.EmptyError}))}}ol.first=QN});var jd=_(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.groupBy=void 0;var KN=he(),XN=X(),JN=Xe(),ZN=z(),P0=U();function eV(r,e,t,i){return ZN.operate(function(n,s){var c;!e||typeof e=="function"?c=e:(t=e.duration,c=e.element,i=e.connector);var l=new Map,h=function(E){l.forEach(E),E(s)},p=function(E){return h(function(M){return M.error(E)})},v=0,b=!1,w=new P0.OperatorSubscriber(s,function(E){try{var M=r(E),L=l.get(M);if(!L){l.set(M,L=i?i():new JN.Subject);var D=T(M,L);if(s.next(D),t){var N=P0.createOperatorSubscriber(L,function(){L.complete(),N?.unsubscribe()},void 0,void 0,function(){return l.delete(M)});w.add(XN.innerFrom(t(D)).subscribe(N))}}L.next(c?c(E):E)}catch(Y){p(Y)}},function(){return h(function(E){return E.complete()})},p,function(){return l.clear()},function(){return b=!0,v===0});n.subscribe(w);function T(E,M){var L=new KN.Observable(function(D){v++;var N=M.subscribe(D);return function(){N.unsubscribe(),--v===0&&b&&w.unsubscribe()}});return L.key=E,L}})}al.groupBy=eV});var Id=_(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.isEmpty=void 0;var tV=z(),rV=U();function iV(){return tV.operate(function(r,e){r.subscribe(rV.createOperatorSubscriber(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}sl.isEmpty=iV});var ul=_(vo=>{"use strict";var nV=vo&&vo.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(vo,"__esModule",{value:!0});vo.takeLast=void 0;var oV=er(),aV=z(),sV=U();function uV(r){return r<=0?function(){return oV.EMPTY}:aV.operate(function(e,t){var i=[];e.subscribe(sV.createOperatorSubscriber(t,function(n){i.push(n),r<i.length&&i.shift()},function(){var n,s;try{for(var c=nV(i),l=c.next();!l.done;l=c.next()){var h=l.value;t.next(h)}}catch(p){n={error:p}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(n)throw n.error}}t.complete()},void 0,function(){i=null}))})}vo.takeLast=uV});var Fd=_(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.last=void 0;var cV=fi(),lV=Br(),fV=ul(),hV=ho(),pV=lo(),dV=Ke();function vV(r,e){var t=arguments.length>=2;return function(i){return i.pipe(r?lV.filter(function(n,s){return r(n,s,i)}):dV.identity,fV.takeLast(1),t?pV.defaultIfEmpty(e):hV.throwIfEmpty(function(){return new cV.EmptyError}))}}cl.last=vV});var kd=_(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.materialize=void 0;var Dd=Cu(),mV=z(),yV=U();function gV(){return mV.operate(function(r,e){r.subscribe(yV.createOperatorSubscriber(e,function(t){e.next(Dd.Notification.createNext(t))},function(){e.next(Dd.Notification.createComplete()),e.complete()},function(t){e.next(Dd.Notification.createError(t)),e.complete()}))})}ll.materialize=gV});var Rd=_(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.max=void 0;var bV=on(),_V=le();function PV(r){return bV.reduce(_V.isFunction(r)?function(e,t){return r(e,t)>0?e:t}:function(e,t){return e>t?e:t})}fl.max=PV});var zd=_(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.flatMap=void 0;var wV=vr();hl.flatMap=wV.mergeMap});var Nd=_(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.mergeMapTo=void 0;var w0=vr(),OV=le();function SV(r,e,t){return t===void 0&&(t=1/0),OV.isFunction(e)?w0.mergeMap(function(){return r},e,t):(typeof e=="number"&&(t=e),w0.mergeMap(function(){return r},t))}pl.mergeMapTo=SV});var Vd=_(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.mergeScan=void 0;var TV=z(),CV=Uu();function AV(r,e,t){return t===void 0&&(t=1/0),TV.operate(function(i,n){var s=e;return CV.mergeInternals(i,n,function(c,l){return r(s,c,l)},t,function(c){s=c},!1,void 0,function(){return s=null})})}dl.mergeScan=AV});var Wd=_(Oi=>{"use strict";var EV=Oi&&Oi.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},qV=Oi&&Oi.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.merge=void 0;var MV=z(),xV=mi(),LV=io(),O0=wt(),jV=Wr();function IV(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=O0.popScheduler(r),i=O0.popNumber(r,1/0);return r=xV.argsOrArgArray(r),MV.operate(function(n,s){LV.mergeAll(i)(jV.from(qV([n],EV(r)),t)).subscribe(s)})}Oi.merge=IV});var Ud=_(Si=>{"use strict";var FV=Si&&Si.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},DV=Si&&Si.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Si,"__esModule",{value:!0});Si.mergeWith=void 0;var kV=Wd();function RV(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return kV.merge.apply(void 0,DV([],FV(r)))}Si.mergeWith=RV});var Gd=_(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.min=void 0;var zV=on(),NV=le();function VV(r){return zV.reduce(NV.isFunction(r)?function(e,t){return r(e,t)<0?e:t}:function(e,t){return e<t?e:t})}vl.min=VV});var Oa=_(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.multicast=void 0;var WV=da(),S0=le(),UV=wa();function GV(r,e){var t=S0.isFunction(r)?r:function(){return r};return S0.isFunction(e)?UV.connect(e,{connector:t}):function(i){return new WV.ConnectableObservable(i,t)}}ml.multicast=GV});var Bd=_(mr=>{"use strict";var BV=mr&&mr.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},HV=mr&&mr.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(mr,"__esModule",{value:!0});mr.onErrorResumeNext=mr.onErrorResumeNextWith=void 0;var $V=mi(),YV=Jp();function T0(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=$V.argsOrArgArray(r);return function(i){return YV.onErrorResumeNext.apply(void 0,HV([i],BV(t)))}}mr.onErrorResumeNextWith=T0;mr.onErrorResumeNext=T0});var Hd=_(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.pairwise=void 0;var QV=z(),KV=U();function XV(){return QV.operate(function(r,e){var t,i=!1;r.subscribe(KV.createOperatorSubscriber(e,function(n){var s=t;t=n,i&&e.next([s,n]),i=!0}))})}yl.pairwise=XV});var $d=_(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.pluck=void 0;var JV=Gr();function ZV(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return JV.map(function(i){for(var n=i,s=0;s<t;s++){var c=n?.[r[s]];if(typeof c<"u")n=c;else return}return n})}gl.pluck=ZV});var Yd=_(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.publish=void 0;var e2=Xe(),t2=Oa(),r2=wa();function i2(r){return r?function(e){return r2.connect(r)(e)}:function(e){return t2.multicast(new e2.Subject)(e)}}bl.publish=i2});var Qd=_(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.publishBehavior=void 0;var n2=Tp(),o2=da();function a2(r){return function(e){var t=new n2.BehaviorSubject(r);return new o2.ConnectableObservable(e,function(){return t})}}_l.publishBehavior=a2});var Kd=_(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.publishLast=void 0;var s2=eu(),u2=da();function c2(){return function(r){var e=new s2.AsyncSubject;return new u2.ConnectableObservable(r,function(){return e})}}Pl.publishLast=c2});var Xd=_(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.publishReplay=void 0;var l2=Zs(),f2=Oa(),C0=le();function h2(r,e,t,i){t&&!C0.isFunction(t)&&(i=t);var n=C0.isFunction(t)?t:void 0;return function(s){return f2.multicast(new l2.ReplaySubject(r,e,i),n)(s)}}wl.publishReplay=h2});var Ol=_(Ti=>{"use strict";var p2=Ti&&Ti.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},d2=Ti&&Ti.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.raceWith=void 0;var v2=ed(),m2=z(),y2=Ke();function g2(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length?m2.operate(function(t,i){v2.raceInit(d2([t],p2(r)))(i)}):y2.identity}Ti.raceWith=g2});var Jd=_(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.repeat=void 0;var b2=er(),_2=z(),A0=U(),P2=X(),w2=vi();function O2(r){var e,t=1/0,i;return r!=null&&(typeof r=="object"?(e=r.count,t=e===void 0?1/0:e,i=r.delay):t=r),t<=0?function(){return b2.EMPTY}:_2.operate(function(n,s){var c=0,l,h=function(){if(l?.unsubscribe(),l=null,i!=null){var v=typeof i=="number"?w2.timer(i):P2.innerFrom(i(c)),b=A0.createOperatorSubscriber(s,function(){b.unsubscribe(),p()});v.subscribe(b)}else p()},p=function(){var v=!1;l=n.subscribe(A0.createOperatorSubscriber(s,void 0,function(){++c<t?l?h():v=!0:s.complete()})),v&&h()};p()})}Sl.repeat=O2});var Zd=_(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.repeatWhen=void 0;var S2=X(),T2=Xe(),C2=z(),E0=U();function A2(r){return C2.operate(function(e,t){var i,n=!1,s,c=!1,l=!1,h=function(){return l&&c&&(t.complete(),!0)},p=function(){return s||(s=new T2.Subject,S2.innerFrom(r(s)).subscribe(E0.createOperatorSubscriber(t,function(){i?v():n=!0},function(){c=!0,h()}))),s},v=function(){l=!1,i=e.subscribe(E0.createOperatorSubscriber(t,void 0,function(){l=!0,!h()&&p().next()})),n&&(i.unsubscribe(),i=null,n=!1,v())};v()})}Tl.repeatWhen=A2});var ev=_(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.retry=void 0;var E2=z(),q0=U(),q2=Ke(),M2=vi(),x2=X();function L2(r){r===void 0&&(r=1/0);var e;r&&typeof r=="object"?e=r:e={count:r};var t=e.count,i=t===void 0?1/0:t,n=e.delay,s=e.resetOnSuccess,c=s===void 0?!1:s;return i<=0?q2.identity:E2.operate(function(l,h){var p=0,v,b=function(){var w=!1;v=l.subscribe(q0.createOperatorSubscriber(h,function(T){c&&(p=0),h.next(T)},void 0,function(T){if(p++<i){var E=function(){v?(v.unsubscribe(),v=null,b()):w=!0};if(n!=null){var M=typeof n=="number"?M2.timer(n):x2.innerFrom(n(T,p)),L=q0.createOperatorSubscriber(h,function(){L.unsubscribe(),E()},function(){h.complete()});M.subscribe(L)}else E()}else h.error(T)})),w&&(v.unsubscribe(),v=null,b())};b()})}Cl.retry=L2});var tv=_(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.retryWhen=void 0;var j2=X(),I2=Xe(),F2=z(),M0=U();function D2(r){return F2.operate(function(e,t){var i,n=!1,s,c=function(){i=e.subscribe(M0.createOperatorSubscriber(t,void 0,void 0,function(l){s||(s=new I2.Subject,j2.innerFrom(r(s)).subscribe(M0.createOperatorSubscriber(t,function(){return i?c():n=!0}))),s&&s.next(l)})),n&&(i.unsubscribe(),i=null,n=!1,c())};c()})}Al.retryWhen=D2});var ql=_(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.sample=void 0;var k2=X(),R2=z(),z2=Qe(),x0=U();function N2(r){return R2.operate(function(e,t){var i=!1,n=null;e.subscribe(x0.createOperatorSubscriber(t,function(s){i=!0,n=s})),k2.innerFrom(r).subscribe(x0.createOperatorSubscriber(t,function(){if(i){i=!1;var s=n;n=null,t.next(s)}},z2.noop))})}El.sample=N2});var rv=_(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.sampleTime=void 0;var V2=Pt(),W2=ql(),U2=Kp();function G2(r,e){return e===void 0&&(e=V2.asyncScheduler),W2.sample(U2.interval(r,e))}Ml.sampleTime=G2});var iv=_(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.scan=void 0;var B2=z(),H2=ld();function $2(r,e){return B2.operate(H2.scanInternals(r,e,arguments.length>=2,!0))}xl.scan=$2});var nv=_(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.sequenceEqual=void 0;var Y2=z(),Q2=U(),K2=X();function X2(r,e){return e===void 0&&(e=function(t,i){return t===i}),Y2.operate(function(t,i){var n=L0(),s=L0(),c=function(h){i.next(h),i.complete()},l=function(h,p){var v=Q2.createOperatorSubscriber(i,function(b){var w=p.buffer,T=p.complete;w.length===0?T?c(!1):h.buffer.push(b):!e(b,w.shift())&&c(!1)},function(){h.complete=!0;var b=p.complete,w=p.buffer;b&&c(w.length===0),v?.unsubscribe()});return v};t.subscribe(l(n,s)),K2.innerFrom(r).subscribe(l(s,n))})}Ll.sequenceEqual=X2;function L0(){return{buffer:[],complete:!1}}});var jl=_(Ci=>{"use strict";var J2=Ci&&Ci.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},Z2=Ci&&Ci.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.share=void 0;var j0=X(),eW=Xe(),I0=Ln(),tW=z();function rW(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new eW.Subject}:e,i=r.resetOnError,n=i===void 0?!0:i,s=r.resetOnComplete,c=s===void 0?!0:s,l=r.resetOnRefCountZero,h=l===void 0?!0:l;return function(p){var v,b,w,T=0,E=!1,M=!1,L=function(){b?.unsubscribe(),b=void 0},D=function(){L(),v=w=void 0,E=M=!1},N=function(){var Y=v;D(),Y?.unsubscribe()};return tW.operate(function(Y,ie){T++,!M&&!E&&L();var pe=w=w??t();ie.add(function(){T--,T===0&&!M&&!E&&(b=ov(N,h))}),pe.subscribe(ie),!v&&T>0&&(v=new I0.SafeSubscriber({next:function(Fe){return pe.next(Fe)},error:function(Fe){M=!0,L(),b=ov(D,n,Fe),pe.error(Fe)},complete:function(){E=!0,L(),b=ov(D,c),pe.complete()}}),j0.innerFrom(Y).subscribe(v))})(p)}}Ci.share=rW;function ov(r,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];if(e===!0){r();return}if(e!==!1){var n=new I0.SafeSubscriber({next:function(){n.unsubscribe(),r()}});return j0.innerFrom(e.apply(void 0,Z2([],J2(t)))).subscribe(n)}}});var av=_(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.shareReplay=void 0;var iW=Zs(),nW=jl();function oW(r,e,t){var i,n,s,c,l=!1;return r&&typeof r=="object"?(i=r.bufferSize,c=i===void 0?1/0:i,n=r.windowTime,e=n===void 0?1/0:n,s=r.refCount,l=s===void 0?!1:s,t=r.scheduler):c=r??1/0,nW.share({connector:function(){return new iW.ReplaySubject(c,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}Il.shareReplay=oW});var sv=_(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.single=void 0;var aW=fi(),sW=Gp(),uW=Up(),cW=z(),lW=U();function fW(r){return cW.operate(function(e,t){var i=!1,n,s=!1,c=0;e.subscribe(lW.createOperatorSubscriber(t,function(l){s=!0,(!r||r(l,c++,e))&&(i&&t.error(new sW.SequenceError("Too many matching values")),i=!0,n=l)},function(){i?(t.next(n),t.complete()):t.error(s?new uW.NotFoundError("No matching values"):new aW.EmptyError)}))})}Fl.single=fW});var uv=_(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.skip=void 0;var hW=Br();function pW(r){return hW.filter(function(e,t){return r<=t})}Dl.skip=pW});var cv=_(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.skipLast=void 0;var dW=Ke(),vW=z(),mW=U();function yW(r){return r<=0?dW.identity:vW.operate(function(e,t){var i=new Array(r),n=0;return e.subscribe(mW.createOperatorSubscriber(t,function(s){var c=n++;if(c<r)i[c]=s;else{var l=c%r,h=i[l];i[l]=s,t.next(h)}})),function(){i=null}})}kl.skipLast=yW});var lv=_(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.skipUntil=void 0;var gW=z(),F0=U(),bW=X(),_W=Qe();function PW(r){return gW.operate(function(e,t){var i=!1,n=F0.createOperatorSubscriber(t,function(){n?.unsubscribe(),i=!0},_W.noop);bW.innerFrom(r).subscribe(n),e.subscribe(F0.createOperatorSubscriber(t,function(s){return i&&t.next(s)}))})}Rl.skipUntil=PW});var fv=_(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.skipWhile=void 0;var wW=z(),OW=U();function SW(r){return wW.operate(function(e,t){var i=!1,n=0;e.subscribe(OW.createOperatorSubscriber(t,function(s){return(i||(i=!r(s,n++)))&&t.next(s)}))})}zl.skipWhile=SW});var hv=_(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.startWith=void 0;var D0=_a(),TW=wt(),CW=z();function AW(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=TW.popScheduler(r);return CW.operate(function(i,n){(t?D0.concat(r,i,t):D0.concat(r,i)).subscribe(n)})}Nl.startWith=AW});var mo=_(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.switchMap=void 0;var EW=X(),qW=z(),k0=U();function MW(r,e){return qW.operate(function(t,i){var n=null,s=0,c=!1,l=function(){return c&&!n&&i.complete()};t.subscribe(k0.createOperatorSubscriber(i,function(h){n?.unsubscribe();var p=0,v=s++;EW.innerFrom(r(h,v)).subscribe(n=k0.createOperatorSubscriber(i,function(b){return i.next(e?e(h,b,v,p++):b)},function(){n=null,l()}))},function(){c=!0,l()}))})}Vl.switchMap=MW});var pv=_(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.switchAll=void 0;var xW=mo(),LW=Ke();function jW(){return xW.switchMap(LW.identity)}Wl.switchAll=jW});var dv=_(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.switchMapTo=void 0;var R0=mo(),IW=le();function FW(r,e){return IW.isFunction(e)?R0.switchMap(function(){return r},e):R0.switchMap(function(){return r})}Ul.switchMapTo=FW});var vv=_(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.switchScan=void 0;var DW=mo(),kW=z();function RW(r,e){return kW.operate(function(t,i){var n=e;return DW.switchMap(function(s,c){return r(n,s,c)},function(s,c){return n=c,c})(t).subscribe(i),function(){n=null}})}Gl.switchScan=RW});var mv=_(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.takeUntil=void 0;var zW=z(),NW=U(),VW=X(),WW=Qe();function UW(r){return zW.operate(function(e,t){VW.innerFrom(r).subscribe(NW.createOperatorSubscriber(t,function(){return t.complete()},WW.noop)),!t.closed&&e.subscribe(t)})}Bl.takeUntil=UW});var yv=_(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.takeWhile=void 0;var GW=z(),BW=U();function HW(r,e){return e===void 0&&(e=!1),GW.operate(function(t,i){var n=0;t.subscribe(BW.createOperatorSubscriber(i,function(s){var c=r(s,n++);(c||e)&&i.next(s),!c&&i.complete()}))})}Hl.takeWhile=HW});var gv=_($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.tap=void 0;var $W=le(),YW=z(),QW=U(),KW=Ke();function XW(r,e,t){var i=$W.isFunction(r)||e||t?{next:r,error:e,complete:t}:r;return i?YW.operate(function(n,s){var c;(c=i.subscribe)===null||c===void 0||c.call(i);var l=!0;n.subscribe(QW.createOperatorSubscriber(s,function(h){var p;(p=i.next)===null||p===void 0||p.call(i,h),s.next(h)},function(){var h;l=!1,(h=i.complete)===null||h===void 0||h.call(i),s.complete()},function(h){var p;l=!1,(p=i.error)===null||p===void 0||p.call(i,h),s.error(h)},function(){var h,p;l&&((h=i.unsubscribe)===null||h===void 0||h.call(i)),(p=i.finalize)===null||p===void 0||p.call(i)}))}):KW.identity}$l.tap=XW});var Ql=_(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.throttle=void 0;var JW=z(),z0=U(),ZW=X();function eU(r,e){return JW.operate(function(t,i){var n=e??{},s=n.leading,c=s===void 0?!0:s,l=n.trailing,h=l===void 0?!1:l,p=!1,v=null,b=null,w=!1,T=function(){b?.unsubscribe(),b=null,h&&(L(),w&&i.complete())},E=function(){b=null,w&&i.complete()},M=function(D){return b=ZW.innerFrom(r(D)).subscribe(z0.createOperatorSubscriber(i,T,E))},L=function(){if(p){p=!1;var D=v;v=null,i.next(D),!w&&M(D)}};t.subscribe(z0.createOperatorSubscriber(i,function(D){p=!0,v=D,!(b&&!b.closed)&&(c?L():M(D))},function(){w=!0,!(h&&p&&b&&!b.closed)&&i.complete()}))})}Yl.throttle=eU});var bv=_(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.throttleTime=void 0;var tU=Pt(),rU=Ql(),iU=vi();function nU(r,e,t){e===void 0&&(e=tU.asyncScheduler);var i=iU.timer(r,e);return rU.throttle(function(){return i},t)}Kl.throttleTime=nU});var _v=_(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.TimeInterval=yo.timeInterval=void 0;var oU=Pt(),aU=z(),sU=U();function uU(r){return r===void 0&&(r=oU.asyncScheduler),aU.operate(function(e,t){var i=r.now();e.subscribe(sU.createOperatorSubscriber(t,function(n){var s=r.now(),c=s-i;i=s,t.next(new N0(n,c))}))})}yo.timeInterval=uU;var N0=function(){function r(e,t){this.value=e,this.interval=t}return r}();yo.TimeInterval=N0});var Pv=_(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.timeoutWith=void 0;var cU=Pt(),lU=Fu(),fU=ga();function hU(r,e,t){var i,n,s;if(t=t??cU.async,lU.isValidDate(r)?i=r:typeof r=="number"&&(n=r),e)s=function(){return e};else throw new TypeError("No observable provided to switch to");if(i==null&&n==null)throw new TypeError("No timeout provided.");return fU.timeout({first:i,each:n,scheduler:t,with:s})}Xl.timeoutWith=hU});var wv=_(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.timestamp=void 0;var pU=Js(),dU=Gr();function vU(r){return r===void 0&&(r=pU.dateTimestampProvider),dU.map(function(e){return{value:e,timestamp:r.now()}})}Jl.timestamp=vU});var Ov=_(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.window=void 0;var V0=Xe(),mU=z(),W0=U(),yU=Qe(),gU=X();function bU(r){return mU.operate(function(e,t){var i=new V0.Subject;t.next(i.asObservable());var n=function(s){i.error(s),t.error(s)};return e.subscribe(W0.createOperatorSubscriber(t,function(s){return i?.next(s)},function(){i.complete(),t.complete()},n)),gU.innerFrom(r).subscribe(W0.createOperatorSubscriber(t,function(){i.complete(),t.next(i=new V0.Subject)},yU.noop,n)),function(){i?.unsubscribe(),i=null}})}Zl.window=bU});var Sv=_(go=>{"use strict";var _U=go&&go.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(go,"__esModule",{value:!0});go.windowCount=void 0;var U0=Xe(),PU=z(),wU=U();function OU(r,e){e===void 0&&(e=0);var t=e>0?e:r;return PU.operate(function(i,n){var s=[new U0.Subject],c=[],l=0;n.next(s[0].asObservable()),i.subscribe(wU.createOperatorSubscriber(n,function(h){var p,v;try{for(var b=_U(s),w=b.next();!w.done;w=b.next()){var T=w.value;T.next(h)}}catch(L){p={error:L}}finally{try{w&&!w.done&&(v=b.return)&&v.call(b)}finally{if(p)throw p.error}}var E=l-r+1;if(E>=0&&E%t===0&&s.shift().complete(),++l%t===0){var M=new U0.Subject;s.push(M),n.next(M.asObservable())}},function(){for(;s.length>0;)s.shift().complete();n.complete()},function(h){for(;s.length>0;)s.shift().error(h);n.error(h)},function(){c=null,s=null}))})}go.windowCount=OU});var Tv=_(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.windowTime=void 0;var SU=Xe(),TU=Pt(),CU=xt(),AU=z(),EU=U(),qU=Nr(),MU=wt(),G0=Vr();function xU(r){for(var e,t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var s=(e=MU.popScheduler(i))!==null&&e!==void 0?e:TU.asyncScheduler,c=(t=i[0])!==null&&t!==void 0?t:null,l=i[1]||1/0;return AU.operate(function(h,p){var v=[],b=!1,w=function(L){var D=L.window,N=L.subs;D.complete(),N.unsubscribe(),qU.arrRemove(v,L),b&&T()},T=function(){if(v){var L=new CU.Subscription;p.add(L);var D=new SU.Subject,N={window:D,subs:L,seen:0};v.push(N),p.next(D.asObservable()),G0.executeSchedule(L,s,function(){return w(N)},r)}};c!==null&&c>=0?G0.executeSchedule(p,s,T,c,!0):b=!0,T();var E=function(L){return v.slice().forEach(L)},M=function(L){E(function(D){var N=D.window;return L(N)}),L(p),p.unsubscribe()};return h.subscribe(EU.createOperatorSubscriber(p,function(L){E(function(D){D.window.next(L),l<=++D.seen&&w(D)})},function(){return M(function(L){return L.complete()})},function(L){return M(function(D){return D.error(L)})})),function(){v=null}})}ef.windowTime=xU});var Av=_(bo=>{"use strict";var LU=bo&&bo.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bo,"__esModule",{value:!0});bo.windowToggle=void 0;var jU=Xe(),IU=xt(),FU=z(),B0=X(),Cv=U(),H0=Qe(),DU=Nr();function kU(r,e){return FU.operate(function(t,i){var n=[],s=function(c){for(;0<n.length;)n.shift().error(c);i.error(c)};B0.innerFrom(r).subscribe(Cv.createOperatorSubscriber(i,function(c){var l=new jU.Subject;n.push(l);var h=new IU.Subscription,p=function(){DU.arrRemove(n,l),l.complete(),h.unsubscribe()},v;try{v=B0.innerFrom(e(c))}catch(b){s(b);return}i.next(l.asObservable()),h.add(v.subscribe(Cv.createOperatorSubscriber(i,p,H0.noop,s)))},H0.noop)),t.subscribe(Cv.createOperatorSubscriber(i,function(c){var l,h,p=n.slice();try{for(var v=LU(p),b=v.next();!b.done;b=v.next()){var w=b.value;w.next(c)}}catch(T){l={error:T}}finally{try{b&&!b.done&&(h=v.return)&&h.call(v)}finally{if(l)throw l.error}}},function(){for(;0<n.length;)n.shift().complete();i.complete()},s,function(){for(;0<n.length;)n.shift().unsubscribe()}))})}bo.windowToggle=kU});var Ev=_(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.windowWhen=void 0;var RU=Xe(),zU=z(),$0=U(),NU=X();function VU(r){return zU.operate(function(e,t){var i,n,s=function(l){i.error(l),t.error(l)},c=function(){n?.unsubscribe(),i?.complete(),i=new RU.Subject,t.next(i.asObservable());var l;try{l=NU.innerFrom(r())}catch(h){s(h);return}l.subscribe(n=$0.createOperatorSubscriber(t,c,c,s))};c(),e.subscribe($0.createOperatorSubscriber(t,function(l){return i.next(l)},function(){i.complete(),t.complete()},s,function(){n?.unsubscribe(),i=null}))})}tf.windowWhen=VU});var qv=_(Ai=>{"use strict";var Y0=Ai&&Ai.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},Q0=Ai&&Ai.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.withLatestFrom=void 0;var WU=z(),K0=U(),UU=X(),GU=Ke(),BU=Qe(),HU=wt();function $U(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=HU.popResultSelector(r);return WU.operate(function(i,n){for(var s=r.length,c=new Array(s),l=r.map(function(){return!1}),h=!1,p=function(b){UU.innerFrom(r[b]).subscribe(K0.createOperatorSubscriber(n,function(w){c[b]=w,!h&&!l[b]&&(l[b]=!0,(h=l.every(GU.identity))&&(l=null))},BU.noop))},v=0;v<s;v++)p(v);i.subscribe(K0.createOperatorSubscriber(n,function(b){if(h){var w=Q0([b],Y0(c));n.next(t?t.apply(void 0,Q0([],Y0(w))):w)}}))})}Ai.withLatestFrom=$U});var Mv=_(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.zipAll=void 0;var YU=lc(),QU=fd();function KU(r){return QU.joinAllInternals(YU.zip,r)}rf.zipAll=KU});var xv=_(Ei=>{"use strict";var XU=Ei&&Ei.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},JU=Ei&&Ei.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.zip=void 0;var ZU=lc(),eG=z();function tG(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return eG.operate(function(t,i){ZU.zip.apply(void 0,JU([t],XU(r))).subscribe(i)})}Ei.zip=tG});var Lv=_(qi=>{"use strict";var rG=qi&&qi.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},iG=qi&&qi.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(qi,"__esModule",{value:!0});qi.zipWith=void 0;var nG=xv();function oG(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return nG.zip.apply(void 0,iG([],rG(r)))}qi.zipWith=oG});var Mi=_(m=>{"use strict";var aG=m&&m.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),sG=m&&m.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&aG(e,r,t)};Object.defineProperty(m,"__esModule",{value:!0});m.interval=m.iif=m.generate=m.fromEventPattern=m.fromEvent=m.from=m.forkJoin=m.empty=m.defer=m.connectable=m.concat=m.combineLatest=m.bindNodeCallback=m.bindCallback=m.UnsubscriptionError=m.TimeoutError=m.SequenceError=m.ObjectUnsubscribedError=m.NotFoundError=m.EmptyError=m.ArgumentOutOfRangeError=m.firstValueFrom=m.lastValueFrom=m.isObservable=m.identity=m.noop=m.pipe=m.NotificationKind=m.Notification=m.Subscriber=m.Subscription=m.Scheduler=m.VirtualAction=m.VirtualTimeScheduler=m.animationFrameScheduler=m.animationFrame=m.queueScheduler=m.queue=m.asyncScheduler=m.async=m.asapScheduler=m.asap=m.AsyncSubject=m.ReplaySubject=m.BehaviorSubject=m.Subject=m.animationFrames=m.observable=m.ConnectableObservable=m.Observable=void 0;m.filter=m.expand=m.exhaustMap=m.exhaustAll=m.exhaust=m.every=m.endWith=m.elementAt=m.distinctUntilKeyChanged=m.distinctUntilChanged=m.distinct=m.dematerialize=m.delayWhen=m.delay=m.defaultIfEmpty=m.debounceTime=m.debounce=m.count=m.connect=m.concatWith=m.concatMapTo=m.concatMap=m.concatAll=m.combineLatestWith=m.combineLatestAll=m.combineAll=m.catchError=m.bufferWhen=m.bufferToggle=m.bufferTime=m.bufferCount=m.buffer=m.auditTime=m.audit=m.config=m.NEVER=m.EMPTY=m.scheduled=m.zip=m.using=m.timer=m.throwError=m.range=m.race=m.partition=m.pairs=m.onErrorResumeNext=m.of=m.never=m.merge=void 0;m.switchMap=m.switchAll=m.subscribeOn=m.startWith=m.skipWhile=m.skipUntil=m.skipLast=m.skip=m.single=m.shareReplay=m.share=m.sequenceEqual=m.scan=m.sampleTime=m.sample=m.refCount=m.retryWhen=m.retry=m.repeatWhen=m.repeat=m.reduce=m.raceWith=m.publishReplay=m.publishLast=m.publishBehavior=m.publish=m.pluck=m.pairwise=m.onErrorResumeNextWith=m.observeOn=m.multicast=m.min=m.mergeWith=m.mergeScan=m.mergeMapTo=m.mergeMap=m.flatMap=m.mergeAll=m.max=m.materialize=m.mapTo=m.map=m.last=m.isEmpty=m.ignoreElements=m.groupBy=m.first=m.findIndex=m.find=m.finalize=void 0;m.zipWith=m.zipAll=m.withLatestFrom=m.windowWhen=m.windowToggle=m.windowTime=m.windowCount=m.window=m.toArray=m.timestamp=m.timeoutWith=m.timeout=m.timeInterval=m.throwIfEmpty=m.throttleTime=m.throttle=m.tap=m.takeWhile=m.takeUntil=m.takeLast=m.take=m.switchScan=m.switchMapTo=void 0;var uG=he();Object.defineProperty(m,"Observable",{enumerable:!0,get:function(){return uG.Observable}});var cG=da();Object.defineProperty(m,"ConnectableObservable",{enumerable:!0,get:function(){return cG.ConnectableObservable}});var lG=ha();Object.defineProperty(m,"observable",{enumerable:!0,get:function(){return lG.observable}});var fG=Eb();Object.defineProperty(m,"animationFrames",{enumerable:!0,get:function(){return fG.animationFrames}});var hG=Xe();Object.defineProperty(m,"Subject",{enumerable:!0,get:function(){return hG.Subject}});var pG=Tp();Object.defineProperty(m,"BehaviorSubject",{enumerable:!0,get:function(){return pG.BehaviorSubject}});var dG=Zs();Object.defineProperty(m,"ReplaySubject",{enumerable:!0,get:function(){return dG.ReplaySubject}});var vG=eu();Object.defineProperty(m,"AsyncSubject",{enumerable:!0,get:function(){return vG.AsyncSubject}});var X0=Bb();Object.defineProperty(m,"asap",{enumerable:!0,get:function(){return X0.asap}});Object.defineProperty(m,"asapScheduler",{enumerable:!0,get:function(){return X0.asapScheduler}});var J0=Pt();Object.defineProperty(m,"async",{enumerable:!0,get:function(){return J0.async}});Object.defineProperty(m,"asyncScheduler",{enumerable:!0,get:function(){return J0.asyncScheduler}});var Z0=Yb();Object.defineProperty(m,"queue",{enumerable:!0,get:function(){return Z0.queue}});Object.defineProperty(m,"queueScheduler",{enumerable:!0,get:function(){return Z0.queueScheduler}});var eP=Jb();Object.defineProperty(m,"animationFrame",{enumerable:!0,get:function(){return eP.animationFrame}});Object.defineProperty(m,"animationFrameScheduler",{enumerable:!0,get:function(){return eP.animationFrameScheduler}});var tP=t_();Object.defineProperty(m,"VirtualTimeScheduler",{enumerable:!0,get:function(){return tP.VirtualTimeScheduler}});Object.defineProperty(m,"VirtualAction",{enumerable:!0,get:function(){return tP.VirtualAction}});var mG=Ap();Object.defineProperty(m,"Scheduler",{enumerable:!0,get:function(){return mG.Scheduler}});var yG=xt();Object.defineProperty(m,"Subscription",{enumerable:!0,get:function(){return yG.Subscription}});var gG=Ln();Object.defineProperty(m,"Subscriber",{enumerable:!0,get:function(){return gG.Subscriber}});var rP=Cu();Object.defineProperty(m,"Notification",{enumerable:!0,get:function(){return rP.Notification}});Object.defineProperty(m,"NotificationKind",{enumerable:!0,get:function(){return rP.NotificationKind}});var bG=pa();Object.defineProperty(m,"pipe",{enumerable:!0,get:function(){return bG.pipe}});var _G=Qe();Object.defineProperty(m,"noop",{enumerable:!0,get:function(){return _G.noop}});var PG=Ke();Object.defineProperty(m,"identity",{enumerable:!0,get:function(){return PG.identity}});var wG=g_();Object.defineProperty(m,"isObservable",{enumerable:!0,get:function(){return wG.isObservable}});var OG=b_();Object.defineProperty(m,"lastValueFrom",{enumerable:!0,get:function(){return OG.lastValueFrom}});var SG=__();Object.defineProperty(m,"firstValueFrom",{enumerable:!0,get:function(){return SG.firstValueFrom}});var TG=Wp();Object.defineProperty(m,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return TG.ArgumentOutOfRangeError}});var CG=fi();Object.defineProperty(m,"EmptyError",{enumerable:!0,get:function(){return CG.EmptyError}});var AG=Up();Object.defineProperty(m,"NotFoundError",{enumerable:!0,get:function(){return AG.NotFoundError}});var EG=Pp();Object.defineProperty(m,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return EG.ObjectUnsubscribedError}});var qG=Gp();Object.defineProperty(m,"SequenceError",{enumerable:!0,get:function(){return qG.SequenceError}});var MG=ga();Object.defineProperty(m,"TimeoutError",{enumerable:!0,get:function(){return MG.TimeoutError}});var xG=cp();Object.defineProperty(m,"UnsubscriptionError",{enumerable:!0,get:function(){return xG.UnsubscriptionError}});var LG=w_();Object.defineProperty(m,"bindCallback",{enumerable:!0,get:function(){return LG.bindCallback}});var jG=O_();Object.defineProperty(m,"bindNodeCallback",{enumerable:!0,get:function(){return jG.bindNodeCallback}});var IG=Vu();Object.defineProperty(m,"combineLatest",{enumerable:!0,get:function(){return IG.combineLatest}});var FG=_a();Object.defineProperty(m,"concat",{enumerable:!0,get:function(){return FG.concat}});var DG=x_();Object.defineProperty(m,"connectable",{enumerable:!0,get:function(){return DG.connectable}});var kG=Pa();Object.defineProperty(m,"defer",{enumerable:!0,get:function(){return kG.defer}});var RG=er();Object.defineProperty(m,"empty",{enumerable:!0,get:function(){return RG.empty}});var zG=L_();Object.defineProperty(m,"forkJoin",{enumerable:!0,get:function(){return zG.forkJoin}});var NG=Wr();Object.defineProperty(m,"from",{enumerable:!0,get:function(){return NG.from}});var VG=I_();Object.defineProperty(m,"fromEvent",{enumerable:!0,get:function(){return VG.fromEvent}});var WG=D_();Object.defineProperty(m,"fromEventPattern",{enumerable:!0,get:function(){return WG.fromEventPattern}});var UG=R_();Object.defineProperty(m,"generate",{enumerable:!0,get:function(){return UG.generate}});var GG=z_();Object.defineProperty(m,"iif",{enumerable:!0,get:function(){return GG.iif}});var BG=Kp();Object.defineProperty(m,"interval",{enumerable:!0,get:function(){return BG.interval}});var HG=V_();Object.defineProperty(m,"merge",{enumerable:!0,get:function(){return HG.merge}});var $G=Xp();Object.defineProperty(m,"never",{enumerable:!0,get:function(){return $G.never}});var YG=Su();Object.defineProperty(m,"of",{enumerable:!0,get:function(){return YG.of}});var QG=Jp();Object.defineProperty(m,"onErrorResumeNext",{enumerable:!0,get:function(){return QG.onErrorResumeNext}});var KG=U_();Object.defineProperty(m,"pairs",{enumerable:!0,get:function(){return KG.pairs}});var XG=H_();Object.defineProperty(m,"partition",{enumerable:!0,get:function(){return XG.partition}});var JG=ed();Object.defineProperty(m,"race",{enumerable:!0,get:function(){return JG.race}});var ZG=Q_();Object.defineProperty(m,"range",{enumerable:!0,get:function(){return ZG.range}});var eB=Vp();Object.defineProperty(m,"throwError",{enumerable:!0,get:function(){return eB.throwError}});var tB=vi();Object.defineProperty(m,"timer",{enumerable:!0,get:function(){return tB.timer}});var rB=K_();Object.defineProperty(m,"using",{enumerable:!0,get:function(){return rB.using}});var iB=lc();Object.defineProperty(m,"zip",{enumerable:!0,get:function(){return iB.zip}});var nB=Np();Object.defineProperty(m,"scheduled",{enumerable:!0,get:function(){return nB.scheduled}});var oB=er();Object.defineProperty(m,"EMPTY",{enumerable:!0,get:function(){return oB.EMPTY}});var aB=Xp();Object.defineProperty(m,"NEVER",{enumerable:!0,get:function(){return aB.NEVER}});sG(J_(),m);var sB=Mn();Object.defineProperty(m,"config",{enumerable:!0,get:function(){return sB.config}});var uB=hc();Object.defineProperty(m,"audit",{enumerable:!0,get:function(){return uB.audit}});var cB=td();Object.defineProperty(m,"auditTime",{enumerable:!0,get:function(){return cB.auditTime}});var lB=rd();Object.defineProperty(m,"buffer",{enumerable:!0,get:function(){return lB.buffer}});var fB=nd();Object.defineProperty(m,"bufferCount",{enumerable:!0,get:function(){return fB.bufferCount}});var hB=od();Object.defineProperty(m,"bufferTime",{enumerable:!0,get:function(){return hB.bufferTime}});var pB=sd();Object.defineProperty(m,"bufferToggle",{enumerable:!0,get:function(){return pB.bufferToggle}});var dB=ud();Object.defineProperty(m,"bufferWhen",{enumerable:!0,get:function(){return dB.bufferWhen}});var vB=cd();Object.defineProperty(m,"catchError",{enumerable:!0,get:function(){return vB.catchError}});var mB=hd();Object.defineProperty(m,"combineAll",{enumerable:!0,get:function(){return mB.combineAll}});var yB=Oc();Object.defineProperty(m,"combineLatestAll",{enumerable:!0,get:function(){return yB.combineLatestAll}});var gB=dd();Object.defineProperty(m,"combineLatestWith",{enumerable:!0,get:function(){return gB.combineLatestWith}});var bB=ba();Object.defineProperty(m,"concatAll",{enumerable:!0,get:function(){return bB.concatAll}});var _B=Cc();Object.defineProperty(m,"concatMap",{enumerable:!0,get:function(){return _B.concatMap}});var PB=vd();Object.defineProperty(m,"concatMapTo",{enumerable:!0,get:function(){return PB.concatMapTo}});var wB=yd();Object.defineProperty(m,"concatWith",{enumerable:!0,get:function(){return wB.concatWith}});var OB=wa();Object.defineProperty(m,"connect",{enumerable:!0,get:function(){return OB.connect}});var SB=gd();Object.defineProperty(m,"count",{enumerable:!0,get:function(){return SB.count}});var TB=bd();Object.defineProperty(m,"debounce",{enumerable:!0,get:function(){return TB.debounce}});var CB=_d();Object.defineProperty(m,"debounceTime",{enumerable:!0,get:function(){return CB.debounceTime}});var AB=lo();Object.defineProperty(m,"defaultIfEmpty",{enumerable:!0,get:function(){return AB.defaultIfEmpty}});var EB=Pd();Object.defineProperty(m,"delay",{enumerable:!0,get:function(){return EB.delay}});var qB=Nc();Object.defineProperty(m,"delayWhen",{enumerable:!0,get:function(){return qB.delayWhen}});var MB=wd();Object.defineProperty(m,"dematerialize",{enumerable:!0,get:function(){return MB.dematerialize}});var xB=Od();Object.defineProperty(m,"distinct",{enumerable:!0,get:function(){return xB.distinct}});var LB=Bc();Object.defineProperty(m,"distinctUntilChanged",{enumerable:!0,get:function(){return LB.distinctUntilChanged}});var jB=Sd();Object.defineProperty(m,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return jB.distinctUntilKeyChanged}});var IB=Td();Object.defineProperty(m,"elementAt",{enumerable:!0,get:function(){return IB.elementAt}});var FB=Cd();Object.defineProperty(m,"endWith",{enumerable:!0,get:function(){return FB.endWith}});var DB=Ad();Object.defineProperty(m,"every",{enumerable:!0,get:function(){return DB.every}});var kB=Ed();Object.defineProperty(m,"exhaust",{enumerable:!0,get:function(){return kB.exhaust}});var RB=Zc();Object.defineProperty(m,"exhaustAll",{enumerable:!0,get:function(){return RB.exhaustAll}});var zB=Xc();Object.defineProperty(m,"exhaustMap",{enumerable:!0,get:function(){return zB.exhaustMap}});var NB=qd();Object.defineProperty(m,"expand",{enumerable:!0,get:function(){return NB.expand}});var VB=Br();Object.defineProperty(m,"filter",{enumerable:!0,get:function(){return VB.filter}});var WB=Md();Object.defineProperty(m,"finalize",{enumerable:!0,get:function(){return WB.finalize}});var UB=il();Object.defineProperty(m,"find",{enumerable:!0,get:function(){return UB.find}});var GB=xd();Object.defineProperty(m,"findIndex",{enumerable:!0,get:function(){return GB.findIndex}});var BB=Ld();Object.defineProperty(m,"first",{enumerable:!0,get:function(){return BB.first}});var HB=jd();Object.defineProperty(m,"groupBy",{enumerable:!0,get:function(){return HB.groupBy}});var $B=Dc();Object.defineProperty(m,"ignoreElements",{enumerable:!0,get:function(){return $B.ignoreElements}});var YB=Id();Object.defineProperty(m,"isEmpty",{enumerable:!0,get:function(){return YB.isEmpty}});var QB=Fd();Object.defineProperty(m,"last",{enumerable:!0,get:function(){return QB.last}});var KB=Gr();Object.defineProperty(m,"map",{enumerable:!0,get:function(){return KB.map}});var XB=Rc();Object.defineProperty(m,"mapTo",{enumerable:!0,get:function(){return XB.mapTo}});var JB=kd();Object.defineProperty(m,"materialize",{enumerable:!0,get:function(){return JB.materialize}});var ZB=Rd();Object.defineProperty(m,"max",{enumerable:!0,get:function(){return ZB.max}});var eH=io();Object.defineProperty(m,"mergeAll",{enumerable:!0,get:function(){return eH.mergeAll}});var tH=zd();Object.defineProperty(m,"flatMap",{enumerable:!0,get:function(){return tH.flatMap}});var rH=vr();Object.defineProperty(m,"mergeMap",{enumerable:!0,get:function(){return rH.mergeMap}});var iH=Nd();Object.defineProperty(m,"mergeMapTo",{enumerable:!0,get:function(){return iH.mergeMapTo}});var nH=Vd();Object.defineProperty(m,"mergeScan",{enumerable:!0,get:function(){return nH.mergeScan}});var oH=Ud();Object.defineProperty(m,"mergeWith",{enumerable:!0,get:function(){return oH.mergeWith}});var aH=Gd();Object.defineProperty(m,"min",{enumerable:!0,get:function(){return aH.min}});var sH=Oa();Object.defineProperty(m,"multicast",{enumerable:!0,get:function(){return sH.multicast}});var uH=eo();Object.defineProperty(m,"observeOn",{enumerable:!0,get:function(){return uH.observeOn}});var cH=Bd();Object.defineProperty(m,"onErrorResumeNextWith",{enumerable:!0,get:function(){return cH.onErrorResumeNextWith}});var lH=Hd();Object.defineProperty(m,"pairwise",{enumerable:!0,get:function(){return lH.pairwise}});var fH=$d();Object.defineProperty(m,"pluck",{enumerable:!0,get:function(){return fH.pluck}});var hH=Yd();Object.defineProperty(m,"publish",{enumerable:!0,get:function(){return hH.publish}});var pH=Qd();Object.defineProperty(m,"publishBehavior",{enumerable:!0,get:function(){return pH.publishBehavior}});var dH=Kd();Object.defineProperty(m,"publishLast",{enumerable:!0,get:function(){return dH.publishLast}});var vH=Xd();Object.defineProperty(m,"publishReplay",{enumerable:!0,get:function(){return vH.publishReplay}});var mH=Ol();Object.defineProperty(m,"raceWith",{enumerable:!0,get:function(){return mH.raceWith}});var yH=on();Object.defineProperty(m,"reduce",{enumerable:!0,get:function(){return yH.reduce}});var gH=Jd();Object.defineProperty(m,"repeat",{enumerable:!0,get:function(){return gH.repeat}});var bH=Zd();Object.defineProperty(m,"repeatWhen",{enumerable:!0,get:function(){return bH.repeatWhen}});var _H=ev();Object.defineProperty(m,"retry",{enumerable:!0,get:function(){return _H.retry}});var PH=tv();Object.defineProperty(m,"retryWhen",{enumerable:!0,get:function(){return PH.retryWhen}});var wH=Qs();Object.defineProperty(m,"refCount",{enumerable:!0,get:function(){return wH.refCount}});var OH=ql();Object.defineProperty(m,"sample",{enumerable:!0,get:function(){return OH.sample}});var SH=rv();Object.defineProperty(m,"sampleTime",{enumerable:!0,get:function(){return SH.sampleTime}});var TH=iv();Object.defineProperty(m,"scan",{enumerable:!0,get:function(){return TH.scan}});var CH=nv();Object.defineProperty(m,"sequenceEqual",{enumerable:!0,get:function(){return CH.sequenceEqual}});var AH=jl();Object.defineProperty(m,"share",{enumerable:!0,get:function(){return AH.share}});var EH=av();Object.defineProperty(m,"shareReplay",{enumerable:!0,get:function(){return EH.shareReplay}});var qH=sv();Object.defineProperty(m,"single",{enumerable:!0,get:function(){return qH.single}});var MH=uv();Object.defineProperty(m,"skip",{enumerable:!0,get:function(){return MH.skip}});var xH=cv();Object.defineProperty(m,"skipLast",{enumerable:!0,get:function(){return xH.skipLast}});var LH=lv();Object.defineProperty(m,"skipUntil",{enumerable:!0,get:function(){return LH.skipUntil}});var jH=fv();Object.defineProperty(m,"skipWhile",{enumerable:!0,get:function(){return jH.skipWhile}});var IH=hv();Object.defineProperty(m,"startWith",{enumerable:!0,get:function(){return IH.startWith}});var FH=to();Object.defineProperty(m,"subscribeOn",{enumerable:!0,get:function(){return FH.subscribeOn}});var DH=pv();Object.defineProperty(m,"switchAll",{enumerable:!0,get:function(){return DH.switchAll}});var kH=mo();Object.defineProperty(m,"switchMap",{enumerable:!0,get:function(){return kH.switchMap}});var RH=dv();Object.defineProperty(m,"switchMapTo",{enumerable:!0,get:function(){return RH.switchMapTo}});var zH=vv();Object.defineProperty(m,"switchScan",{enumerable:!0,get:function(){return zH.switchScan}});var NH=fo();Object.defineProperty(m,"take",{enumerable:!0,get:function(){return NH.take}});var VH=ul();Object.defineProperty(m,"takeLast",{enumerable:!0,get:function(){return VH.takeLast}});var WH=mv();Object.defineProperty(m,"takeUntil",{enumerable:!0,get:function(){return WH.takeUntil}});var UH=yv();Object.defineProperty(m,"takeWhile",{enumerable:!0,get:function(){return UH.takeWhile}});var GH=gv();Object.defineProperty(m,"tap",{enumerable:!0,get:function(){return GH.tap}});var BH=Ql();Object.defineProperty(m,"throttle",{enumerable:!0,get:function(){return BH.throttle}});var HH=bv();Object.defineProperty(m,"throttleTime",{enumerable:!0,get:function(){return HH.throttleTime}});var $H=ho();Object.defineProperty(m,"throwIfEmpty",{enumerable:!0,get:function(){return $H.throwIfEmpty}});var YH=_v();Object.defineProperty(m,"timeInterval",{enumerable:!0,get:function(){return YH.timeInterval}});var QH=ga();Object.defineProperty(m,"timeout",{enumerable:!0,get:function(){return QH.timeout}});var KH=Pv();Object.defineProperty(m,"timeoutWith",{enumerable:!0,get:function(){return KH.timeoutWith}});var XH=wv();Object.defineProperty(m,"timestamp",{enumerable:!0,get:function(){return XH.timestamp}});var JH=_c();Object.defineProperty(m,"toArray",{enumerable:!0,get:function(){return JH.toArray}});var ZH=Ov();Object.defineProperty(m,"window",{enumerable:!0,get:function(){return ZH.window}});var e3=Sv();Object.defineProperty(m,"windowCount",{enumerable:!0,get:function(){return e3.windowCount}});var t3=Tv();Object.defineProperty(m,"windowTime",{enumerable:!0,get:function(){return t3.windowTime}});var r3=Av();Object.defineProperty(m,"windowToggle",{enumerable:!0,get:function(){return r3.windowToggle}});var i3=Ev();Object.defineProperty(m,"windowWhen",{enumerable:!0,get:function(){return i3.windowWhen}});var n3=qv();Object.defineProperty(m,"withLatestFrom",{enumerable:!0,get:function(){return n3.withLatestFrom}});var o3=Mv();Object.defineProperty(m,"zipAll",{enumerable:!0,get:function(){return o3.zipAll}});var a3=Lv();Object.defineProperty(m,"zipWith",{enumerable:!0,get:function(){return a3.zipWith}})});var oP=_(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.partition=void 0;var s3=Zp(),nP=Br();function u3(r,e){return function(t){return[nP.filter(r,e)(t),nP.filter(s3.not(r,e))(t)]}}of.partition=u3});var aP=_(Li=>{"use strict";var c3=Li&&Li.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],c;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){c={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(c)throw c.error}}return s},l3=Li&&Li.__spreadArray||function(r,e){for(var t=0,i=e.length,n=r.length;t<i;t++,n++)r[n]=e[t];return r};Object.defineProperty(Li,"__esModule",{value:!0});Li.race=void 0;var f3=mi(),h3=Ol();function p3(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return h3.raceWith.apply(void 0,l3([],c3(f3.argsOrArgArray(r))))}Li.race=p3});var _o=_(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.mergeAll=O.merge=O.max=O.materialize=O.mapTo=O.map=O.last=O.isEmpty=O.ignoreElements=O.groupBy=O.first=O.findIndex=O.find=O.finalize=O.filter=O.expand=O.exhaustMap=O.exhaustAll=O.exhaust=O.every=O.endWith=O.elementAt=O.distinctUntilKeyChanged=O.distinctUntilChanged=O.distinct=O.dematerialize=O.delayWhen=O.delay=O.defaultIfEmpty=O.debounceTime=O.debounce=O.count=O.connect=O.concatWith=O.concatMapTo=O.concatMap=O.concatAll=O.concat=O.combineLatestWith=O.combineLatest=O.combineLatestAll=O.combineAll=O.catchError=O.bufferWhen=O.bufferToggle=O.bufferTime=O.bufferCount=O.buffer=O.auditTime=O.audit=void 0;O.timeInterval=O.throwIfEmpty=O.throttleTime=O.throttle=O.tap=O.takeWhile=O.takeUntil=O.takeLast=O.take=O.switchScan=O.switchMapTo=O.switchMap=O.switchAll=O.subscribeOn=O.startWith=O.skipWhile=O.skipUntil=O.skipLast=O.skip=O.single=O.shareReplay=O.share=O.sequenceEqual=O.scan=O.sampleTime=O.sample=O.refCount=O.retryWhen=O.retry=O.repeatWhen=O.repeat=O.reduce=O.raceWith=O.race=O.publishReplay=O.publishLast=O.publishBehavior=O.publish=O.pluck=O.partition=O.pairwise=O.onErrorResumeNext=O.observeOn=O.multicast=O.min=O.mergeWith=O.mergeScan=O.mergeMapTo=O.mergeMap=O.flatMap=void 0;O.zipWith=O.zipAll=O.zip=O.withLatestFrom=O.windowWhen=O.windowToggle=O.windowTime=O.windowCount=O.window=O.toArray=O.timestamp=O.timeoutWith=O.timeout=void 0;var d3=hc();Object.defineProperty(O,"audit",{enumerable:!0,get:function(){return d3.audit}});var v3=td();Object.defineProperty(O,"auditTime",{enumerable:!0,get:function(){return v3.auditTime}});var m3=rd();Object.defineProperty(O,"buffer",{enumerable:!0,get:function(){return m3.buffer}});var y3=nd();Object.defineProperty(O,"bufferCount",{enumerable:!0,get:function(){return y3.bufferCount}});var g3=od();Object.defineProperty(O,"bufferTime",{enumerable:!0,get:function(){return g3.bufferTime}});var b3=sd();Object.defineProperty(O,"bufferToggle",{enumerable:!0,get:function(){return b3.bufferToggle}});var _3=ud();Object.defineProperty(O,"bufferWhen",{enumerable:!0,get:function(){return _3.bufferWhen}});var P3=cd();Object.defineProperty(O,"catchError",{enumerable:!0,get:function(){return P3.catchError}});var w3=hd();Object.defineProperty(O,"combineAll",{enumerable:!0,get:function(){return w3.combineAll}});var O3=Oc();Object.defineProperty(O,"combineLatestAll",{enumerable:!0,get:function(){return O3.combineLatestAll}});var S3=pd();Object.defineProperty(O,"combineLatest",{enumerable:!0,get:function(){return S3.combineLatest}});var T3=dd();Object.defineProperty(O,"combineLatestWith",{enumerable:!0,get:function(){return T3.combineLatestWith}});var C3=md();Object.defineProperty(O,"concat",{enumerable:!0,get:function(){return C3.concat}});var A3=ba();Object.defineProperty(O,"concatAll",{enumerable:!0,get:function(){return A3.concatAll}});var E3=Cc();Object.defineProperty(O,"concatMap",{enumerable:!0,get:function(){return E3.concatMap}});var q3=vd();Object.defineProperty(O,"concatMapTo",{enumerable:!0,get:function(){return q3.concatMapTo}});var M3=yd();Object.defineProperty(O,"concatWith",{enumerable:!0,get:function(){return M3.concatWith}});var x3=wa();Object.defineProperty(O,"connect",{enumerable:!0,get:function(){return x3.connect}});var L3=gd();Object.defineProperty(O,"count",{enumerable:!0,get:function(){return L3.count}});var j3=bd();Object.defineProperty(O,"debounce",{enumerable:!0,get:function(){return j3.debounce}});var I3=_d();Object.defineProperty(O,"debounceTime",{enumerable:!0,get:function(){return I3.debounceTime}});var F3=lo();Object.defineProperty(O,"defaultIfEmpty",{enumerable:!0,get:function(){return F3.defaultIfEmpty}});var D3=Pd();Object.defineProperty(O,"delay",{enumerable:!0,get:function(){return D3.delay}});var k3=Nc();Object.defineProperty(O,"delayWhen",{enumerable:!0,get:function(){return k3.delayWhen}});var R3=wd();Object.defineProperty(O,"dematerialize",{enumerable:!0,get:function(){return R3.dematerialize}});var z3=Od();Object.defineProperty(O,"distinct",{enumerable:!0,get:function(){return z3.distinct}});var N3=Bc();Object.defineProperty(O,"distinctUntilChanged",{enumerable:!0,get:function(){return N3.distinctUntilChanged}});var V3=Sd();Object.defineProperty(O,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return V3.distinctUntilKeyChanged}});var W3=Td();Object.defineProperty(O,"elementAt",{enumerable:!0,get:function(){return W3.elementAt}});var U3=Cd();Object.defineProperty(O,"endWith",{enumerable:!0,get:function(){return U3.endWith}});var G3=Ad();Object.defineProperty(O,"every",{enumerable:!0,get:function(){return G3.every}});var B3=Ed();Object.defineProperty(O,"exhaust",{enumerable:!0,get:function(){return B3.exhaust}});var H3=Zc();Object.defineProperty(O,"exhaustAll",{enumerable:!0,get:function(){return H3.exhaustAll}});var $3=Xc();Object.defineProperty(O,"exhaustMap",{enumerable:!0,get:function(){return $3.exhaustMap}});var Y3=qd();Object.defineProperty(O,"expand",{enumerable:!0,get:function(){return Y3.expand}});var Q3=Br();Object.defineProperty(O,"filter",{enumerable:!0,get:function(){return Q3.filter}});var K3=Md();Object.defineProperty(O,"finalize",{enumerable:!0,get:function(){return K3.finalize}});var X3=il();Object.defineProperty(O,"find",{enumerable:!0,get:function(){return X3.find}});var J3=xd();Object.defineProperty(O,"findIndex",{enumerable:!0,get:function(){return J3.findIndex}});var Z3=Ld();Object.defineProperty(O,"first",{enumerable:!0,get:function(){return Z3.first}});var e$=jd();Object.defineProperty(O,"groupBy",{enumerable:!0,get:function(){return e$.groupBy}});var t$=Dc();Object.defineProperty(O,"ignoreElements",{enumerable:!0,get:function(){return t$.ignoreElements}});var r$=Id();Object.defineProperty(O,"isEmpty",{enumerable:!0,get:function(){return r$.isEmpty}});var i$=Fd();Object.defineProperty(O,"last",{enumerable:!0,get:function(){return i$.last}});var n$=Gr();Object.defineProperty(O,"map",{enumerable:!0,get:function(){return n$.map}});var o$=Rc();Object.defineProperty(O,"mapTo",{enumerable:!0,get:function(){return o$.mapTo}});var a$=kd();Object.defineProperty(O,"materialize",{enumerable:!0,get:function(){return a$.materialize}});var s$=Rd();Object.defineProperty(O,"max",{enumerable:!0,get:function(){return s$.max}});var u$=Wd();Object.defineProperty(O,"merge",{enumerable:!0,get:function(){return u$.merge}});var c$=io();Object.defineProperty(O,"mergeAll",{enumerable:!0,get:function(){return c$.mergeAll}});var l$=zd();Object.defineProperty(O,"flatMap",{enumerable:!0,get:function(){return l$.flatMap}});var f$=vr();Object.defineProperty(O,"mergeMap",{enumerable:!0,get:function(){return f$.mergeMap}});var h$=Nd();Object.defineProperty(O,"mergeMapTo",{enumerable:!0,get:function(){return h$.mergeMapTo}});var p$=Vd();Object.defineProperty(O,"mergeScan",{enumerable:!0,get:function(){return p$.mergeScan}});var d$=Ud();Object.defineProperty(O,"mergeWith",{enumerable:!0,get:function(){return d$.mergeWith}});var v$=Gd();Object.defineProperty(O,"min",{enumerable:!0,get:function(){return v$.min}});var m$=Oa();Object.defineProperty(O,"multicast",{enumerable:!0,get:function(){return m$.multicast}});var y$=eo();Object.defineProperty(O,"observeOn",{enumerable:!0,get:function(){return y$.observeOn}});var g$=Bd();Object.defineProperty(O,"onErrorResumeNext",{enumerable:!0,get:function(){return g$.onErrorResumeNext}});var b$=Hd();Object.defineProperty(O,"pairwise",{enumerable:!0,get:function(){return b$.pairwise}});var _$=oP();Object.defineProperty(O,"partition",{enumerable:!0,get:function(){return _$.partition}});var P$=$d();Object.defineProperty(O,"pluck",{enumerable:!0,get:function(){return P$.pluck}});var w$=Yd();Object.defineProperty(O,"publish",{enumerable:!0,get:function(){return w$.publish}});var O$=Qd();Object.defineProperty(O,"publishBehavior",{enumerable:!0,get:function(){return O$.publishBehavior}});var S$=Kd();Object.defineProperty(O,"publishLast",{enumerable:!0,get:function(){return S$.publishLast}});var T$=Xd();Object.defineProperty(O,"publishReplay",{enumerable:!0,get:function(){return T$.publishReplay}});var C$=aP();Object.defineProperty(O,"race",{enumerable:!0,get:function(){return C$.race}});var A$=Ol();Object.defineProperty(O,"raceWith",{enumerable:!0,get:function(){return A$.raceWith}});var E$=on();Object.defineProperty(O,"reduce",{enumerable:!0,get:function(){return E$.reduce}});var q$=Jd();Object.defineProperty(O,"repeat",{enumerable:!0,get:function(){return q$.repeat}});var M$=Zd();Object.defineProperty(O,"repeatWhen",{enumerable:!0,get:function(){return M$.repeatWhen}});var x$=ev();Object.defineProperty(O,"retry",{enumerable:!0,get:function(){return x$.retry}});var L$=tv();Object.defineProperty(O,"retryWhen",{enumerable:!0,get:function(){return L$.retryWhen}});var j$=Qs();Object.defineProperty(O,"refCount",{enumerable:!0,get:function(){return j$.refCount}});var I$=ql();Object.defineProperty(O,"sample",{enumerable:!0,get:function(){return I$.sample}});var F$=rv();Object.defineProperty(O,"sampleTime",{enumerable:!0,get:function(){return F$.sampleTime}});var D$=iv();Object.defineProperty(O,"scan",{enumerable:!0,get:function(){return D$.scan}});var k$=nv();Object.defineProperty(O,"sequenceEqual",{enumerable:!0,get:function(){return k$.sequenceEqual}});var R$=jl();Object.defineProperty(O,"share",{enumerable:!0,get:function(){return R$.share}});var z$=av();Object.defineProperty(O,"shareReplay",{enumerable:!0,get:function(){return z$.shareReplay}});var N$=sv();Object.defineProperty(O,"single",{enumerable:!0,get:function(){return N$.single}});var V$=uv();Object.defineProperty(O,"skip",{enumerable:!0,get:function(){return V$.skip}});var W$=cv();Object.defineProperty(O,"skipLast",{enumerable:!0,get:function(){return W$.skipLast}});var U$=lv();Object.defineProperty(O,"skipUntil",{enumerable:!0,get:function(){return U$.skipUntil}});var G$=fv();Object.defineProperty(O,"skipWhile",{enumerable:!0,get:function(){return G$.skipWhile}});var B$=hv();Object.defineProperty(O,"startWith",{enumerable:!0,get:function(){return B$.startWith}});var H$=to();Object.defineProperty(O,"subscribeOn",{enumerable:!0,get:function(){return H$.subscribeOn}});var $$=pv();Object.defineProperty(O,"switchAll",{enumerable:!0,get:function(){return $$.switchAll}});var Y$=mo();Object.defineProperty(O,"switchMap",{enumerable:!0,get:function(){return Y$.switchMap}});var Q$=dv();Object.defineProperty(O,"switchMapTo",{enumerable:!0,get:function(){return Q$.switchMapTo}});var K$=vv();Object.defineProperty(O,"switchScan",{enumerable:!0,get:function(){return K$.switchScan}});var X$=fo();Object.defineProperty(O,"take",{enumerable:!0,get:function(){return X$.take}});var J$=ul();Object.defineProperty(O,"takeLast",{enumerable:!0,get:function(){return J$.takeLast}});var Z$=mv();Object.defineProperty(O,"takeUntil",{enumerable:!0,get:function(){return Z$.takeUntil}});var e6=yv();Object.defineProperty(O,"takeWhile",{enumerable:!0,get:function(){return e6.takeWhile}});var t6=gv();Object.defineProperty(O,"tap",{enumerable:!0,get:function(){return t6.tap}});var r6=Ql();Object.defineProperty(O,"throttle",{enumerable:!0,get:function(){return r6.throttle}});var i6=bv();Object.defineProperty(O,"throttleTime",{enumerable:!0,get:function(){return i6.throttleTime}});var n6=ho();Object.defineProperty(O,"throwIfEmpty",{enumerable:!0,get:function(){return n6.throwIfEmpty}});var o6=_v();Object.defineProperty(O,"timeInterval",{enumerable:!0,get:function(){return o6.timeInterval}});var a6=ga();Object.defineProperty(O,"timeout",{enumerable:!0,get:function(){return a6.timeout}});var s6=Pv();Object.defineProperty(O,"timeoutWith",{enumerable:!0,get:function(){return s6.timeoutWith}});var u6=wv();Object.defineProperty(O,"timestamp",{enumerable:!0,get:function(){return u6.timestamp}});var c6=_c();Object.defineProperty(O,"toArray",{enumerable:!0,get:function(){return c6.toArray}});var l6=Ov();Object.defineProperty(O,"window",{enumerable:!0,get:function(){return l6.window}});var f6=Sv();Object.defineProperty(O,"windowCount",{enumerable:!0,get:function(){return f6.windowCount}});var h6=Tv();Object.defineProperty(O,"windowTime",{enumerable:!0,get:function(){return h6.windowTime}});var p6=Av();Object.defineProperty(O,"windowToggle",{enumerable:!0,get:function(){return p6.windowToggle}});var d6=Ev();Object.defineProperty(O,"windowWhen",{enumerable:!0,get:function(){return d6.windowWhen}});var v6=qv();Object.defineProperty(O,"withLatestFrom",{enumerable:!0,get:function(){return v6.withLatestFrom}});var m6=xv();Object.defineProperty(O,"zip",{enumerable:!0,get:function(){return m6.zip}});var y6=Mv();Object.defineProperty(O,"zipAll",{enumerable:!0,get:function(){return y6.zipAll}});var g6=Lv();Object.defineProperty(O,"zipWith",{enumerable:!0,get:function(){return g6.zipWith}})});var Ea=_(Aa=>{var b6=function(r,e){return r<e?-1:r>e?1:0},_6=function(r,e){return r<e?1:r>e?-1:0};function P6(r){return function(e,t){return r(t,e)}}function w6(r){return r===2?function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0}:function(e,t){for(var i=0;i<r;){if(e[i]<t[i])return-1;if(e[i]>t[i])return 1;i++}return 0}}Aa.DEFAULT_COMPARATOR=b6;Aa.DEFAULT_REVERSE_COMPARATOR=_6;Aa.reverseComparator=P6;Aa.createTupleComparator=w6});var sP=_(Iv=>{Iv.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";Iv.SYMBOL_SUPPORT=typeof Symbol<"u"});var _e=_((Q7,cP)=>{var uP=sP(),O6=uP.ARRAY_BUFFER_SUPPORT,S6=uP.SYMBOL_SUPPORT;cP.exports=function(e,t){var i,n,s,c,l;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||O6&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,c=e.length;s<c;s++)t(e[s],s);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(S6&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(i=e,s=0;l=i.next(),l.done!==!0;)t(l.value,s),s++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}});var ff=_((K7,mP)=>{var lP=Ea(),fP=_e(),hP=lP.DEFAULT_COMPARATOR,T6=lP.reverseComparator;function lt(r){if(this.clear(),this.comparator=r||hP,typeof this.comparator!="function")throw new Error("mnemonist/FibonacciHeap.constructor: given comparator should be a function.")}lt.prototype.clear=function(){this.root=null,this.min=null,this.size=0};function C6(r){return{item:r,degree:0}}function pP(r,e){r.root?(e.right=r.root.right,e.left=r.root,r.root.right.left=e,r.root.right=e):r.root=e}lt.prototype.push=function(r){var e=C6(r);return e.left=e,e.right=e,pP(this,e),(!this.min||this.comparator(e.item,this.min.item)<=0)&&(this.min=e),++this.size};lt.prototype.peek=function(){return this.min?this.min.item:void 0};function dP(r){for(var e=[],t=r,i=!1;!(t===r&&i);)t===r&&(i=!0),e.push(t),t=t.right;return e}function vP(r,e){r.root===e&&(r.root=e.right),e.left.right=e.right,e.right.left=e.left}function A6(r,e){r.child?(e.right=r.child.right,e.left=r.child,r.child.right.left=e,r.child.right=e):r.child=e}function E6(r,e,t){vP(r,e),e.left=e,e.right=e,A6(t,e),t.degree++,e.parent=t}function q6(r){var e=new Array(r.size),t=dP(r.root),i,n,s,c,l,h;for(i=0,n=t.length;i<n;i++){for(s=t[i],l=s.degree;e[l];)c=e[l],r.comparator(s.item,c.item)>0&&(h=s,s=c,c=h),E6(r,c,s),e[l]=null,l++;e[l]=s}for(i=0;i<r.size;i++)e[i]&&r.comparator(e[i].item,r.min.item)<=0&&(r.min=e[i])}lt.prototype.pop=function(){if(this.size){var r=this.min;if(r.child){var e=dP(r.child),t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],pP(this,t),delete t.parent}return vP(this,r),r===r.right?(this.min=null,this.root=null):(this.min=r.right,q6(this)),this.size--,r.item}};lt.prototype.inspect=function(){var r={size:this.size};return this.min&&"item"in this.min&&(r.top=this.min.item),Object.defineProperty(r,"constructor",{value:lt,enumerable:!1}),r};typeof Symbol<"u"&&(lt.prototype[Symbol.for("nodejs.util.inspect.custom")]=lt.prototype.inspect);function lf(r){if(this.clear(),this.comparator=r||hP,typeof this.comparator!="function")throw new Error("mnemonist/FibonacciHeap.constructor: given comparator should be a function.");this.comparator=T6(this.comparator)}lf.prototype=lt.prototype;lt.from=function(r,e){var t=new lt(e);return fP(r,function(i){t.push(i)}),t};lf.from=function(r,e){var t=new lf(e);return fP(r,function(i){t.push(i)}),t};lt.MinFibonacciHeap=lt;lt.MaxFibonacciHeap=lf;mP.exports=lt});var ft=_(gr=>{var M6=Math.pow(2,8)-1,x6=Math.pow(2,16)-1,L6=Math.pow(2,32)-1,j6=Math.pow(2,7)-1,I6=Math.pow(2,15)-1,F6=Math.pow(2,31)-1;gr.getPointerArray=function(r){var e=r-1;if(e<=M6)return Uint8Array;if(e<=x6)return Uint16Array;if(e<=L6)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")};gr.getSignedPointerArray=function(r){var e=r-1;return e<=j6?Int8Array:e<=I6?Int16Array:e<=F6?Int32Array:Float64Array};gr.getNumberType=function(r){return r===(r|0)?Math.sign(r)===-1?r<=127&&r>=-128?Int8Array:r<=32767&&r>=-32768?Int16Array:Int32Array:r<=255?Uint8Array:r<=65535?Uint16Array:Uint32Array:Float64Array};var D6={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};gr.getMinimalRepresentation=function(r,e){var t=null,i=0,n,s,c,l,h;for(l=0,h=r.length;l<h;l++)c=e?e(r[l]):r[l],s=gr.getNumberType(c),n=D6[s.name],n>i&&(i=n,t=s);return t};gr.isTypedArray=function(r){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(r)};gr.concat=function(){var r=0,e,t,i;for(e=0,i=arguments.length;e<i;e++)r+=arguments[e].length;var n=new arguments[0].constructor(r);for(e=0,t=0;e<i;e++)n.set(arguments[e],t),t+=arguments[e].length;return n};gr.indices=function(r){for(var e=gr.getPointerArray(r),t=new e(r),i=0;i<r;i++)t[i]=i;return t}});var Ot=_(Ma=>{var bP=_e(),_P=ft();function k6(r){return Array.isArray(r)||_P.isTypedArray(r)}function Fv(r){if(typeof r.length=="number")return r.length;if(typeof r.size=="number")return r.size}function R6(r){var e=Fv(r),t=typeof e=="number"?new Array(e):[],i=0;return bP(r,function(n){t[i++]=n}),t}function z6(r){var e=Fv(r),t=typeof e=="number"?_P.getPointerArray(e):Array,i=typeof e=="number"?new Array(e):[],n=typeof e=="number"?new t(e):[],s=0;return bP(r,function(c){i[s]=c,n[s]=s++}),[i,n]}Ma.isArrayLike=k6;Ma.guessLength=Fv;Ma.toArray=R6;Ma.toArrayWithIndices=z6});var bf=_((_X,SP)=>{var mf=_e(),PP=Ea(),br=Ot(),gf=PP.DEFAULT_COMPARATOR,Dv=PP.reverseComparator;function kv(r,e,t,i){for(var n=e[i],s,c;i>t;){if(s=i-1>>1,c=e[s],r(n,c)<0){e[i]=c,i=s;continue}break}e[i]=n}function xa(r,e,t){for(var i=e.length,n=t,s=e[t],c=2*t+1,l;c<i;)l=c+1,l<i&&r(e[c],e[l])>=0&&(c=l),e[t]=e[c],t=c,c=2*t+1;e[t]=s,kv(r,e,n,t)}function wP(r,e,t){e.push(t),kv(r,e,0,e.length-1)}function Rv(r,e){var t=e.pop();if(e.length!==0){var i=e[0];return e[0]=t,xa(r,e,0),i}return t}function Oo(r,e,t){if(e.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var i=e[0];return e[0]=t,xa(r,e,0),i}function OP(r,e,t){var i;return e.length!==0&&r(e[0],t)<0&&(i=e[0],e[0]=t,t=i,xa(r,e,0)),t}function cn(r,e){for(var t=e.length,i=t>>1,n=i;--n>=0;)xa(r,e,n)}function zv(r,e){for(var t=e.length,i=0,n=new Array(t);i<t;)n[i++]=Rv(r,e);return n}function N6(r,e,t){arguments.length===2&&(t=e,e=r,r=gf);var i=Dv(r),n,s,c,l=1/0,h;if(e===1){if(br.isArrayLike(t)){for(n=0,s=t.length;n<s;n++)c=t[n],(l===1/0||r(c,l)<0)&&(l=c);return h=new t.constructor(1),h[0]=l,h}return mf(t,function(v){(l===1/0||r(v,l)<0)&&(l=v)}),[l]}if(br.isArrayLike(t)){if(e>=t.length)return t.slice().sort(r);for(h=t.slice(0,e),cn(i,h),n=e,s=t.length;n<s;n++)i(t[n],h[0])>0&&Oo(i,h,t[n]);return h.sort(r)}var p=br.guessLength(t);return p!==null&&p<e&&(e=p),h=new Array(e),n=0,mf(t,function(v){n<e?h[n]=v:(n===e&&cn(i,h),i(v,h[0])>0&&Oo(i,h,v)),n++}),h.length>n&&(h.length=n),h.sort(r)}function V6(r,e,t){arguments.length===2&&(t=e,e=r,r=gf);var i=Dv(r),n,s,c,l=-1/0,h;if(e===1){if(br.isArrayLike(t)){for(n=0,s=t.length;n<s;n++)c=t[n],(l===-1/0||r(c,l)>0)&&(l=c);return h=new t.constructor(1),h[0]=l,h}return mf(t,function(v){(l===-1/0||r(v,l)>0)&&(l=v)}),[l]}if(br.isArrayLike(t)){if(e>=t.length)return t.slice().sort(i);for(h=t.slice(0,e),cn(r,h),n=e,s=t.length;n<s;n++)r(t[n],h[0])>0&&Oo(r,h,t[n]);return h.sort(i)}var p=br.guessLength(t);return p!==null&&p<e&&(e=p),h=new Array(e),n=0,mf(t,function(v){n<e?h[n]=v:(n===e&&cn(r,h),r(v,h[0])>0&&Oo(r,h,v)),n++}),h.length>n&&(h.length=n),h.sort(i)}function fe(r){if(this.clear(),this.comparator=r||gf,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}fe.prototype.clear=function(){this.items=[],this.size=0};fe.prototype.push=function(r){return wP(this.comparator,this.items,r),++this.size};fe.prototype.peek=function(){return this.items[0]};fe.prototype.pop=function(){return this.size!==0&&this.size--,Rv(this.comparator,this.items)};fe.prototype.replace=function(r){return Oo(this.comparator,this.items,r)};fe.prototype.pushpop=function(r){return OP(this.comparator,this.items,r)};fe.prototype.consume=function(){return this.size=0,zv(this.comparator,this.items)};fe.prototype.toArray=function(){return zv(this.comparator,this.items.slice())};fe.prototype.inspect=function(){var r=this.toArray();return Object.defineProperty(r,"constructor",{value:fe,enumerable:!1}),r};typeof Symbol<"u"&&(fe.prototype[Symbol.for("nodejs.util.inspect.custom")]=fe.prototype.inspect);function yf(r){if(this.clear(),this.comparator=r||gf,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=Dv(this.comparator)}yf.prototype=fe.prototype;fe.from=function(r,e){var t=new fe(e),i;return br.isArrayLike(r)?i=r.slice():i=br.toArray(r),cn(t.comparator,i),t.items=i,t.size=i.length,t};yf.from=function(r,e){var t=new yf(e),i;return br.isArrayLike(r)?i=r.slice():i=br.toArray(r),cn(t.comparator,i),t.items=i,t.size=i.length,t};fe.siftUp=xa;fe.siftDown=kv;fe.push=wP;fe.pop=Rv;fe.replace=Oo;fe.pushpop=OP;fe.heapify=cn;fe.consume=zv;fe.nsmallest=N6;fe.nlargest=V6;fe.MinHeap=fe;fe.MaxHeap=yf;SP.exports=fe});var qP=_((PX,EP)=>{var TP="";function CP(r,e,t){for(var i=e.length,n=[],s=i,c=-1,l,h=0,p;s--;)c=Math.max(r[e[s]+t],c);for(p=c>>24&&32||c>>16&&24||c>>8&&16||8;h<p;h+=4){for(s=16;s--;)n[s]=[];for(s=i;s--;)n[r[e[s]+t]>>h&15].push(e[s]);for(l=0;l<16;l++)for(c=n[l].length;c--;)e[++s]=n[l][c]}}function W6(r,e,t,i){return r[t]-r[i]||(t%3===2?r[t+1]-r[i+1]||e[t+2]-e[i+2]:e[t+1]-e[i+1])}function Nv(r,e){var t=[],i=[],n=2*e/3|0,s=e-n,c=n+1>>1,l=n,h=0,p,v=[],b=[];if(e===1)return[0];for(;l--;)t[l]=(l*3>>1)+1;for(l=3;l--;)CP(r,t,l);for(h=i[(t[0]/3|0)+(t[0]%3===1?0:c)]=1,l=1;l<n;l++)(r[t[l]]!==r[t[l-1]]||r[t[l]+1]!==r[t[l-1]+1]||r[t[l]+2]!==r[t[l-1]+2])&&h++,i[(t[l]/3|0)+(t[l]%3===1?0:c)]=h;if(h<n)for(i=Nv(i,n),l=n;l--;)t[l]=i[l]<c?i[l]*3+1:(i[l]-c)*3+2;for(l=n;l--;)v[t[l]]=l;for(v[e]=-1,v[e+1]=-2,i=e%3===1?[e-1]:[],l=0;l<n;l++)t[l]%3===1&&i.push(t[l]-1);for(CP(r,i,0),l=0,h=0,p=0;l<n&&h<s;)b[p++]=W6(r,v,t[l],i[h])<0?t[l++]:i[h++];for(;l<n;)b[p++]=t[l++];for(;h<s;)b[p++]=i[h++];return b}function AP(r){var e=r.length,t=e%3,i=new Array(e+t),n,s;if(typeof r!="string"){var c=Object.create(null);for(s=0;s<e;s++)c[r[s]]||(c[r[s]]=!0);var l=Object.create(null),h=Object.keys(c).sort();for(s=0,n=h.length;s<n;s++)l[h[s]]=s+1;for(s=0;s<e;s++)i[s]=l[r[s]]}else for(s=0;s<e;s++)i[s]=r.charCodeAt(s);for(s=e;s<e+t;s++)i[s]=0;return i}function ji(r){this.hasArbitrarySequence=typeof r!="string",this.string=r,this.length=r.length,this.array=Nv(AP(r),this.length)}ji.prototype.toString=function(){return this.array.join(",")};ji.prototype.toJSON=function(){return this.array};ji.prototype.inspect=function(){for(var r=new Array(this.length),e=0;e<this.length;e++)r[e]=this.string.slice(this.array[e]);return Object.defineProperty(r,"constructor",{value:ji,enumerable:!1}),r};typeof Symbol<"u"&&(ji.prototype[Symbol.for("nodejs.util.inspect.custom")]=ji.prototype.inspect);function Ii(r){if(this.hasArbitrarySequence=typeof r[0]!="string",this.size=r.length,this.hasArbitrarySequence){this.text=[];for(var e=0,t=this.size;e<t;e++)this.text.push.apply(this.text,r[e]),e<t-1&&this.text.push(TP)}else this.text=r.join(TP);this.firstLength=r[0].length,this.length=this.text.length,this.array=Nv(AP(this.text),this.length)}Ii.prototype.longestCommonSubsequence=function(){var r=this.hasArbitrarySequence?[]:"",e,t,i,n,s;for(t=1;t<this.length;t++)if(n=this.array[t],s=this.array[t-1],!(n<this.firstLength&&s<this.firstLength)&&!(n>this.firstLength&&s>this.firstLength)){for(e=Math.min(this.length-n,this.length-s),i=0;i<e;i++)if(this.text[n+i]!==this.text[s+i]){e=i;break}e>r.length&&(r=this.text.slice(n,n+e))}return r};Ii.prototype.toString=function(){return this.array.join(",")};Ii.prototype.toJSON=function(){return this.array};Ii.prototype.inspect=function(){for(var r=new Array(this.length),e=0;e<this.length;e++)r[e]=this.text.slice(this.array[e]);return Object.defineProperty(r,"constructor",{value:Ii,enumerable:!1}),r};typeof Symbol<"u"&&(Ii.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ii.prototype.inspect);ji.GeneralizedSuffixArray=Ii;EP.exports=ji});var IP=_((wX,jP)=>{var U6=_e();function tr(r){this.size=0,this.items=new Map,this.inverse=r}function Lt(){this.size=0,this.items=new Map,this.inverse=new tr(this)}function MP(){this.size=0,this.items.clear(),this.inverse.items.clear()}Lt.prototype.clear=MP;tr.prototype.clear=MP;function xP(r,e){if(this.items.has(r)){var t=this.items.get(r);if(t===e)return this;this.inverse.items.delete(t)}if(this.inverse.items.has(e)){var i=this.inverse.items.get(e);if(i===r)return this;this.items.delete(i)}return this.items.set(r,e),this.inverse.items.set(e,r),this.size=this.items.size,this.inverse.size=this.inverse.items.size,this}Lt.prototype.set=xP;tr.prototype.set=xP;function LP(r){if(this.items.has(r)){var e=this.items.get(r);return this.items.delete(r),this.inverse.items.delete(e),this.size=this.items.size,this.inverse.size=this.inverse.items.size,!0}return!1}Lt.prototype.delete=LP;tr.prototype.delete=LP;var G6=["has","get","forEach","keys","values","entries"];G6.forEach(function(r){Lt.prototype[r]=tr.prototype[r]=function(){return Map.prototype[r].apply(this.items,arguments)}});typeof Symbol<"u"&&(Lt.prototype[Symbol.iterator]=Lt.prototype.entries,tr.prototype[Symbol.iterator]=tr.prototype.entries);Lt.prototype.inspect=function(){var r={left:this.items,right:this.inverse.items};return Object.defineProperty(r,"constructor",{value:Lt,enumerable:!1}),r};typeof Symbol<"u"&&(Lt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Lt.prototype.inspect);tr.prototype.inspect=function(){var r={left:this.inverse.items,right:this.items};return Object.defineProperty(r,"constructor",{value:tr,enumerable:!1}),r};typeof Symbol<"u"&&(tr.prototype[Symbol.for("nodejs.util.inspect.custom")]=tr.prototype.inspect);Lt.from=function(r){var e=new Lt;return U6(r,function(t,i){e.set(i,t)}),e};jP.exports=Lt});var Ue=_((OX,FP)=>{function _r(r){if(typeof r!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=r}typeof Symbol<"u"&&(_r.prototype[Symbol.iterator]=function(){return this});_r.of=function(){var r=arguments,e=r.length,t=0;return new _r(function(){return t>=e?{done:!0}:{done:!1,value:r[t++]}})};_r.empty=function(){var r=new _r(function(){return{done:!0}});return r};_r.fromSequence=function(r){var e=0,t=r.length;return new _r(function(){return e>=t?{done:!0}:{done:!1,value:r[e++]}})};_r.is=function(r){return r instanceof _r?!0:typeof r=="object"&&r!==null&&typeof r.next=="function"};FP.exports=_r});var Wv=_(rr=>{function kP(r){return r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r&~(r>>1)}rr.msb32=kP;function Vv(r){return r|=r>>1,r|=r>>2,r|=r>>4,r&~(r>>1)}rr.msb8=Vv;rr.test=function(r,e){return r>>e&1};rr.criticalBit8=function(r,e){return Vv(r^e)};rr.criticalBit8Mask=function(r,e){return~Vv(r^e)>>>0&255};rr.testCriticalBit8=function(r,e){return 1+(r|e)>>8};rr.criticalBit32Mask=function(r,e){return~kP(r^e)>>>0&4294967295};rr.popcount=function(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),r=r+(r>>4)&252645135,r+=r>>8,r+=r>>16,r&127};var So=new Uint8Array(Math.pow(2,8));for(La=0,DP=So.length;La<DP;La++)So[La]=rr.popcount(La);var La,DP;rr.table8Popcount=function(r){return So[r&255]+So[r>>8&255]+So[r>>16&255]+So[r>>24&255]}});var VP=_((TX,NP)=>{var zP=Ue(),RP=Wv();function Re(r){this.length=r,this.clear()}Re.prototype.clear=function(){this.size=0,this.array=new Uint32Array(Math.ceil(this.length/32))};Re.prototype.set=function(r,e){var t=r>>5,i=r&31,n=this.array[t],s;return e===0||e===!1?s=this.array[t]&=~(1<<i):s=this.array[t]|=1<<i,s=s>>>0,s>n?this.size++:s<n&&this.size--,this};Re.prototype.reset=function(r){var e=r>>5,t=r&31,i=this.array[e],n;return n=this.array[e]&=~(1<<t),n<i&&this.size--,this};Re.prototype.flip=function(r){var e=r>>5,t=r&31,i=this.array[e],n=this.array[e]^=1<<t;return n=n>>>0,n>i?this.size++:n<i&&this.size--,this};Re.prototype.get=function(r){var e=r>>5,t=r&31;return this.array[e]>>t&1};Re.prototype.test=function(r){return!!this.get(r)};Re.prototype.rank=function(r){if(this.size===0)return 0;for(var e=r>>5,t=r&31,i=0,n=0;n<e;n++)i+=RP.table8Popcount(this.array[n]);var s=this.array[e]&(1<<t)-1;return i+=RP.table8Popcount(s),i};Re.prototype.select=function(r){if(this.size===0||r>=this.length)return-1;for(var e,t=32,i=0,n=0,s=0,c=this.array.length;s<c;s++)if(e=this.array[s],e!==0){s===c-1&&(t=this.length%32||32);for(var l=0;l<t;l++,i++)if(n+=e>>l&1,n===r)return i}};Re.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=this.length,i,n,s=32,c=0,l=this.array.length;c<l;c++){i=this.array[c],c===l-1&&(s=t%32||32);for(var h=0;h<s;h++)n=i>>h&1,r.call(e,n,c*32+h)}};Re.prototype.values=function(){var r=this.length,e=!1,t,i,n=this.array,s=n.length,c=0,l=-1,h=32;return new zP(function p(){if(!e){if(c>=s)return{done:!0};c===s-1&&(h=r%32||32),t=n[c++],e=!0,l=-1}return l++,l>=h?(e=!1,p()):(i=t>>l&1,{value:i})})};Re.prototype.entries=function(){var r=this.length,e=!1,t,i,n=this.array,s,c=n.length,l=0,h=-1,p=32;return new zP(function v(){if(!e){if(l>=c)return{done:!0};l===c-1&&(p=r%32||32),t=n[l++],e=!0,h=-1}return h++,s=~-l*32+h,h>=p?(e=!1,v()):(i=t>>h&1,{value:[s,i]})})};typeof Symbol<"u"&&(Re.prototype[Symbol.iterator]=Re.prototype.values);Re.prototype.inspect=function(){var r=new Uint8Array(this.length);return this.forEach(function(e,t){r[t]=e}),Object.defineProperty(r,"constructor",{value:Re,enumerable:!1}),r};typeof Symbol<"u"&&(Re.prototype[Symbol.for("nodejs.util.inspect.custom")]=Re.prototype.inspect);Re.prototype.toJSON=function(){return Array.from(this.array)};NP.exports=Re});var BP=_((CX,GP)=>{var UP=Ue(),WP=Wv(),B6=function(r){return Math.max(1,Math.ceil(r*1.5))};function H6(r){return new Uint32Array(Math.ceil(r/32))}function Pe(r){var e=r||0,t=B6;typeof r=="object"&&(e=r.initialLength||r.initialCapacity||0,t=r.policy||t),this.size=0,this.length=e,this.capacity=Math.ceil(this.length/32)*32,this.policy=t,this.array=H6(this.capacity)}Pe.prototype.set=function(r,e){if(this.length<r)throw new Error("BitVector.set: index out of bounds.");var t=r>>5,i=r&31,n=this.array[t],s;return e===0||e===!1?s=this.array[t]&=~(1<<i):s=this.array[t]|=1<<i,s=s>>>0,s>n?this.size++:s<n&&this.size--,this};Pe.prototype.reset=function(r){var e=r>>5,t=r&31,i=this.array[e],n;return n=this.array[e]&=~(1<<t),n<i&&this.size--,this};Pe.prototype.flip=function(r){var e=r>>5,t=r&31,i=this.array[e],n=this.array[e]^=1<<t;return n=n>>>0,n>i?this.size++:n<i&&this.size--,this};Pe.prototype.applyPolicy=function(r){var e=this.policy(r||this.capacity);if(typeof e!="number"||e<0)throw new Error("mnemonist/bit-vector.applyPolicy: policy returned an invalid value (expecting a positive integer).");if(e<=this.capacity)throw new Error("mnemonist/bit-vector.applyPolicy: policy returned a less or equal capacity to allocate.");return Math.ceil(e/32)*32};Pe.prototype.reallocate=function(r){var e=r;if(r=Math.ceil(r/32)*32,e<this.length&&(this.length=e),r===this.capacity)return this;var t=this.array,i=r/32;return i===this.array.length?this:(i>this.array.length?(this.array=new Uint32Array(i),this.array.set(t,0)):this.array=t.slice(0,i),this.capacity=r,this)};Pe.prototype.grow=function(r){var e;if(typeof r=="number"){if(this.capacity>=r)return this;for(e=this.capacity;e<r;)e=this.applyPolicy(e);return this.reallocate(e),this}return e=this.applyPolicy(),this.reallocate(e),this};Pe.prototype.resize=function(r){return r===this.length?this:r<this.length?(this.length=r,this):(this.length=r,this.reallocate(r),this)};Pe.prototype.push=function(r){if(this.capacity===this.length&&this.grow(),r===0||r===!1)return++this.length;this.size++;var e=this.length++,t=e>>5,i=e&31;return this.array[t]|=1<<i,this.length};Pe.prototype.pop=function(){if(this.length!==0){var r=--this.length,e=r>>5,t=r&31;return this.array[e]>>t&1}};Pe.prototype.get=function(r){if(!(this.length<r)){var e=r>>5,t=r&31;return this.array[e]>>t&1}};Pe.prototype.test=function(r){return this.length<r?!1:!!this.get(r)};Pe.prototype.rank=function(r){if(this.size===0)return 0;for(var e=r>>5,t=r&31,i=0,n=0;n<e;n++)i+=WP.table8Popcount(this.array[n]);var s=this.array[e]&(1<<t)-1;return i+=WP.table8Popcount(s),i};Pe.prototype.select=function(r){if(this.size===0||r>=this.length)return-1;for(var e,t=32,i=0,n=0,s=0,c=this.array.length;s<c;s++)if(e=this.array[s],e!==0){s===c-1&&(t=this.length%32||32);for(var l=0;l<t;l++,i++)if(n+=e>>l&1,n===r)return i}};Pe.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=this.length,i,n,s=32,c=0,l=this.array.length;c<l;c++){i=this.array[c],c===l-1&&(s=t%32||32);for(var h=0;h<s;h++)n=i>>h&1,r.call(e,n,c*32+h)}};Pe.prototype.values=function(){var r=this.length,e=!1,t,i,n=this.array,s=n.length,c=0,l=-1,h=32;return new UP(function p(){if(!e){if(c>=s)return{done:!0};c===s-1&&(h=r%32||32),t=n[c++],e=!0,l=-1}return l++,l>=h?(e=!1,p()):(i=t>>l&1,{value:i})})};Pe.prototype.entries=function(){var r=this.length,e=!1,t,i,n=this.array,s,c=n.length,l=0,h=-1,p=32;return new UP(function v(){if(!e){if(l>=c)return{done:!0};l===c-1&&(p=r%32||32),t=n[l++],e=!0,h=-1}return h++,s=~-l*32+h,h>=p?(e=!1,v()):(i=t>>h&1,{value:[s,i]})})};typeof Symbol<"u"&&(Pe.prototype[Symbol.iterator]=Pe.prototype.values);Pe.prototype.inspect=function(){var r=new Uint8Array(this.length);return this.forEach(function(e,t){r[t]=e}),Object.defineProperty(r,"constructor",{value:Pe,enumerable:!1}),r};typeof Symbol<"u"&&(Pe.prototype[Symbol.for("nodejs.util.inspect.custom")]=Pe.prototype.inspect);Pe.prototype.toJSON=function(){return Array.from(this.array.slice(0,(this.length>>5)+1))};GP.exports=Pe});var $P=_((AX,HP)=>{function ln(r,e){return(r&65535)*e+(((r>>>16)*e&65535)<<16)&4294967295}function $6(r,e){return(r&65535)+(e>>>16)+(((r>>>16)+e&65535)<<16)&4294967295}function Uv(r,e){return r<<e|r>>>32-e}HP.exports=function(e,t){var i=3432918353,n=461845907,s=15,c=13,l=5,h=1801774676,p=e,v,b,w;for(b=0,w=t.length-4;b<=w;b+=4)v=t[b]|t[b+1]<<8|t[b+2]<<16|t[b+3]<<24,v=ln(v,i),v=Uv(v,s),v=ln(v,n),p^=v,p=Uv(p,c),p=ln(p,l),p=$6(p,h);switch(v=0,t.length&3){case 3:v^=t[b+2]<<16;case 2:v^=t[b+1]<<8;case 1:v^=t[b],v=ln(v,i),v=Uv(v,s),v=ln(v,n),p^=v;default:}return p^=t.length,p^=p>>>16,p=ln(p,2246822507),p^=p>>>13,p=ln(p,3266489909),p^=p>>>16,p>>>0}});var XP=_((EX,KP)=>{var Y6=$P(),Q6=_e(),K6=Math.LN2*Math.LN2,X6={errorRate:.005};function YP(r){var e=new Uint16Array(r.length),t,i;for(t=0,i=r.length;t<i;t++)e[t]=r.charCodeAt(t);return e}function QP(r,e,t){var i=Y6(e*4221880213&4294967295,t);return i%(r*8)}function fn(r){var e={};if(!r)throw new Error("mnemonist/BloomFilter.constructor: a BloomFilter must be created with a capacity.");if(typeof r=="object"?e=r:e.capacity=r,typeof e.capacity!="number"||e.capacity<=0)throw new Error("mnemonist/BloomFilter.constructor: `capacity` option should be a positive integer.");if(this.capacity=e.capacity,this.errorRate=e.errorRate||X6.errorRate,typeof this.errorRate!="number"||e.errorRate<=0)throw new Error("mnemonist/BloomFilter.constructor: `errorRate` option should be a positive float.");this.clear()}fn.prototype.clear=function(){var r=-1/K6*this.capacity*Math.log(this.errorRate),e=r/8|0;this.hashFunctions=e*8/this.capacity*Math.LN2|0,this.data=new Uint8Array(e)};fn.prototype.add=function(r){for(var e=YP(r),t=0,i=this.hashFunctions;t<i;t++){var n=QP(this.data.length,t,e),s=1<<(7&n);this.data[n>>3]|=s}return this};fn.prototype.test=function(r){for(var e=YP(r),t=0,i=this.hashFunctions;t<i;t++){var n=QP(this.data.length,t,e);if(!(this.data[n>>3]&1<<(7&n)))return!1}return!0};fn.prototype.toJSON=function(){return this.data};fn.from=function(r,e){if(!e&&(e=r.length||r.size,typeof e!="number"))throw new Error("BloomFilter.from: could not infer the filter's capacity. Try passing it as second argument.");var t=new fn(e);return Q6(r,function(i){t.add(i)}),t};KP.exports=fn});var ZP=_((qX,JP)=>{var J6=_e();function ir(r){if(typeof r!="function")throw new Error("mnemonist/BKTree.constructor: given `distance` should be a function.");this.distance=r,this.clear()}ir.prototype.add=function(r){if(!this.root)return this.root={item:r,children:{}},this.size++,this;for(var e=this.root,t;t=this.distance(r,e.item),!!e.children[t];)e=e.children[t];return e.children[t]={item:r,children:{}},this.size++,this};ir.prototype.search=function(r,e){if(!this.root)return[];for(var t=[],i=[this.root],n,s,c,l,h;i.length;)for(n=i.pop(),c=this.distance(e,n.item),c<=r&&t.push({item:n.item,distance:c}),l=c-r,h=c+r+1;l<h;l++)s=n.children[l],s&&i.push(s);return t};ir.prototype.clear=function(){this.size=0,this.root=null};ir.prototype.toJSON=function(){return this.root};ir.prototype.inspect=function(){for(var r=[],e=[this.root],t,i;e.length;)if(t=e.pop(),!!t){r.push(t.item);for(i in t.children)e.push(t.children[i])}return Object.defineProperty(r,"constructor",{value:ir,enumerable:!1}),r};typeof Symbol<"u"&&(ir.prototype[Symbol.for("nodejs.util.inspect.custom")]=ir.prototype.inspect);ir.from=function(r,e){var t=new ir(e);return J6(r,function(i){t.add(i)}),t};JP.exports=ir});var Bv=_((MX,t1)=>{var Gv=Ot(),e1=Ue();function Me(r,e){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if(typeof e!="number"||e<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=r,this.capacity=e,this.items=new r(this.capacity),this.clear()}Me.prototype.clear=function(){this.start=0,this.size=0};Me.prototype.push=function(r){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");var e=(this.start+this.size)%this.capacity;return this.items[e]=r,++this.size};Me.prototype.unshift=function(r){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var e=this.start-1;return this.start===0&&(e=this.capacity-1),this.items[e]=r,this.start=e,++this.size};Me.prototype.pop=function(){if(this.size===0)return;let r=(this.start+this.size-1)%this.capacity;return this.size--,this.items[r]};Me.prototype.shift=function(){if(this.size!==0){var r=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[r]}};Me.prototype.peekFirst=function(){if(this.size!==0)return this.items[this.start]};Me.prototype.peekLast=function(){if(this.size!==0){var r=this.start+this.size-1;return r>this.capacity&&(r-=this.capacity),this.items[r]}};Me.prototype.get=function(r){if(this.size!==0)return r=this.start+r,r>this.capacity&&(r-=this.capacity),this.items[r]};Me.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=this.capacity,i=this.size,n=this.start,s=0;s<i;)r.call(e,this.items[n],s,this),n++,s++,n===t&&(n=0)};Me.prototype.toArray=function(){var r=this.start+this.size;if(r<this.capacity)return this.items.slice(this.start,r);for(var e=new this.ArrayClass(this.size),t=this.capacity,i=this.size,n=this.start,s=0;s<i;)e[s]=this.items[n],n++,s++,n===t&&(n=0);return e};Me.prototype.values=function(){var r=this.items,e=this.capacity,t=this.size,i=this.start,n=0;return new e1(function(){if(n>=t)return{done:!0};var s=r[i];return i++,n++,i===e&&(i=0),{value:s,done:!1}})};Me.prototype.entries=function(){var r=this.items,e=this.capacity,t=this.size,i=this.start,n=0;return new e1(function(){if(n>=t)return{done:!0};var s=r[i];return i++,i===e&&(i=0),{value:[n++,s],done:!1}})};typeof Symbol<"u"&&(Me.prototype[Symbol.iterator]=Me.prototype.values);Me.prototype.inspect=function(){var r=this.toArray();return r.type=this.ArrayClass.name,r.capacity=this.capacity,Object.defineProperty(r,"constructor",{value:Me,enumerable:!1}),r};typeof Symbol<"u"&&(Me.prototype[Symbol.for("nodejs.util.inspect.custom")]=Me.prototype.inspect);Me.from=function(r,e,t){if(arguments.length<3&&(t=Gv.guessLength(r),typeof t!="number"))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var i=new Me(e,t);if(Gv.isArrayLike(r)){var n,s;for(n=0,s=r.length;n<s;n++)i.items[n]=r[n];return i.size=s,i}return Gv.forEach(r,function(c){i.push(c)}),i};t1.exports=Me});var n1=_((xX,i1)=>{var Hv=Ot(),$v=Bv();function To(r,e){if(arguments.length<2)throw new Error("mnemonist/circular-buffer: expecting an Array class and a capacity.");if(typeof e!="number"||e<=0)throw new Error("mnemonist/circular-buffer: `capacity` should be a positive number.");this.ArrayClass=r,this.capacity=e,this.items=new r(this.capacity),this.clear()}function r1(r){To.prototype[r]=$v.prototype[r]}Object.keys($v.prototype).forEach(r1);typeof Symbol<"u"&&Object.getOwnPropertySymbols($v.prototype).forEach(r1);To.prototype.push=function(r){var e=(this.start+this.size)%this.capacity;return this.items[e]=r,this.size===this.capacity?(this.start=(e+1)%this.capacity,this.size):++this.size};To.prototype.unshift=function(r){var e=this.start-1;return this.start===0&&(e=this.capacity-1),this.items[e]=r,this.size===this.capacity?(this.start=e,this.size):(this.start=e,++this.size)};To.from=function(r,e,t){if(arguments.length<3&&(t=Hv.guessLength(r),typeof t!="number"))throw new Error("mnemonist/circular-buffer.from: could not guess iterable length. Please provide desired capacity as last argument.");var i=new To(e,t);if(Hv.isArrayLike(r)){var n,s;for(n=0,s=r.length;n<s;n++)i.items[n]=r[n];return i.size=s,i}return Hv.forEach(r,function(c){i.push(c)}),i};i1.exports=To});var a1=_((LX,o1)=>{function Je(r){if(typeof r!="function")throw new Error("mnemonist/DefaultMap.constructor: expecting a function.");this.items=new Map,this.factory=r,this.size=0}Je.prototype.clear=function(){this.items.clear(),this.size=0};Je.prototype.get=function(r){var e=this.items.get(r);return typeof e>"u"&&(e=this.factory(r,this.size),this.items.set(r,e),this.size++),e};Je.prototype.peek=function(r){return this.items.get(r)};Je.prototype.set=function(r,e){return this.items.set(r,e),this.size=this.items.size,this};Je.prototype.has=function(r){return this.items.has(r)};Je.prototype.delete=function(r){var e=this.items.delete(r);return this.size=this.items.size,e};Je.prototype.forEach=function(r,e){e=arguments.length>1?e:this,this.items.forEach(r,e)};Je.prototype.entries=function(){return this.items.entries()};Je.prototype.keys=function(){return this.items.keys()};Je.prototype.values=function(){return this.items.values()};typeof Symbol<"u"&&(Je.prototype[Symbol.iterator]=Je.prototype.entries);Je.prototype.inspect=function(){return this.items};typeof Symbol<"u"&&(Je.prototype[Symbol.for("nodejs.util.inspect.custom")]=Je.prototype.inspect);Je.autoIncrement=function(){var r=0;return function(){return r++}};o1.exports=Je});var u1=_((jX,s1)=>{function Pr(r){if(typeof r!="function")throw new Error("mnemonist/DefaultWeakMap.constructor: expecting a function.");this.items=new WeakMap,this.factory=r}Pr.prototype.clear=function(){this.items=new WeakMap};Pr.prototype.get=function(r){var e=this.items.get(r);return typeof e>"u"&&(e=this.factory(r),this.items.set(r,e)),e};Pr.prototype.peek=function(r){return this.items.get(r)};Pr.prototype.set=function(r,e){return this.items.set(r,e),this};Pr.prototype.has=function(r){return this.items.has(r)};Pr.prototype.delete=function(r){return this.items.delete(r)};Pr.prototype.inspect=function(){return this.items};typeof Symbol<"u"&&(Pr.prototype[Symbol.for("nodejs.util.inspect.custom")]=Pr.prototype.inspect);s1.exports=Pr});var l1=_((IX,c1)=>{var Yv=ft();function wr(r){var e=Yv.getPointerArray(r),t=Yv.getPointerArray(Math.log2(r));this.size=r,this.dimension=r,this.parents=new e(r),this.ranks=new t(r);for(var i=0;i<r;i++)this.parents[i]=i}wr.prototype.find=function(r){for(var e=r,t,i;t=this.parents[e],e!==t;)e=t;for(;i=this.parents[r],i!==e;)this.parents[r]=e,r=i;return e};wr.prototype.union=function(r,e){var t=this.find(r),i=this.find(e);if(t===i)return this;this.dimension--;var n=this.ranks[r],s=this.ranks[e];return n<s?this.parents[t]=i:n>s?this.parents[i]=t:(this.parents[i]=t,this.ranks[t]++),this};wr.prototype.connected=function(r,e){var t=this.find(r);return t===this.find(e)};wr.prototype.mapping=function(){for(var r=Yv.getPointerArray(this.dimension),e={},t=new r(this.size),i=0,n,s=0,c=this.parents.length;s<c;s++)n=this.find(s),typeof e[n]>"u"?(t[s]=i,e[n]=i++):t[s]=e[n];return t};wr.prototype.compile=function(){for(var r={},e=new Array(this.dimension),t=0,i,n=0,s=this.parents.length;n<s;n++)i=this.find(n),typeof r[i]>"u"?(e[t]=[n],r[i]=t++):e[r[i]].push(n);return e};wr.prototype.inspect=function(){var r=this.compile();return Object.defineProperty(r,"constructor",{value:wr,enumerable:!1}),r};typeof Symbol<"u"&&(wr.prototype[Symbol.for("nodejs.util.inspect.custom")]=wr.prototype.inspect);c1.exports=wr});var _f=_((FX,p1)=>{var f1=Ea(),Qv=bf(),Z6=f1.DEFAULT_COMPARATOR,e4=f1.reverseComparator;function t4(r,e,t,i){for(var n=t,s=i,c=e[i],l=2*i+1,h;l<n;)h=l+1,h<n&&r(e[l],e[h])>=0&&(l=h),e[i]=e[l],i=l,l=2*i+1;e[i]=c,Qv.siftDown(r,e,s,i)}function h1(r,e,t,i){for(var n=i,s=n,c=new r(i),l,h;s>0;)l=t[--s],s!==0&&(h=t[0],t[0]=l,t4(e,t,--i,0),l=h),c[s]=l;return c}function Or(r,e,t){if(arguments.length===2&&(t=e,e=null),this.ArrayClass=r,this.capacity=t,this.items=new r(t),this.clear(),this.comparator=e||Z6,typeof t!="number"&&t<=0)throw new Error("mnemonist/FixedReverseHeap.constructor: capacity should be a number > 0.");if(typeof this.comparator!="function")throw new Error("mnemonist/FixedReverseHeap.constructor: given comparator should be a function.");this.comparator=e4(this.comparator)}Or.prototype.clear=function(){this.size=0};Or.prototype.push=function(r){return this.size<this.capacity?(this.items[this.size]=r,Qv.siftDown(this.comparator,this.items,0,this.size),this.size++):this.comparator(r,this.items[0])>0&&Qv.replace(this.comparator,this.items,r),this.size};Or.prototype.peek=function(){return this.items[0]};Or.prototype.consume=function(){var r=h1(this.ArrayClass,this.comparator,this.items,this.size);return this.size=0,r};Or.prototype.toArray=function(){return h1(this.ArrayClass,this.comparator,this.items.slice(0,this.size),this.size)};Or.prototype.inspect=function(){var r=this.toArray();return Object.defineProperty(r,"constructor",{value:Or,enumerable:!1}),r};typeof Symbol<"u"&&(Or.prototype[Symbol.for("nodejs.util.inspect.custom")]=Or.prototype.inspect);p1.exports=Or});var m1=_((DX,v1)=>{var r4=_e(),d1=function(r){return r};function it(r){if(this.items=new Map,this.clear(),Array.isArray(r)?(this.writeHashFunction=r[0],this.readHashFunction=r[1]):(this.writeHashFunction=r,this.readHashFunction=r),this.writeHashFunction||(this.writeHashFunction=d1),this.readHashFunction||(this.readHashFunction=d1),typeof this.writeHashFunction!="function")throw new Error("mnemonist/FuzzyMap.constructor: invalid hash function given.");if(typeof this.readHashFunction!="function")throw new Error("mnemonist/FuzzyMap.constructor: invalid hash function given.")}it.prototype.clear=function(){this.items.clear(),this.size=0};it.prototype.add=function(r){var e=this.writeHashFunction(r);return this.items.set(e,r),this.size=this.items.size,this};it.prototype.set=function(r,e){return r=this.writeHashFunction(r),this.items.set(r,e),this.size=this.items.size,this};it.prototype.get=function(r){return r=this.readHashFunction(r),this.items.get(r)};it.prototype.has=function(r){return r=this.readHashFunction(r),this.items.has(r)};it.prototype.forEach=function(r,e){e=arguments.length>1?e:this,this.items.forEach(function(t){r.call(e,t,t)})};it.prototype.values=function(){return this.items.values()};typeof Symbol<"u"&&(it.prototype[Symbol.iterator]=it.prototype.values);it.prototype.inspect=function(){var r=Array.from(this.items.values());return Object.defineProperty(r,"constructor",{value:it,enumerable:!1}),r};typeof Symbol<"u"&&(it.prototype[Symbol.for("nodejs.util.inspect.custom")]=it.prototype.inspect);it.from=function(r,e,t){var i=new it(e);return r4(r,function(n,s){t?i.set(s,n):i.add(n)}),i};v1.exports=it});var Kv=_((kX,y1)=>{var Pf=Ue(),i4=_e();function me(r){this.Container=r||Array,this.items=new Map,this.clear(),Object.defineProperty(this.items,"constructor",{value:me,enumerable:!1})}me.prototype.clear=function(){this.size=0,this.dimension=0,this.items.clear()};me.prototype.set=function(r,e){var t=this.items.get(r),i;return t||(this.dimension++,t=new this.Container,this.items.set(r,t)),this.Container===Set?(i=t.size,t.add(e),i<t.size&&this.size++):(t.push(e),this.size++),this};me.prototype.delete=function(r){var e=this.items.get(r);return e?(this.size-=this.Container===Set?e.size:e.length,this.dimension--,this.items.delete(r),!0):!1};me.prototype.remove=function(r,e){var t=this.items.get(r),i,n;return t?this.Container===Set?(i=t.delete(e),i&&this.size--,t.size===0&&(this.items.delete(r),this.dimension--),i):(n=t.indexOf(e),n===-1?!1:(this.size--,t.length===1?(this.items.delete(r),this.dimension--,!0):(t.splice(n,1),!0))):!1};me.prototype.has=function(r){return this.items.has(r)};me.prototype.get=function(r){return this.items.get(r)};me.prototype.multiplicity=function(r){var e=this.items.get(r);return typeof e>"u"?0:this.Container===Set?e.size:e.length};me.prototype.count=me.prototype.multiplicity;me.prototype.forEach=function(r,e){e=arguments.length>1?e:this;var t;function i(n){r.call(e,n,t)}this.items.forEach(function(n,s){t=s,n.forEach(i)})};me.prototype.forEachAssociation=function(r,e){e=arguments.length>1?e:this,this.items.forEach(r,e)};me.prototype.keys=function(){return this.items.keys()};me.prototype.values=function(){var r=this.items.values(),e=!1,t,i,n,s;return this.Container===Set?new Pf(function c(){if(!e){if(i=r.next(),i.done)return{done:!0};e=!0,t=i.value.values()}return i=t.next(),i.done?(e=!1,c()):{done:!1,value:i.value}}):new Pf(function c(){if(!e){if(i=r.next(),i.done)return{done:!0};e=!0,t=i.value,n=0,s=t.length}return n>=s?(e=!1,c()):{done:!1,value:t[n++]}})};me.prototype.entries=function(){var r=this.items.entries(),e=!1,t,i,n,s,c;return this.Container===Set?new Pf(function l(){if(!e){if(i=r.next(),i.done)return{done:!0};e=!0,n=i.value[0],t=i.value[1].values()}return i=t.next(),i.done?(e=!1,l()):{done:!1,value:[n,i.value]}}):new Pf(function l(){if(!e){if(i=r.next(),i.done)return{done:!0};e=!0,n=i.value[0],t=i.value[1],s=0,c=t.length}return s>=c?(e=!1,l()):{done:!1,value:[n,t[s++]]}})};me.prototype.containers=function(){return this.items.values()};me.prototype.associations=function(){return this.items.entries()};typeof Symbol<"u"&&(me.prototype[Symbol.iterator]=me.prototype.entries);me.prototype.inspect=function(){return this.items};typeof Symbol<"u"&&(me.prototype[Symbol.for("nodejs.util.inspect.custom")]=me.prototype.inspect);me.prototype.toJSON=function(){return this.items};me.from=function(r,e){var t=new me(e);return i4(r,function(i,n){t.set(n,i)}),t};y1.exports=me});var _1=_((RX,b1)=>{var n4=Kv(),o4=_e(),g1=function(r){return r};function nt(r,e){if(this.items=new n4(e),this.clear(),Array.isArray(r)?(this.writeHashFunction=r[0],this.readHashFunction=r[1]):(this.writeHashFunction=r,this.readHashFunction=r),this.writeHashFunction||(this.writeHashFunction=g1),this.readHashFunction||(this.readHashFunction=g1),typeof this.writeHashFunction!="function")throw new Error("mnemonist/FuzzyMultiMap.constructor: invalid hash function given.");if(typeof this.readHashFunction!="function")throw new Error("mnemonist/FuzzyMultiMap.constructor: invalid hash function given.")}nt.prototype.clear=function(){this.items.clear(),this.size=0,this.dimension=0};nt.prototype.add=function(r){var e=this.writeHashFunction(r);return this.items.set(e,r),this.size=this.items.size,this.dimension=this.items.dimension,this};nt.prototype.set=function(r,e){return r=this.writeHashFunction(r),this.items.set(r,e),this.size=this.items.size,this.dimension=this.items.dimension,this};nt.prototype.get=function(r){return r=this.readHashFunction(r),this.items.get(r)};nt.prototype.has=function(r){return r=this.readHashFunction(r),this.items.has(r)};nt.prototype.forEach=function(r,e){e=arguments.length>1?e:this,this.items.forEach(function(t){r.call(e,t,t)})};nt.prototype.values=function(){return this.items.values()};typeof Symbol<"u"&&(nt.prototype[Symbol.iterator]=nt.prototype.values);nt.prototype.inspect=function(){var r=Array.from(this);return Object.defineProperty(r,"constructor",{value:nt,enumerable:!1}),r};typeof Symbol<"u"&&(nt.prototype[Symbol.for("nodejs.util.inspect.custom")]=nt.prototype.inspect);nt.from=function(r,e,t,i){arguments.length===3&&typeof t=="boolean"&&(i=t,t=Array);var n=new nt(e,t);return o4(r,function(s,c){i?n.set(c,s):n.add(s)}),n};b1.exports=nt});var O1=_((zX,w1)=>{var P1=1024;function a4(r){return(r&r-1)===0}function nr(r,e){if(arguments.length<1)throw new Error("mnemonist/hashed-array-tree: expecting at least a byte array constructor.");var t=e||0,i=P1,n=0;if(typeof e=="object"&&(t=e.initialCapacity||0,n=e.initialLength||0,i=e.blockSize||P1),!i||!a4(i))throw new Error("mnemonist/hashed-array-tree: block size should be a power of two.");var s=Math.max(n,t),c=Math.ceil(s/i);this.ArrayClass=r,this.length=n,this.capacity=c*i,this.blockSize=i,this.offsetMask=i-1,this.blockMask=Math.log2(i),this.blocks=new Array(c);for(var l=0;l<c;l++)this.blocks[l]=new this.ArrayClass(this.blockSize)}nr.prototype.set=function(r,e){if(this.length<r)throw new Error("HashedArrayTree("+this.ArrayClass.name+").set: index out of bounds.");var t=r>>this.blockMask,i=r&this.offsetMask;return this.blocks[t][i]=e,this};nr.prototype.get=function(r){if(!(this.length<r)){var e=r>>this.blockMask,t=r&this.offsetMask;return this.blocks[e][t]}};nr.prototype.grow=function(r){if(typeof r!="number"&&(r=this.capacity+this.blockSize),this.capacity>=r)return this;for(;this.capacity<r;)this.blocks.push(new this.ArrayClass(this.blockSize)),this.capacity+=this.blockSize;return this};nr.prototype.resize=function(r){return r===this.length?this:r<this.length?(this.length=r,this):(this.length=r,this.grow(r),this)};nr.prototype.push=function(r){this.capacity===this.length&&this.grow();var e=this.length,t=e>>this.blockMask,i=e&this.offsetMask;return this.blocks[t][i]=r,++this.length};nr.prototype.pop=function(){if(this.length!==0){var r=this.blocks[this.blocks.length-1],e=--this.length&this.offsetMask;return r[e]}};nr.prototype.inspect=function(){for(var r=new this.ArrayClass(this.length),e,t=0,i=this.length;t<i;t++)e=t>>this.blockMask,r[t]=this.blocks[e][t&this.offsetMask];return r.type=this.ArrayClass.name,r.items=this.length,r.capacity=this.capacity,r.blockSize=this.blockSize,Object.defineProperty(r,"constructor",{value:nr,enumerable:!1}),r};typeof Symbol<"u"&&(nr.prototype[Symbol.for("nodejs.util.inspect.custom")]=nr.prototype.inspect);w1.exports=nr});var Jv=_((NX,T1)=>{var S1=Ue(),Xv=Ot();function ze(r,e){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if(typeof e!="number"||e<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=e,this.ArrayClass=r,this.items=new this.ArrayClass(this.capacity),this.clear()}ze.prototype.clear=function(){this.size=0};ze.prototype.push=function(r){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=r,this.size};ze.prototype.pop=function(){if(this.size!==0)return this.items[--this.size]};ze.prototype.peek=function(){return this.items[this.size-1]};ze.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=0,i=this.items.length;t<i;t++)r.call(e,this.items[i-t-1],t,this)};ze.prototype.toArray=function(){for(var r=new this.ArrayClass(this.size),e=this.size-1,t=this.size;t--;)r[t]=this.items[e-t];return r};ze.prototype.values=function(){var r=this.items,e=this.size,t=0;return new S1(function(){if(t>=e)return{done:!0};var i=r[e-t-1];return t++,{value:i,done:!1}})};ze.prototype.entries=function(){var r=this.items,e=this.size,t=0;return new S1(function(){if(t>=e)return{done:!0};var i=r[e-t-1];return{value:[t++,i],done:!1}})};typeof Symbol<"u"&&(ze.prototype[Symbol.iterator]=ze.prototype.values);ze.prototype.toString=function(){return this.toArray().join(",")};ze.prototype.toJSON=function(){return this.toArray()};ze.prototype.inspect=function(){var r=this.toArray();return r.type=this.ArrayClass.name,r.capacity=this.capacity,Object.defineProperty(r,"constructor",{value:ze,enumerable:!1}),r};typeof Symbol<"u"&&(ze.prototype[Symbol.for("nodejs.util.inspect.custom")]=ze.prototype.inspect);ze.from=function(r,e,t){if(arguments.length<3&&(t=Xv.guessLength(r),typeof t!="number"))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var i=new ze(e,t);if(Xv.isArrayLike(r)){var n,s;for(n=0,s=r.length;n<s;n++)i.items[n]=r[n];return i.size=s,i}return Xv.forEach(r,function(c){i.push(c)}),i};T1.exports=ze});var A1=_((VX,C1)=>{var s4=Ot(),u4=ft(),c4=Jv();function Zv(r,e,t,i,n,s,c,l){var h=c+(l-c)/2|0,p=~-h,v=-~h,b=t[h];i[s]=b+1;var w=e?e(r[b]):r[b][1],T=s*2+1,E=s*2+2,M=-1/0,L=-1/0;c<=p&&(M=Zv(r,e,t,i,n,T,c,p)),v<=l&&(L=Zv(r,e,t,i,n,E,v,l));var D=Math.max(w,M,L),N=b;return D===M?N=n[i[T]-1]:D===L&&(N=n[i[E]-1]),n[b]=N,D}function Sr(r,e){this.size=r.length,this.intervals=r;var t=null,i=null;Array.isArray(e)&&(t=e[0],i=e[1]);var n=r.length,s=u4.getPointerArray(n+1),c=new s(n),l;for(l=1;l<n;l++)c[l]=l;c.sort(function(w,T){return w=r[w],T=r[T],t?(w=t(w),T=t(T)):(w=w[0],T=T[0]),w<T?-1:w>T?1:0});var h=Math.ceil(Math.log2(n+1)),p=Math.pow(2,h)-1,v=new s(p),b=new s(n);Zv(r,i,c,v,b,0,0,n-1),c=null,this.height=h,this.tree=v,this.augmentations=b,this.startGetter=t,this.endGetter=i,this.stack=new c4(s,this.height)}Sr.prototype.intervalsContainingPoint=function(r){var e=[],t=this.stack;t.clear(),t.push(0);for(var i=this.tree.length,n,s,c,l,h,p,v,b,w;t.size;)n=t.pop(),s=this.tree[n]-1,c=this.intervals[s],l=this.intervals[this.augmentations[s]],v=this.endGetter?this.endGetter(l):l[1],!(r>v)&&(b=n*2+1,b<i&&this.tree[b]!==0&&t.push(b),h=this.startGetter?this.startGetter(c):c[0],p=this.endGetter?this.endGetter(c):c[1],r>=h&&r<=p&&e.push(c),!(r<h)&&(w=n*2+2,w<i&&this.tree[w]!==0&&t.push(w)));return e};Sr.prototype.intervalsOverlappingInterval=function(r){var e=this.startGetter?this.startGetter(r):r[0],t=this.endGetter?this.endGetter(r):r[1],i=[],n=this.stack;n.clear(),n.push(0);for(var s=this.tree.length,c,l,h,p,v,b,w,T,E;n.size;)c=n.pop(),l=this.tree[c]-1,h=this.intervals[l],p=this.intervals[this.augmentations[l]],w=this.endGetter?this.endGetter(p):p[1],!(e>w)&&(T=c*2+1,T<s&&this.tree[T]!==0&&n.push(T),v=this.startGetter?this.startGetter(h):h[0],b=this.endGetter?this.endGetter(h):h[1],t>=v&&e<=b&&i.push(h),!(t<v)&&(E=c*2+2,E<s&&this.tree[E]!==0&&n.push(E)));return i};Sr.prototype.inspect=function(){var r=this.intervals.slice();return Object.defineProperty(r,"constructor",{value:Sr,enumerable:!1}),r};typeof Symbol<"u"&&(Sr.prototype[Symbol.for("nodejs.util.inspect.custom")]=Sr.prototype.inspect);Sr.from=function(r,e){return s4.isArrayLike(r)?new Sr(r,e):new Sr(Array.from(r),e)};C1.exports=Sr});var em=_(Fi=>{Fi.search=function(r,e,t,i){var n=0;t=typeof t<"u"?t:0,i=typeof i<"u"?i:r.length,i--;for(var s;t<=i;)if(n=t+i>>>1,s=r[n],s>e)i=~-n;else if(s<e)t=-~n;else return n;return-1};Fi.searchWithComparator=function(r,e,t){for(var i=0,n=0,s=~-e.length,c;n<=s;)if(i=n+s>>>1,c=r(e[i],t),c>0)s=~-i;else if(c<0)n=-~i;else return i;return-1};Fi.lowerBound=function(r,e,t,i){var n=0;for(t=typeof t<"u"?t:0,i=typeof i<"u"?i:r.length;t<i;)n=t+i>>>1,e<=r[n]?i=n:t=-~n;return t};Fi.lowerBoundWithComparator=function(r,e,t){for(var i=0,n=0,s=e.length;n<s;)i=n+s>>>1,r(t,e[i])<=0?s=i:n=-~i;return n};Fi.lowerBoundIndices=function(r,e,t,i,n){var s=0;for(i=typeof i<"u"?i:0,n=typeof n<"u"?n:r.length;i<n;)s=i+n>>>1,t<=r[e[s]]?n=s:i=-~s;return i};Fi.upperBound=function(r,e,t,i){var n=0;for(t=typeof t<"u"?t:0,i=typeof i<"u"?i:r.length;t<i;)n=t+i>>>1,e>=r[n]?t=-~n:i=n;return t};Fi.upperBoundWithComparator=function(r,e,t){for(var i=0,n=0,s=e.length;n<s;)i=n+s>>>1,r(t,e[i])>=0?n=-~i:s=i;return n}});var x1=_(Di=>{var Co=ft(),Ao=Ot().isArrayLike,hn=em(),E1=ff();function q1(r,e){if(r.length===0)return e.slice();if(e.length===0)return r.slice();var t;r[0]>e[0]&&(t=r,r=e,e=t);var i=r[r.length-1],n=e[0];if(i<=n)return Co.isTypedArray(r)?Co.concat(r,e):r.concat(e);var s=new r.constructor(r.length+e.length),c,l,h;for(c=0,l=r.length;c<l&&(h=r[c],h<=n);c++)s[c]=h;for(var p=c,v=r.length,b=0,w=e.length,T,E;p<v&&b<w;)T=r[p],E=e[b],T<=E?(s[c++]=T,p++):(s[c++]=E,b++);for(;p<v;)s[c++]=r[p++];for(;b<w;)s[c++]=e[b++];return s}function M1(r,e){if(r.length===0)return e.slice();if(e.length===0)return r.slice();var t;r[0]>e[0]&&(t=r,r=e,e=t);var i=r[r.length-1],n=e[0];if(i<n)return Co.isTypedArray(r)?Co.concat(r,e):r.concat(e);var s=new r.constructor,c,l,h;for(c=0,l=r.length;c<l&&(h=r[c],h<n);c++)s.push(h);for(var p=c,v=r.length,b=0,w=e.length,T,E;p<v&&b<w;)T=r[p],E=e[b],T<=E?((s.length===0||s[s.length-1]!==T)&&s.push(T),p++):((s.length===0||s[s.length-1]!==E)&&s.push(E),b++);for(;p<v;)T=r[p++],(s.length===0||s[s.length-1]!==T)&&s.push(T);for(;b<w;)E=e[b++],(s.length===0||s[s.length-1]!==E)&&s.push(E);return s}Di.intersectionUniqueArrays=function(r,e){if(r.length===0||e.length===0)return new r.constructor(0);var t;r[0]>e[0]&&(t=r,r=e,e=t);var i=r[r.length-1],n=e[0];if(i<n)return new r.constructor(0);for(var s=new r.constructor,c=hn.lowerBound(r,n),l=r.length,h=0,p=hn.upperBound(e,i),v,b;c<l&&h<p;)v=r[c],b=e[h],v<b?c=hn.lowerBound(r,b,c+1):v>b?h=hn.lowerBound(e,v,h+1):(s.push(v),c++,h++);return s};function l4(r){var e=0,t=-1/0,i,n,s,c=[];for(n=0,s=r.length;n<s;n++)i=r[n].length,i!==0&&(c.push(r[n]),e+=i,i>t&&(t=i));if(c.length===0)return new r[0].constructor(0);if(c.length===1)return c[0].slice();if(c.length===2)return q1(c[0],c[1]);r=c;var l=new r[0].constructor(e),h=Co.getPointerArray(t),p=new h(r.length),v=new E1(function(T,E){return T=r[T][p[T]],E=r[E][p[E]],T<E?-1:T>E?1:0});for(n=0;n<s;n++)v.push(n);n=0;for(var b,w;v.size;)b=v.pop(),w=r[b][p[b]++],l[n++]=w,p[b]<r[b].length&&v.push(b);return l}function f4(r){var e=-1/0,t,i,n,s=[];for(i=0,n=r.length;i<n;i++)t=r[i].length,t!==0&&(s.push(r[i]),t>e&&(e=t));if(s.length===0)return new r[0].constructor(0);if(s.length===1)return s[0].slice();if(s.length===2)return M1(s[0],s[1]);r=s;var c=new r[0].constructor,l=Co.getPointerArray(e),h=new l(r.length),p=new E1(function(w,T){return w=r[w][h[w]],T=r[T][h[T]],w<T?-1:w>T?1:0});for(i=0;i<n;i++)p.push(i);for(var v,b;p.size;)v=p.pop(),b=r[v][h[v]++],(c.length===0||c[c.length-1]!==b)&&c.push(b),h[v]<r[v].length&&p.push(v);return c}Di.kWayIntersectionUniqueArrays=function(r){var e=-1/0,t=-1/0,i=1/0,n,s,c,l,h;for(l=0,h=r.length;l<h;l++){if(c=r[l].length,c===0)return[];c>e&&(e=c),n=r[l][0],s=r[l][c-1],n>t&&(t=n),s<i&&(i=s)}if(t>i)return[];if(t===i)return[t];var p,v,b=r[0],w,T,E,M,L,D,N=t;for(l=1;l<h;l++){for(p=b,v=r[l],b=new Array,w=0,T=hn.lowerBound(v,N),E=p.length,M=v.length;w<E&&T<M;)L=p[w],D=v[T],L<D?w=hn.lowerBound(p,D,w+1):L>D?T=hn.lowerBound(v,L,T+1):(b.push(L),w++,T++);if(b.length===0)return b;N=b[0]}return b};Di.merge=function(){if(arguments.length===2){if(Ao(arguments[0]))return q1(arguments[0],arguments[1])}else if(Ao(arguments[0]))return l4(arguments);return null};Di.unionUnique=function(){if(arguments.length===2){if(Ao(arguments[0]))return M1(arguments[0],arguments[1])}else if(Ao(arguments[0]))return f4(arguments);return null};Di.intersectionUnique=function(){if(arguments.length===2){if(Ao(arguments[0]))return Di.intersectionUniqueArrays(arguments[0],arguments[1])}else if(Ao(arguments[0]))return Di.kWayIntersectionUniqueArrays(arguments);return null}});var I1=_((GX,j1)=>{var h4=Ue(),p4=_e(),d4=x1();function L1(r){return r}function ht(r){if(this.clear(),Array.isArray(r)?(this.documentTokenizer=r[0],this.queryTokenizer=r[1]):(this.documentTokenizer=r,this.queryTokenizer=r),this.documentTokenizer||(this.documentTokenizer=L1),this.queryTokenizer||(this.queryTokenizer=L1),typeof this.documentTokenizer!="function")throw new Error("mnemonist/InvertedIndex.constructor: document tokenizer is not a function.");if(typeof this.queryTokenizer!="function")throw new Error("mnemonist/InvertedIndex.constructor: query tokenizer is not a function.")}ht.prototype.clear=function(){this.items=[],this.mapping=new Map,this.size=0,this.dimension=0};ht.prototype.add=function(r){this.size++;var e=this.items.length;this.items.push(r);var t=this.documentTokenizer(r);if(!Array.isArray(t))throw new Error("mnemonist/InvertedIndex.add: tokenizer function should return an array of tokens.");for(var i=new Set,n,s,c=0,l=t.length;c<l;c++)n=t[c],!i.has(n)&&(i.add(n),s=this.mapping.get(n),s||(s=[],this.mapping.set(n,s)),s.push(e));return this.dimension=this.mapping.size,this};ht.prototype.get=function(r){if(!this.size)return[];var e=this.queryTokenizer(r);if(!Array.isArray(e))throw new Error("mnemonist/InvertedIndex.query: tokenizer function should return an array of tokens.");if(!e.length)return[];var t=this.mapping.get(e[0]),i,n,s;if(typeof t>"u"||t.length===0)return[];if(e.length>1)for(n=1,s=e.length;n<s;n++){if(i=this.mapping.get(e[n]),typeof i>"u"||i.length===0)return[];t=d4.intersectionUniqueArrays(t,i)}var c=new Array(t.length);for(n=0,s=c.length;n<s;n++)c[n]=this.items[t[n]];return c};ht.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=0,i=this.documents.length;t<i;t++)r.call(e,this.documents[t],t,this)};ht.prototype.documents=function(){var r=this.items,e=r.length,t=0;return new h4(function(){if(t>=e)return{done:!0};var i=r[t++];return{value:i,done:!1}})};ht.prototype.tokens=function(){return this.mapping.keys()};typeof Symbol<"u"&&(ht.prototype[Symbol.iterator]=ht.prototype.documents);ht.prototype.inspect=function(){var r=this.items.slice();return Object.defineProperty(r,"constructor",{value:ht,enumerable:!1}),r};typeof Symbol<"u"&&(ht.prototype[Symbol.for("nodejs.util.inspect.custom")]=ht.prototype.inspect);ht.from=function(r,e){var t=new ht(e);return p4(r,function(i){t.add(i)}),t};j1.exports=ht});var rm=_(tm=>{var Ge=new Float64Array(64),Ce=new Float64Array(64);function v4(r,e,t){var i,n,s,c,l;for(Ge[0]=e,Ce[0]=t,n=0;n>=0;)if(s=Ge[n],c=Ce[n]-1,s<c){for(i=r[s];s<c;){for(;r[c]>=i&&s<c;)c--;for(s<c&&(r[s++]=r[c]);r[s]<=i&&s<c;)s++;s<c&&(r[c--]=r[s])}r[s]=i,Ge[n+1]=s+1,Ce[n+1]=Ce[n],Ce[n++]=s,Ce[n]-Ge[n]>Ce[n-1]-Ge[n-1]&&(l=Ge[n],Ge[n]=Ge[n-1],Ge[n-1]=l,l=Ce[n],Ce[n]=Ce[n-1],Ce[n-1]=l)}else n--;return r}tm.inplaceQuickSort=v4;function m4(r,e,t,i){var n,s,c,l,h,p;for(Ge[0]=t,Ce[0]=i,s=0;s>=0;)if(c=Ge[s],l=Ce[s]-1,c<l){for(h=e[c],n=r[h];c<l;){for(;r[e[l]]>=n&&c<l;)l--;for(c<l&&(e[c++]=e[l]);r[e[c]]<=n&&c<l;)c++;c<l&&(e[l--]=e[c])}e[c]=h,Ge[s+1]=c+1,Ce[s+1]=Ce[s],Ce[s++]=c,Ce[s]-Ge[s]>Ce[s-1]-Ge[s-1]&&(p=Ge[s],Ge[s]=Ge[s-1],Ge[s-1]=p,p=Ce[s],Ce[s]=Ce[s-1],Ce[s-1]=p)}else s--;return e}tm.inplaceQuickSortIndices=m4});var z1=_((HX,R1)=>{var y4=Ot(),wf=ft(),F1=Ea().createTupleComparator,D1=_f(),g4=rm().inplaceQuickSortIndices;function im(r,e,t,i){var n,s=0,c;for(n=0;n<r;n++)c=e[n][t]-i[n],s+=c*c;return s}function b4(r,e){var t=e.length,i=new Array(r),n=new Array(t),s,c=wf.getPointerArray(t),l=new c(t),h,p,v,b=!0;for(h=0;h<r;h++){for(s=new Float64Array(t),p=0;p<t;p++)v=e[p],s[p]=v[1][h],b&&(n[p]=v[0],l[p]=p);b=!1,i[h]=s}return{axes:i,ids:l,labels:n}}function k1(r,e,t,i){for(var n=i.length,s=wf.getPointerArray(n+1),c=new s(n),l=new s(n),h=new s(n),p=[[0,0,t.length,-1,0]],v,b,w,T,E,M,L,D,N=0;p.length!==0;)v=p.pop(),D=v[0],M=v[1],L=v[2],b=v[3],w=v[4],g4(e[D],t,M,L),n=L-M,T=M+(n>>>1),E=t[T],c[N]=E,b>-1&&(w===0?l[b]=N+1:h[b]=N+1),D=(D+1)%r,T!==M&&T!==L-1&&p.push([D,T+1,L,N,1]),T!==M&&p.push([D,M,T,N,0]),N++;return{axes:e,labels:i,pivots:c,lefts:l,rights:h}}function Gt(r,e){this.dimensions=r,this.visited=0,this.axes=e.axes,this.labels=e.labels,this.pivots=e.pivots,this.lefts=e.lefts,this.rights=e.rights,this.size=this.labels.length}Gt.prototype.nearestNeighbor=function(r){var e=1/0,t=null,i=this.dimensions,n=this.axes,s=this.pivots,c=this.lefts,l=this.rights,h=0;function p(v,b){h++;var w=c[b],T=l[b],E=s[b],M=im(i,n,E,r);if(!(M<e&&(t=E,e=M,M===0))){var L=n[v][E]-r[v];v=(v+1)%i,L>0?w!==0&&p(v,w-1):T!==0&&p(v,T-1),L*L<e&&(L>0?T!==0&&p(v,T-1):w!==0&&p(v,w-1))}}return p(0,0),this.visited=h,this.labels[t]};var _4=F1(3),P4=F1(2);Gt.prototype.kNearestNeighbors=function(r,e){if(r<=0)throw new Error("mnemonist/kd-tree.kNearestNeighbors: k should be a positive number.");if(r=Math.min(r,this.size),r===1)return[this.nearestNeighbor(e)];var t=new D1(Array,_4,r),i=this.dimensions,n=this.axes,s=this.pivots,c=this.lefts,l=this.rights,h=0;function p(w,T){var E=c[T],M=l[T],L=s[T],D=im(i,n,L,e);t.push([D,h++,L]);var N=e[w],Y=n[w][L],ie=N-Y;w=(w+1)%i,N<Y?E!==0&&p(w,E-1):M!==0&&p(w,M-1),(ie*ie<t.peek()[0]||t.size<r)&&(N<Y?M!==0&&p(w,M-1):E!==0&&p(w,E-1))}p(0,0),this.visited=h;for(var v=t.consume(),b=0;b<v.length;b++)v[b]=this.labels[v[b][2]];return v};Gt.prototype.linearKNearestNeighbors=function(r,e){if(r<=0)throw new Error("mnemonist/kd-tree.kNearestNeighbors: k should be a positive number.");r=Math.min(r,this.size);var t=new D1(Array,P4,r),i,n,s;for(i=0,n=this.size;i<n;i++)s=im(this.dimensions,this.axes,this.pivots[i],e),t.push([s,i]);var c=t.consume();for(i=0;i<c.length;i++)c[i]=this.labels[this.pivots[c[i][1]]];return c};Gt.prototype.inspect=function(){var r=new Map;r.dimensions=this.dimensions,Object.defineProperty(r,"constructor",{value:Gt,enumerable:!1});var e,t,i;for(e=0;e<this.size;e++){for(i=new Array(this.dimensions),t=0;t<this.dimensions;t++)i[t]=this.axes[t][e];r.set(this.labels[e],i)}return r};typeof Symbol<"u"&&(Gt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Gt.prototype.inspect);Gt.from=function(r,e){var t=y4.toArray(r),i=b4(e,t),n=k1(e,i.axes,i.ids,i.labels);return new Gt(e,n)};Gt.fromAxes=function(r,e){e||(e=wf.indices(r[0].length));var t=r.length,i=k1(r.length,r,wf.indices(e.length),e);return new Gt(t,i)};R1.exports=Gt});var W1=_(($X,V1)=>{var N1=Ue(),w4=_e();function Oe(){this.clear()}Oe.prototype.clear=function(){this.head=null,this.tail=null,this.size=0};Oe.prototype.first=function(){return this.head?this.head.item:void 0};Oe.prototype.peek=Oe.prototype.first;Oe.prototype.last=function(){return this.tail?this.tail.item:void 0};Oe.prototype.push=function(r){var e={item:r,next:null};return this.head?(this.tail.next=e,this.tail=e):(this.head=e,this.tail=e),this.size++,this.size};Oe.prototype.unshift=function(r){var e={item:r,next:null};return this.head?(this.head.next||(this.tail=this.head),e.next=this.head,this.head=e):(this.head=e,this.tail=e),this.size++,this.size};Oe.prototype.shift=function(){if(this.size){var r=this.head;return this.head=r.next,this.size--,r.item}};Oe.prototype.forEach=function(r,e){if(this.size){e=arguments.length>1?e:this;for(var t=this.head,i=0;t;)r.call(e,t.item,i,this),t=t.next,i++}};Oe.prototype.toArray=function(){if(!this.size)return[];for(var r=new Array(this.size),e=0,t=this.size,i=this.head;e<t;e++)r[e]=i.item,i=i.next;return r};Oe.prototype.values=function(){var r=this.head;return new N1(function(){if(!r)return{done:!0};var e=r.item;return r=r.next,{value:e,done:!1}})};Oe.prototype.entries=function(){var r=this.head,e=0;return new N1(function(){if(!r)return{done:!0};var t=r.item;return r=r.next,e++,{value:[e-1,t],done:!1}})};typeof Symbol<"u"&&(Oe.prototype[Symbol.iterator]=Oe.prototype.values);Oe.prototype.toString=function(){return this.toArray().join(",")};Oe.prototype.toJSON=function(){return this.toArray()};Oe.prototype.inspect=function(){var r=this.toArray();return Object.defineProperty(r,"constructor",{value:Oe,enumerable:!1}),r};typeof Symbol<"u"&&(Oe.prototype[Symbol.for("nodejs.util.inspect.custom")]=Oe.prototype.inspect);Oe.from=function(r){var e=new Oe;return w4(r,function(t){e.push(t)}),e};V1.exports=Oe});var Of=_((YX,U1)=>{var nm=Ue(),O4=_e(),S4=ft(),T4=Ot();function Ie(r,e,t){if(arguments.length<2&&(t=r,r=null,e=null),this.capacity=t,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var i=S4.getPointerArray(t);this.forward=new i(t),this.backward=new i(t),this.K=typeof r=="function"?new r(t):new Array(t),this.V=typeof e=="function"?new e(t):new Array(t),this.size=0,this.head=0,this.tail=0,this.items={}}Ie.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ie.prototype.splayOnTop=function(r){var e=this.head;if(this.head===r)return this;var t=this.backward[r],i=this.forward[r];return this.tail===r?this.tail=t:this.backward[i]=t,this.forward[t]=i,this.backward[e]=r,this.head=r,this.forward[r]=e,this};Ie.prototype.set=function(r,e){var t=this.items[r];if(typeof t<"u"){this.splayOnTop(t),this.V[t]=e;return}this.size<this.capacity?t=this.size++:(t=this.tail,this.tail=this.backward[t],delete this.items[this.K[t]]),this.items[r]=t,this.K[t]=r,this.V[t]=e,this.forward[t]=this.head,this.backward[this.head]=t,this.head=t};Ie.prototype.setpop=function(r,e){var t=null,i=null,n=this.items[r];return typeof n<"u"?(this.splayOnTop(n),t=this.V[n],this.V[n]=e,{evicted:!1,key:r,value:t}):(this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],t=this.V[n],i=this.K[n],delete this.items[this.K[n]]),this.items[r]=n,this.K[n]=r,this.V[n]=e,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n,i?{evicted:!0,key:i,value:t}:null)};Ie.prototype.has=function(r){return r in this.items};Ie.prototype.get=function(r){var e=this.items[r];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};Ie.prototype.peek=function(r){var e=this.items[r];if(!(typeof e>"u"))return this.V[e]};Ie.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=0,i=this.size,n=this.head,s=this.K,c=this.V,l=this.forward;t<i;)r.call(e,c[n],s[n],this),n=l[n],t++};Ie.prototype.keys=function(){var r=0,e=this.size,t=this.head,i=this.K,n=this.forward;return new nm(function(){if(r>=e)return{done:!0};var s=i[t];return r++,r<e&&(t=n[t]),{done:!1,value:s}})};Ie.prototype.values=function(){var r=0,e=this.size,t=this.head,i=this.V,n=this.forward;return new nm(function(){if(r>=e)return{done:!0};var s=i[t];return r++,r<e&&(t=n[t]),{done:!1,value:s}})};Ie.prototype.entries=function(){var r=0,e=this.size,t=this.head,i=this.K,n=this.V,s=this.forward;return new nm(function(){if(r>=e)return{done:!0};var c=i[t],l=n[t];return r++,r<e&&(t=s[t]),{done:!1,value:[c,l]}})};typeof Symbol<"u"&&(Ie.prototype[Symbol.iterator]=Ie.prototype.entries);Ie.prototype.inspect=function(){for(var r=new Map,e=this.entries(),t;t=e.next(),!t.done;)r.set(t.value[0],t.value[1]);return Object.defineProperty(r,"constructor",{value:Ie,enumerable:!1}),r};typeof Symbol<"u"&&(Ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ie.prototype.inspect);Ie.from=function(r,e,t,i){if(arguments.length<2){if(i=T4.guessLength(r),typeof i!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(i=e,e=null,t=null);var n=new Ie(e,t,i);return O4(r,function(s,c){n.set(c,s)}),n};U1.exports=Ie});var B1=_((QX,G1)=>{var Eo=Of(),C4=_e(),A4=ft(),E4=Ot();function Tr(r,e,t){arguments.length<2?Eo.call(this,r):Eo.call(this,r,e,t);var i=A4.getPointerArray(this.capacity);this.deleted=new i(this.capacity),this.deletedSize=0}for(om in Eo.prototype)Tr.prototype[om]=Eo.prototype[om];var om;typeof Symbol<"u"&&(Tr.prototype[Symbol.iterator]=Eo.prototype[Symbol.iterator]);Tr.prototype.clear=function(){Eo.prototype.clear.call(this),this.deletedSize=0};Tr.prototype.set=function(r,e){var t=this.items[r];if(typeof t<"u"){this.splayOnTop(t),this.V[t]=e;return}this.size<this.capacity?(this.deletedSize>0?t=this.deleted[--this.deletedSize]:t=this.size,this.size++):(t=this.tail,this.tail=this.backward[t],delete this.items[this.K[t]]),this.items[r]=t,this.K[t]=r,this.V[t]=e,this.forward[t]=this.head,this.backward[this.head]=t,this.head=t};Tr.prototype.setpop=function(r,e){var t=null,i=null,n=this.items[r];return typeof n<"u"?(this.splayOnTop(n),t=this.V[n],this.V[n]=e,{evicted:!1,key:r,value:t}):(this.size<this.capacity?(this.deletedSize>0?n=this.deleted[--this.deletedSize]:n=this.size,this.size++):(n=this.tail,this.tail=this.backward[n],t=this.V[n],i=this.K[n],delete this.items[this.K[n]]),this.items[r]=n,this.K[n]=r,this.V[n]=e,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n,i?{evicted:!0,key:i,value:t}:null)};Tr.prototype.delete=function(r){var e=this.items[r];if(typeof e>"u")return!1;if(delete this.items[r],this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,!0;var t=this.backward[e],i=this.forward[e];return this.head===e&&(this.head=i),this.tail===e&&(this.tail=t),this.forward[t]=i,this.backward[i]=t,this.size--,this.deleted[this.deletedSize++]=e,!0};Tr.prototype.remove=function(r,e=void 0){var t=this.items[r];if(typeof t>"u")return e;var i=this.V[t];if(delete this.items[r],this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,i;var n=this.backward[t],s=this.forward[t];return this.head===t&&(this.head=s),this.tail===t&&(this.tail=n),this.forward[n]=s,this.backward[s]=n,this.size--,this.deleted[this.deletedSize++]=t,i};Tr.from=function(r,e,t,i){if(arguments.length<2){if(i=E4.guessLength(r),typeof i!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(i=e,e=null,t=null);var n=new Tr(e,t,i);return C4(r,function(s,c){n.set(c,s)}),n};G1.exports=Tr});var am=_((KX,H1)=>{var qo=Of(),q4=_e(),M4=ft(),x4=Ot();function Ze(r,e,t){if(arguments.length<2&&(t=r,r=null,e=null),this.capacity=t,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-map: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-map: capacity should be a finite positive integer.");var i=M4.getPointerArray(t);this.forward=new i(t),this.backward=new i(t),this.K=typeof r=="function"?new r(t):new Array(t),this.V=typeof e=="function"?new e(t):new Array(t),this.size=0,this.head=0,this.tail=0,this.items=new Map}Ze.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items.clear()};Ze.prototype.set=function(r,e){var t=this.items.get(r);if(typeof t<"u"){this.splayOnTop(t),this.V[t]=e;return}this.size<this.capacity?t=this.size++:(t=this.tail,this.tail=this.backward[t],this.items.delete(this.K[t])),this.items.set(r,t),this.K[t]=r,this.V[t]=e,this.forward[t]=this.head,this.backward[this.head]=t,this.head=t};Ze.prototype.setpop=function(r,e){var t=null,i=null,n=this.items.get(r);return typeof n<"u"?(this.splayOnTop(n),t=this.V[n],this.V[n]=e,{evicted:!1,key:r,value:t}):(this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],t=this.V[n],i=this.K[n],this.items.delete(this.K[n])),this.items.set(r,n),this.K[n]=r,this.V[n]=e,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n,i?{evicted:!0,key:i,value:t}:null)};Ze.prototype.has=function(r){return this.items.has(r)};Ze.prototype.get=function(r){var e=this.items.get(r);if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};Ze.prototype.peek=function(r){var e=this.items.get(r);if(!(typeof e>"u"))return this.V[e]};Ze.prototype.splayOnTop=qo.prototype.splayOnTop;Ze.prototype.forEach=qo.prototype.forEach;Ze.prototype.keys=qo.prototype.keys;Ze.prototype.values=qo.prototype.values;Ze.prototype.entries=qo.prototype.entries;typeof Symbol<"u"&&(Ze.prototype[Symbol.iterator]=Ze.prototype.entries);Ze.prototype.inspect=qo.prototype.inspect;Ze.from=function(r,e,t,i){if(arguments.length<2){if(i=x4.guessLength(r),typeof i!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(i=e,e=null,t=null);var n=new Ze(e,t,i);return q4(r,function(s,c){n.set(c,s)}),n};H1.exports=Ze});var Y1=_((XX,$1)=>{var Mo=am(),L4=_e(),j4=ft(),I4=Ot();function Cr(r,e,t){arguments.length<2?Mo.call(this,r):Mo.call(this,r,e,t);var i=j4.getPointerArray(this.capacity);this.deleted=new i(this.capacity),this.deletedSize=0}for(sm in Mo.prototype)Cr.prototype[sm]=Mo.prototype[sm];var sm;typeof Symbol<"u"&&(Cr.prototype[Symbol.iterator]=Mo.prototype[Symbol.iterator]);Cr.prototype.clear=function(){Mo.prototype.clear.call(this),this.deletedSize=0};Cr.prototype.set=function(r,e){var t=this.items.get(r);if(typeof t<"u"){this.splayOnTop(t),this.V[t]=e;return}this.size<this.capacity?(this.deletedSize>0?t=this.deleted[--this.deletedSize]:t=this.size,this.size++):(t=this.tail,this.tail=this.backward[t],this.items.delete(this.K[t])),this.items.set(r,t),this.K[t]=r,this.V[t]=e,this.forward[t]=this.head,this.backward[this.head]=t,this.head=t};Cr.prototype.setpop=function(r,e){var t=null,i=null,n=this.items.get(r);return typeof n<"u"?(this.splayOnTop(n),t=this.V[n],this.V[n]=e,{evicted:!1,key:r,value:t}):(this.size<this.capacity?(this.deletedSize>0?n=this.deleted[--this.deletedSize]:n=this.size,this.size++):(n=this.tail,this.tail=this.backward[n],t=this.V[n],i=this.K[n],this.items.delete(this.K[n])),this.items.set(r,n),this.K[n]=r,this.V[n]=e,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n,i?{evicted:!0,key:i,value:t}:null)};Cr.prototype.delete=function(r){var e=this.items.get(r);if(typeof e>"u")return!1;if(this.items.delete(r),this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,!0;var t=this.backward[e],i=this.forward[e];return this.head===e&&(this.head=i),this.tail===e&&(this.tail=t),this.forward[t]=i,this.backward[i]=t,this.size--,this.deleted[this.deletedSize++]=e,!0};Cr.prototype.remove=function(r,e=void 0){var t=this.items.get(r);if(typeof t>"u")return e;var i=this.V[t];if(this.items.delete(r),this.size===1)return this.size=0,this.head=0,this.tail=0,this.deletedSize=0,i;var n=this.backward[t],s=this.forward[t];return this.head===t&&(this.head=s),this.tail===t&&(this.tail=n),this.forward[n]=s,this.backward[s]=n,this.size--,this.deleted[this.deletedSize++]=t,i};Cr.from=function(r,e,t,i){if(arguments.length<2){if(i=I4.guessLength(r),typeof i!="number")throw new Error("mnemonist/lru-map.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(i=e,e=null,t=null);var n=new Cr(e,t,i);return L4(r,function(s,c){n.set(c,s)}),n};$1.exports=Cr});var K1=_((JX,Q1)=>{var F4=Ue(),D4=_e(),k4=_f(),R4=function(r,e){return r[1]>e[1]?-1:r[1]<e[1]?1:0};function ae(){this.items=new Map,Object.defineProperty(this.items,"constructor",{value:ae,enumerable:!1}),this.clear()}ae.prototype.clear=function(){this.size=0,this.dimension=0,this.items.clear()};ae.prototype.add=function(r,e){if(e===0)return this;if(e<0)return this.remove(r,-e);if(e=e||1,typeof e!="number")throw new Error("mnemonist/multi-set.add: given count should be a number.");this.size+=e;let t=this.items.get(r);return t===void 0?this.dimension++:e+=t,this.items.set(r,e),this};ae.prototype.set=function(r,e){var t;if(typeof e!="number")throw new Error("mnemonist/multi-set.set: given count should be a number.");return e<=0?(t=this.items.get(r),typeof t<"u"&&(this.size-=t,this.dimension--),this.items.delete(r),this):(e=e||1,t=this.items.get(r),typeof t=="number"?this.items.set(r,t+e):(this.dimension++,this.items.set(r,e)),this.size+=e,this)};ae.prototype.has=function(r){return this.items.has(r)};ae.prototype.delete=function(r){var e=this.items.get(r);return e===0?!1:(this.size-=e,this.dimension--,this.items.delete(r),!0)};ae.prototype.remove=function(r,e){if(e!==0){if(e<0)return this.add(r,-e);if(e=e||1,typeof e!="number")throw new Error("mnemonist/multi-set.remove: given count should be a number.");var t=this.items.get(r);if(!(typeof t>"u")){var i=Math.max(0,t-e);i===0?(this.items.delete(r),this.size-=t,this.dimension--):(this.items.set(r,i),this.size-=e)}}};ae.prototype.edit=function(r,e){var t=this.multiplicity(r);if(t!==0){var i=this.multiplicity(e);return this.items.set(e,t+i),this.items.delete(r),this}};ae.prototype.multiplicity=function(r){var e=this.items.get(r);return typeof e>"u"?0:e};ae.prototype.get=ae.prototype.multiplicity;ae.prototype.count=ae.prototype.multiplicity;ae.prototype.frequency=function(r){if(this.size===0)return 0;var e=this.multiplicity(r);return e/this.size};ae.prototype.top=function(r){if(typeof r!="number"||r<=0)throw new Error("mnemonist/multi-set.top: n must be a number > 0.");for(var e=new k4(Array,R4,r),t=this.items.entries(),i;i=t.next(),!i.done;)e.push(i.value);return e.consume()};ae.prototype.forEach=function(r,e){e=arguments.length>1?e:this;var t;this.items.forEach(function(i,n){for(t=0;t<i;t++)r.call(e,n,n)})};ae.prototype.forEachMultiplicity=function(r,e){e=arguments.length>1?e:this,this.items.forEach(r,e)};ae.prototype.keys=function(){return this.items.keys()};ae.prototype.values=function(){var r=this.items.entries(),e=!1,t,i,n,s;return new F4(function c(){if(!e){if(t=r.next(),t.done)return{done:!0};e=!0,i=t.value[0],n=t.value[1],s=0}return s>=n?(e=!1,c()):(s++,{done:!1,value:i})})};ae.prototype.multiplicities=function(){return this.items.entries()};typeof Symbol<"u"&&(ae.prototype[Symbol.iterator]=ae.prototype.values);ae.prototype.inspect=function(){return this.items};typeof Symbol<"u"&&(ae.prototype[Symbol.for("nodejs.util.inspect.custom")]=ae.prototype.inspect);ae.prototype.toJSON=function(){return this.items};ae.from=function(r){var e=new ae;return D4(r,function(t){e.add(t)}),e};ae.isSubset=function(r,e){var t=r.multiplicities(),i,n,s;if(r===e)return!0;if(r.dimension>e.dimension)return!1;for(;i=t.next(),!i.done;)if(n=i.value[0],s=i.value[1],e.multiplicity(n)<s)return!1;return!0};ae.isSuperset=function(r,e){return ae.isSubset(e,r)};Q1.exports=ae});var rw=_((ZX,tw)=>{var z4=Ue(),N4=_e();function V4(r,e,t){return((Math.pow(r,2)-Math.pow(Math.abs(e-t),2))/2|0)+r+1}function W4(r,e){for(var t=0,i=0,n=e+1;i<n;i++)t+=V4(r,e,i);return t}function U4(r,e){return r.length>e.length?-1:r.length<e.length?1:r<e?-1:r>e?1:0}function X1(r,e){var t=r+1,i=e/t|0,n=i+1,s,c,l=e-i*t,h=t-l,p=new Array(r+1);for(s=0;s<h;s++)p[s]=[s*i,i];var v=(s-1)*i+i;for(c=0;c<l;c++)p[s+c]=[v+c*n,n];return p}function J1(r,e){var t=e.length,i=r+1,n=t/i|0,s=n+1,c,l,h,p=t-n*i,v=i-p,b=new Array(r+1);for(l=0;l<v;l++)c=l*n,b[l]=e.slice(c,c+n);var w=(l-1)*n+n;for(h=0;h<p;h++)c=w+h*s,b[l+h]=e.slice(c,c+s);return b}function G4(r,e,t){if(e===0)return 0;var i=t.length,n=r+1,s=i/n|0,c=s+1,l=i-s*n,h=n-l;if(e<=h-1)return e*s;var p=e-h;return h*s+p*c}function Z1(r,e,t,i,n,s){var c=n-t,l=n+t,h=r-t,p=n+e-h,v=n+e+h,b=i-s;return[Math.max(0,c,p),Math.min(l,v,b)]}function ew(r,e,t,i,n,s){var c=e.length,l=c-t,h=Z1(r,l,i,c,n,s),p=h[0],v=h[1],b="",w=[],T,E,M;for(E=p,M=v+1;E<M;E++)T=e.slice(E,E+s),T!==b&&(w.push(T),b=T);return w}function xe(r,e){if(typeof r!="function")throw new Error("mnemonist/passjoin-index: `levenshtein` should be a function returning edit distance between two strings.");if(typeof e!="number"||e<1)throw new Error("mnemonist/passjoin-index: `k` should be a number > 0");this.levenshtein=r,this.k=e,this.clear()}xe.prototype.clear=function(){this.size=0,this.strings=[],this.invertedIndices={}};xe.prototype.add=function(r){var e=r.length,t=this.size;this.strings.push(r),this.size++;var i=J1(this.k,r),n=this.invertedIndices[e];typeof n>"u"&&(n={},this.invertedIndices[e]=n);var s,c,l,h,p;for(h=0,p=i.length;h<p;h++)s=i[h],l=s+h,c=n[l],typeof c>"u"?(c=[t],n[l]=c):c.push(t);return this};xe.prototype.search=function(r){var e=r.length,t=this.k,i=new Set,n,s,c,l,h,p,v,b,w,T,E,M,L,D,N;for(b=Math.max(0,e-t),w=e+t+1;b<w;b++){var Y=this.invertedIndices[b];if(!(typeof Y>"u")){for(v=X1(t,b),T=0,E=v.length;T<E;T++)for(c=v[T][0],l=v[T][1],p=ew(t,r,b,T,c,l),p.length||(p=[""]),M=0,L=p.length;M<L;M++)if(h=p[M]+T,n=Y[h],!(typeof n>"u"))for(D=0,N=n.length;D<N;D++)s=this.strings[n[D]],(e<=t&&b<=t||!i.has(s)&&this.levenshtein(r,s)<=t)&&i.add(s)}}return i};xe.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=0,i=this.strings.length;t<i;t++)r.call(e,this.strings[t],t,this)};xe.prototype.values=function(){var r=this.strings,e=r.length,t=0;return new z4(function(){if(t>=e)return{done:!0};var i=r[t];return t++,{value:i,done:!1}})};typeof Symbol<"u"&&(xe.prototype[Symbol.iterator]=xe.prototype.values);xe.prototype.inspect=function(){var r=this.strings.slice();return Object.defineProperty(r,"constructor",{value:xe,enumerable:!1}),r};typeof Symbol<"u"&&(xe.prototype[Symbol.for("nodejs.util.inspect.custom")]=xe.prototype.inspect);xe.from=function(r,e,t){var i=new xe(e,t);return N4(r,function(n){i.add(n)}),i};xe.countKeys=W4;xe.comparator=U4;xe.partition=X1;xe.segments=J1;xe.segmentPos=G4;xe.multiMatchAwareInterval=Z1;xe.multiMatchAwareSubstrings=ew;tw.exports=xe});var ow=_((e9,nw)=>{var iw=Ue(),B4=_e();function Le(){this.clear()}Le.prototype.clear=function(){this.items=[],this.offset=0,this.size=0};Le.prototype.enqueue=function(r){return this.items.push(r),++this.size};Le.prototype.dequeue=function(){if(this.size){var r=this.items[this.offset];return++this.offset*2>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,r}};Le.prototype.peek=function(){if(this.size)return this.items[this.offset]};Le.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=this.offset,i=0,n=this.items.length;t<n;t++,i++)r.call(e,this.items[t],i,this)};Le.prototype.toArray=function(){return this.items.slice(this.offset)};Le.prototype.values=function(){var r=this.items,e=this.offset;return new iw(function(){if(e>=r.length)return{done:!0};var t=r[e];return e++,{value:t,done:!1}})};Le.prototype.entries=function(){var r=this.items,e=this.offset,t=0;return new iw(function(){if(e>=r.length)return{done:!0};var i=r[e];return e++,{value:[t++,i],done:!1}})};typeof Symbol<"u"&&(Le.prototype[Symbol.iterator]=Le.prototype.values);Le.prototype.toString=function(){return this.toArray().join(",")};Le.prototype.toJSON=function(){return this.toArray()};Le.prototype.inspect=function(){var r=this.toArray();return Object.defineProperty(r,"constructor",{value:Le,enumerable:!1}),r};typeof Symbol<"u"&&(Le.prototype[Symbol.for("nodejs.util.inspect.custom")]=Le.prototype.inspect);Le.from=function(r){var e=new Le;return B4(r,function(t){e.enqueue(t)}),e};Le.of=function(){return Le.from(arguments)};nw.exports=Le});var uw=_((t9,sw)=>{var aw=Ue(),H4=_e();function je(){this.clear()}je.prototype.clear=function(){this.items=[],this.size=0};je.prototype.push=function(r){return this.items.push(r),++this.size};je.prototype.pop=function(){if(this.size!==0)return this.size--,this.items.pop()};je.prototype.peek=function(){return this.items[this.size-1]};je.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=0,i=this.items.length;t<i;t++)r.call(e,this.items[i-t-1],t,this)};je.prototype.toArray=function(){for(var r=new Array(this.size),e=this.size-1,t=this.size;t--;)r[t]=this.items[e-t];return r};je.prototype.values=function(){var r=this.items,e=r.length,t=0;return new aw(function(){if(t>=e)return{done:!0};var i=r[e-t-1];return t++,{value:i,done:!1}})};je.prototype.entries=function(){var r=this.items,e=r.length,t=0;return new aw(function(){if(t>=e)return{done:!0};var i=r[e-t-1];return{value:[t++,i],done:!1}})};typeof Symbol<"u"&&(je.prototype[Symbol.iterator]=je.prototype.values);je.prototype.toString=function(){return this.toArray().join(",")};je.prototype.toJSON=function(){return this.toArray()};je.prototype.inspect=function(){var r=this.toArray();return Object.defineProperty(r,"constructor",{value:je,enumerable:!1}),r};typeof Symbol<"u"&&(je.prototype[Symbol.for("nodejs.util.inspect.custom")]=je.prototype.inspect);je.from=function(r){var e=new je;return H4(r,function(t){e.push(t)}),e};je.of=function(){return je.from(arguments)};sw.exports=je});var cw=_(Ne=>{Ne.intersection=function(){if(arguments.length<2)throw new Error("mnemonist/Set.intersection: needs at least two arguments.");var r=new Set,e=1/0,t=null,i,n,s=arguments.length;for(n=0;n<s;n++){if(i=arguments[n],i.size===0)return r;i.size<e&&(e=i.size,t=i)}for(var c=t.values(),l,h,p,v;l=c.next(),!l.done;){for(h=l.value,p=!0,n=0;n<s;n++)if(v=arguments[n],v!==t&&!v.has(h)){p=!1;break}p&&r.add(h)}return r};Ne.union=function(){if(arguments.length<2)throw new Error("mnemonist/Set.union: needs at least two arguments.");var r=new Set,e,t=arguments.length,i,n;for(e=0;e<t;e++)for(i=arguments[e].values();n=i.next(),!n.done;)r.add(n.value);return r};Ne.difference=function(r,e){if(!r.size)return new Set;if(!e.size)return new Set(r);for(var t=new Set,i=r.values(),n;n=i.next(),!n.done;)e.has(n.value)||t.add(n.value);return t};Ne.symmetricDifference=function(r,e){for(var t=new Set,i=r.values(),n;n=i.next(),!n.done;)e.has(n.value)||t.add(n.value);for(i=e.values();n=i.next(),!n.done;)r.has(n.value)||t.add(n.value);return t};Ne.isSubset=function(r,e){var t=r.values(),i;if(r===e)return!0;if(r.size>e.size)return!1;for(;i=t.next(),!i.done;)if(!e.has(i.value))return!1;return!0};Ne.isSuperset=function(r,e){return Ne.isSubset(e,r)};Ne.add=function(r,e){for(var t=e.values(),i;i=t.next(),!i.done;)r.add(i.value)};Ne.subtract=function(r,e){for(var t=e.values(),i;i=t.next(),!i.done;)r.delete(i.value)};Ne.intersect=function(r,e){for(var t=r.values(),i;i=t.next(),!i.done;)e.has(i.value)||r.delete(i.value)};Ne.disjunct=function(r,e){for(var t=r.values(),i,n=[];i=t.next(),!i.done;)e.has(i.value)&&n.push(i.value);for(t=e.values();i=t.next(),!i.done;)r.has(i.value)||r.add(i.value);for(var s=0,c=n.length;s<c;s++)r.delete(n[s])};Ne.intersectionSize=function(r,e){var t;if(r.size>e.size&&(t=r,r=e,e=t),r.size===0)return 0;if(r===e)return r.size;for(var i=r.values(),n,s=0;n=i.next(),!n.done;)e.has(n.value)&&s++;return s};Ne.unionSize=function(r,e){var t=Ne.intersectionSize(r,e);return r.size+e.size-t};Ne.jaccard=function(r,e){var t=Ne.intersectionSize(r,e);if(t===0)return 0;var i=r.size+e.size-t;return t/i};Ne.overlap=function(r,e){var t=Ne.intersectionSize(r,e);return t===0?0:t/Math.min(r.size,e.size)}});var fw=_((i9,lw)=>{var $4=Ue(),Y4=ft().getPointerArray;function jt(r){var e=Y4(r);this.start=0,this.size=0,this.capacity=r,this.dense=new e(r),this.sparse=new e(r)}jt.prototype.clear=function(){this.start=0,this.size=0};jt.prototype.has=function(r){if(this.size===0)return!1;var e=this.sparse[r],t=e<this.capacity&&e>=this.start&&e<this.start+this.size||e<(this.start+this.size)%this.capacity;return t&&this.dense[e]===r};jt.prototype.enqueue=function(r){var e=this.sparse[r];if(this.size!==0){var t=e<this.capacity&&e>=this.start&&e<this.start+this.size||e<(this.start+this.size)%this.capacity;if(t&&this.dense[e]===r)return this}return e=(this.start+this.size)%this.capacity,this.dense[e]=r,this.sparse[r]=e,this.size++,this};jt.prototype.dequeue=function(){if(this.size!==0){var r=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var e=this.dense[r];return this.sparse[e]=this.capacity,e}};jt.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=this.capacity,i=this.size,n=this.start,s=0;s<i;)r.call(e,this.dense[n],s,this),n++,s++,n===t&&(n=0)};jt.prototype.values=function(){var r=this.dense,e=this.capacity,t=this.size,i=this.start,n=0;return new $4(function(){if(n>=t)return{done:!0};var s=r[i];return i++,n++,i===e&&(i=0),{value:s,done:!1}})};typeof Symbol<"u"&&(jt.prototype[Symbol.iterator]=jt.prototype.values);jt.prototype.inspect=function(){var r=[];return this.forEach(function(e){r.push(e)}),Object.defineProperty(r,"constructor",{value:jt,enumerable:!1}),r.capacity=this.capacity,r};typeof Symbol<"u"&&(jt.prototype[Symbol.for("nodejs.util.inspect.custom")]=jt.prototype.inspect);lw.exports=jt});var pw=_((n9,hw)=>{var um=Ue(),Q4=ft().getPointerArray;function ot(r,e){arguments.length<2&&(e=r,r=Array);var t=Q4(e);this.size=0,this.length=e,this.dense=new t(e),this.sparse=new t(e),this.vals=new r(e)}ot.prototype.clear=function(){this.size=0};ot.prototype.has=function(r){var e=this.sparse[r];return e<this.size&&this.dense[e]===r};ot.prototype.get=function(r){var e=this.sparse[r];if(e<this.size&&this.dense[e]===r)return this.vals[e]};ot.prototype.set=function(r,e){var t=this.sparse[r];return t<this.size&&this.dense[t]===r?(this.vals[t]=e,this):(this.dense[this.size]=r,this.sparse[r]=this.size,this.vals[this.size]=e,this.size++,this)};ot.prototype.delete=function(r){var e=this.sparse[r];return e>=this.size||this.dense[e]!==r?!1:(e=this.dense[this.size-1],this.dense[this.sparse[r]]=e,this.sparse[e]=this.sparse[r],this.size--,!0)};ot.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t=0;t<this.size;t++)r.call(e,this.vals[t],this.dense[t])};ot.prototype.keys=function(){var r=this.size,e=this.dense,t=0;return new um(function(){if(t<r){var i=e[t];return t++,{value:i}}return{done:!0}})};ot.prototype.values=function(){var r=this.size,e=this.vals,t=0;return new um(function(){if(t<r){var i=e[t];return t++,{value:i}}return{done:!0}})};ot.prototype.entries=function(){var r=this.size,e=this.dense,t=this.vals,i=0;return new um(function(){if(i<r){var n=[e[i],t[i]];return i++,{value:n}}return{done:!0}})};typeof Symbol<"u"&&(ot.prototype[Symbol.iterator]=ot.prototype.entries);ot.prototype.inspect=function(){for(var r=new Map,e=0;e<this.size;e++)r.set(this.dense[e],this.vals[e]);return Object.defineProperty(r,"constructor",{value:ot,enumerable:!1}),r.length=this.length,this.vals.constructor!==Array&&(r.type=this.vals.constructor.name),r};typeof Symbol<"u"&&(ot.prototype[Symbol.for("nodejs.util.inspect.custom")]=ot.prototype.inspect);hw.exports=ot});var vw=_((o9,dw)=>{var K4=Ue(),X4=ft().getPointerArray;function It(r){var e=X4(r);this.size=0,this.length=r,this.dense=new e(r),this.sparse=new e(r)}It.prototype.clear=function(){this.size=0};It.prototype.has=function(r){var e=this.sparse[r];return e<this.size&&this.dense[e]===r};It.prototype.add=function(r){var e=this.sparse[r];return e<this.size&&this.dense[e]===r?this:(this.dense[this.size]=r,this.sparse[r]=this.size,this.size++,this)};It.prototype.delete=function(r){var e=this.sparse[r];return e>=this.size||this.dense[e]!==r?!1:(e=this.dense[this.size-1],this.dense[this.sparse[r]]=e,this.sparse[e]=this.sparse[r],this.size--,!0)};It.prototype.forEach=function(r,e){e=arguments.length>1?e:this;for(var t,i=0;i<this.size;i++)t=this.dense[i],r.call(e,t,t)};It.prototype.values=function(){var r=this.size,e=this.dense,t=0;return new K4(function(){if(t<r){var i=e[t];return t++,{value:i}}return{done:!0}})};typeof Symbol<"u"&&(It.prototype[Symbol.iterator]=It.prototype.values);It.prototype.inspect=function(){for(var r=new Set,e=0;e<this.size;e++)r.add(this.dense[e]);return Object.defineProperty(r,"constructor",{value:It,enumerable:!1}),r.length=this.length,r};typeof Symbol<"u"&&(It.prototype[Symbol.for("nodejs.util.inspect.custom")]=It.prototype.inspect);dw.exports=It});var _w=_((a9,bw)=>{var J4=_e(),Z4=2,e5=2,t5=new Set([0,1,2]),r5={0:"Returns only the top suggestion",1:"Returns suggestions with the smallest edit distance",2:"Returns every suggestion (no early termination)"};function Sf(r){var e=new Set;return typeof r=="number"&&e.add(r),{suggestions:e,count:0}}function mw(r,e,t){return{term:r||"",distance:e||0,count:t||0}}function gw(r,e,t,i){i=i||new Set,e++;var n,s=r.length,c;if(s>1)for(c=0;c<s;c++)n=r.substring(0,c)+r.substring(c+1),i.has(n)||(i.add(n),e<t&&gw(n,e,t,i));return i}function i5(r,e,t,i,n,s){var c=t.suggestions.values().next().value;e<2&&t.suggestions.size>0&&r[c].length-s.length>i.length-s.length&&(t.suggestions=new Set,t.count=0),(e===2||!t.suggestions.size||r[c].length-s.length>=i.length-s.length)&&t.suggestions.add(n)}function yw(r,e){var t=r.length,i=e.length,n=[[]],s=t+i,c=new Map,l,h,p;for(n[0][0]=s,l=0;l<=t;l++)n[l+1]||(n[l+1]=[]),n[l+1][1]=l,n[l+1][0]=s;for(p=0;p<=i;p++)n[1][p+1]=p,n[0][p+1]=s;var v=r+e,b;for(l=0,h=v.length;l<h;l++)b=v[l],c.has(b)||c.set(b,0);for(l=1;l<=t;l++){var w=0;for(p=1;p<=i;p++){var T=c.get(e[p-1]),E=w;r[l-1]===e[p-1]?(n[l+1][p+1]=n[l][p],w=p):n[l+1][p+1]=Math.min(n[l][p],n[l+1][p],n[l][p+1])+1,n[l+1][p+1]=Math.min(n[l+1][p+1],n[T][E]+(l-T-1)+1+(p-E-1))}c.set(r[l-1],l)}return n[t+1][i+1]}function n5(r,e,t,i,n,s){var c=s.length;if(c-i>n)return[];for(var l=[s],h=new Set,p=new Set,v=[],b,w;l.length>0&&(b=l.shift(),!(t<2&&v.length>0&&c-b.length>v[0].distance));){if(w=r[b],w!==void 0){if(typeof w=="number"&&(w=Sf(w)),w.count>0&&!p.has(b)){p.add(b);var T=mw(b,c-b.length,w.count);if(v.push(T),t<2&&c-b.length===0)break}w.suggestions.forEach(D=>{var N=e[D];if(!p.has(N)){p.add(N);var Y=0;if(s!==N)if(N.length===b.length)Y=c-b.length;else if(c===b.length)Y=N.length-b.length;else{for(var ie=0,pe=0,Fe=N.length;ie<Fe&&ie<c&&N[ie]===s[ie];)ie++;for(;pe<Fe-ie&&pe<c&&N[Fe-pe-1]===s[c-pe-1];)pe++;ie>0||pe>0?Y=yw(N.substr(ie,Fe-ie-pe),s.substr(ie,c-ie-pe)):Y=yw(N,s)}if(t<2&&v.length>0&&v[0].distance>Y&&(v=[]),!(t<2&&v.length>0&&Y>v[0].distance)&&Y<=i){var pt=r[N];pt!==void 0&&v.push(mw(N,Y,pt.count))}}})}if(c-b.length<i){if(t<2&&v.length>0&&c-b.length>=v[0].distance)continue;for(var E=0,M=b.length;E<M;E++){var L=b.substring(0,E)+b.substring(E+1);h.has(L)||(h.add(L),l.push(L))}}}return t===0?v.slice(0,1):v}function Ar(r){if(r=r||{},this.clear(),this.maxDistance=typeof r.maxDistance=="number"?r.maxDistance:Z4,this.verbosity=typeof r.verbosity=="number"?r.verbosity:e5,typeof this.maxDistance!="number"||this.maxDistance<=0)throw Error("mnemonist/SymSpell.constructor: invalid `maxDistance` option. Should be a integer greater than 0.");if(!t5.has(this.verbosity))throw Error("mnemonist/SymSpell.constructor: invalid `verbosity` option. Should be either 0, 1 or 2.")}Ar.prototype.clear=function(){this.size=0,this.dictionary=Object.create(null),this.maxLength=0,this.words=[]};Ar.prototype.add=function(r){var e=this.dictionary[r];if(e!==void 0?(typeof e=="number"&&(e=Sf(e),this.dictionary[r]=e),e.count++):(e=Sf(),e.count++,this.dictionary[r]=e,r.length>this.maxLength&&(this.maxLength=r.length)),e.count===1){var t=this.words.length;this.words.push(r);var i=gw(r,0,this.maxDistance);i.forEach(n=>{var s=this.dictionary[n];s!==void 0?(typeof s=="number"&&(s=Sf(s),this.dictionary[n]=s),s.suggestions.has(t)||i5(this.words,this.verbosity,s,r,t,n)):this.dictionary[n]=t})}return this.size++,this};Ar.prototype.search=function(r){return n5(this.dictionary,this.words,this.verbosity,this.maxDistance,this.maxLength,r)};Ar.prototype.inspect=function(){var r=[];r.size=this.size,r.maxDistance=this.maxDistance,r.verbosity=this.verbosity,r.behavior=r5[this.verbosity];for(var e in this.dictionary)typeof this.dictionary[e]=="object"&&this.dictionary[e].count&&r.push([e,this.dictionary[e].count]);return Object.defineProperty(r,"constructor",{value:Ar,enumerable:!1}),r};typeof Symbol<"u"&&(Ar.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ar.prototype.inspect);Ar.from=function(r,e){var t=new Ar(e);return J4(r,function(i){t.add(i)}),t};bw.exports=Ar});var cm=_((s9,Pw)=>{var o5=_e(),xo=Ue(),Be=String.fromCharCode(0);function Se(r){this.mode=r===Array?"array":"string",this.clear()}Se.prototype.clear=function(){this.root={},this.size=0};Se.prototype.set=function(r,e){for(var t=this.root,i,n=0,s=r.length;n<s;n++)i=r[n],t=t[i]||(t[i]={});return Be in t||this.size++,t[Be]=e,this};Se.prototype.update=function(r,e){for(var t=this.root,i,n=0,s=r.length;n<s;n++)i=r[n],t=t[i]||(t[i]={});return Be in t||this.size++,t[Be]=e(t[Be]),this};Se.prototype.get=function(r){var e=this.root,t,i,n;for(i=0,n=r.length;i<n;i++)if(t=r[i],e=e[t],typeof e>"u")return;if(Be in e)return e[Be]};Se.prototype.delete=function(r){var e=this.root,t=null,i=null,n,s,c,l;for(c=0,l=r.length;c<l;c++){if(s=r[c],n=e,e=e[s],typeof e>"u")return!1;t!==null?Object.keys(e).length>1&&(t=null,i=null):Object.keys(e).length<2&&(t=n,i=s)}return Be in e?(this.size--,t?delete t[i]:delete e[Be],!0):!1};Se.prototype.has=function(r){for(var e=this.root,t,i=0,n=r.length;i<n;i++)if(t=r[i],e=e[t],typeof e>"u")return!1;return Be in e};Se.prototype.find=function(r){var e=typeof r=="string",t=this.root,i=[],n,s,c;for(s=0,c=r.length;s<c;s++)if(n=r[s],t=t[n],typeof t>"u")return i;for(var l=[t],h=[r],p;l.length;){r=h.pop(),t=l.pop();for(p in t){if(p===Be){i.push([r,t[Be]]);continue}l.push(t[p]),h.push(e?r+p:r.concat(p))}}return i};Se.prototype.values=function(r){var e=this.root,t=[],i,n,s;if(r){for(n=0,s=r.length;n<s;n++)if(i=r[n],e=e[i],typeof e>"u")return xo.empty()}return t.push(e),new xo(function(){for(var c,l=!1,h;t.length;){c=t.pop();for(h in c){if(h===Be){l=!0;continue}t.push(c[h])}if(l)return{done:!1,value:c[Be]}}return{done:!0}})};Se.prototype.prefixes=function(r){var e=this.root,t=[],i=[],n,s,c,l=this.mode==="string";if(r){for(s=0,c=r.length;s<c;s++)if(n=r[s],e=e[n],typeof e>"u")return xo.empty()}else r=l?"":[];return t.push(e),i.push(r),new xo(function(){for(var h,p,v=!1,b;t.length;){h=t.pop(),p=i.pop();for(b in h){if(b===Be){v=!0;continue}t.push(h[b]),i.push(l?p+b:p.concat(b))}if(v)return{done:!1,value:p}}return{done:!0}})};Se.prototype.keys=Se.prototype.prefixes;Se.prototype.entries=function(r){var e=this.root,t=[],i=[],n,s,c,l=this.mode==="string";if(r){for(s=0,c=r.length;s<c;s++)if(n=r[s],e=e[n],typeof e>"u")return xo.empty()}else r=l?"":[];return t.push(e),i.push(r),new xo(function(){for(var h,p,v=!1,b;t.length;){h=t.pop(),p=i.pop();for(b in h){if(b===Be){v=!0;continue}t.push(h[b]),i.push(l?p+b:p.concat(b))}if(v)return{done:!1,value:[p,h[Be]]}}return{done:!0}})};typeof Symbol<"u"&&(Se.prototype[Symbol.iterator]=Se.prototype.entries);Se.prototype.inspect=function(){for(var r=new Array(this.size),e=this.entries(),t,i=0;t=e.next(),!t.done;)r[i++]=t.value;return Object.defineProperty(r,"constructor",{value:Se,enumerable:!1}),r};typeof Symbol<"u"&&(Se.prototype[Symbol.for("nodejs.util.inspect.custom")]=Se.prototype.inspect);Se.prototype.toJSON=function(){return this.root};Se.from=function(r){var e=new Se;return o5(r,function(t,i){e.set(i,t)}),e};Se.SENTINEL=Be;Pw.exports=Se});var Sw=_((u9,Ow)=>{var a5=_e(),ww=cm(),Tf=String.fromCharCode(0);function He(r){this.mode=r===Array?"array":"string",this.clear()}for(lm in ww.prototype)He.prototype[lm]=ww.prototype[lm];var lm;delete He.prototype.set;delete He.prototype.get;delete He.prototype.values;delete He.prototype.entries;He.prototype.add=function(r){for(var e=this.root,t,i=0,n=r.length;i<n;i++)t=r[i],e=e[t]||(e[t]={});return Tf in e||this.size++,e[Tf]=!0,this};He.prototype.find=function(r){var e=typeof r=="string",t=this.root,i=[],n,s,c;for(s=0,c=r.length;s<c;s++)if(n=r[s],t=t[n],typeof t>"u")return i;for(var l=[t],h=[r],p;l.length;){r=h.pop(),t=l.pop();for(p in t){if(p===Tf){i.push(r);continue}l.push(t[p]),h.push(e?r+p:r.concat(p))}}return i};typeof Symbol<"u"&&(He.prototype[Symbol.iterator]=He.prototype.keys);He.prototype.inspect=function(){for(var r=new Set,e=this.keys(),t;t=e.next(),!t.done;)r.add(t.value);return Object.defineProperty(r,"constructor",{value:He,enumerable:!1}),r};typeof Symbol<"u"&&(He.prototype[Symbol.for("nodejs.util.inspect.custom")]=He.prototype.inspect);He.prototype.toJSON=function(){return this.root};He.from=function(r){var e=new He;return a5(r,function(t){e.add(t)}),e};He.SENTINEL=Tf;Ow.exports=He});var Ew=_((c9,Aw)=>{var Tw=Ue(),s5=_e(),u5=Ot(),Cw=ft(),c5=function(r){return Math.max(1,Math.ceil(r*1.5))},l5=function(r){var e=Cw.getPointerArray(r);return new e(r)};function oe(r,e){if(arguments.length<1)throw new Error("mnemonist/vector: expecting at least a byte array constructor.");var t=e||0,i=c5,n=0,s=!1;typeof e=="object"&&(t=e.initialCapacity||0,n=e.initialLength||0,i=e.policy||i,s=e.factory===!0),this.factory=s?r:null,this.ArrayClass=r,this.length=n,this.capacity=Math.max(n,t),this.policy=i,this.array=new r(this.capacity)}oe.prototype.set=function(r,e){if(this.length<r)throw new Error("Vector("+this.ArrayClass.name+").set: index out of bounds.");return this.array[r]=e,this};oe.prototype.get=function(r){if(!(this.length<r))return this.array[r]};oe.prototype.applyPolicy=function(r){var e=this.policy(r||this.capacity);if(typeof e!="number"||e<0)throw new Error("mnemonist/vector.applyPolicy: policy returned an invalid value (expecting a positive integer).");if(e<=this.capacity)throw new Error("mnemonist/vector.applyPolicy: policy returned a less or equal capacity to allocate.");return e};oe.prototype.reallocate=function(r){if(r===this.capacity)return this;var e=this.array;if(r<this.length&&(this.length=r),r>this.capacity)if(this.factory===null?this.array=new this.ArrayClass(r):this.array=this.factory(r),Cw.isTypedArray(this.array))this.array.set(e,0);else for(var t=0,i=this.length;t<i;t++)this.array[t]=e[t];else this.array=e.slice(0,r);return this.capacity=r,this};oe.prototype.grow=function(r){var e;if(typeof r=="number"){if(this.capacity>=r)return this;for(e=this.capacity;e<r;)e=this.applyPolicy(e);return this.reallocate(e),this}return e=this.applyPolicy(),this.reallocate(e),this};oe.prototype.resize=function(r){return r===this.length?this:r<this.length?(this.length=r,this):(this.length=r,this.reallocate(r),this)};oe.prototype.push=function(r){return this.capacity===this.length&&this.grow(),this.array[this.length++]=r,this.length};oe.prototype.pop=function(){if(this.length!==0)return this.array[--this.length]};oe.prototype.values=function(){var r=this.array,e=this.length,t=0;return new Tw(function(){if(t>=e)return{done:!0};var i=r[t];return t++,{value:i,done:!1}})};oe.prototype.entries=function(){var r=this.array,e=this.length,t=0;return new Tw(function(){if(t>=e)return{done:!0};var i=r[t];return{value:[t++,i],done:!1}})};typeof Symbol<"u"&&(oe.prototype[Symbol.iterator]=oe.prototype.values);oe.prototype.inspect=function(){var r=this.array.slice(0,this.length);return r.type=this.array.constructor.name,r.items=this.length,r.capacity=this.capacity,Object.defineProperty(r,"constructor",{value:oe,enumerable:!1}),r};typeof Symbol<"u"&&(oe.prototype[Symbol.for("nodejs.util.inspect.custom")]=oe.prototype.inspect);oe.from=function(r,e,t){if(arguments.length<3&&(t=u5.guessLength(r),typeof t!="number"))throw new Error("mnemonist/vector.from: could not guess iterable length. Please provide desired capacity as last argument.");var i=new oe(e,t);return s5(r,function(n){i.push(n)}),i};function Er(r){var e=function(i){oe.call(this,r,i)};for(var t in oe.prototype)oe.prototype.hasOwnProperty(t)&&(e.prototype[t]=oe.prototype[t]);return e.from=function(i,n){return oe.from(i,r,n)},typeof Symbol<"u"&&(e.prototype[Symbol.iterator]=e.prototype.values),e}oe.Int8Vector=Er(Int8Array);oe.Uint8Vector=Er(Uint8Array);oe.Uint8ClampedVector=Er(Uint8ClampedArray);oe.Int16Vector=Er(Int16Array);oe.Uint16Vector=Er(Uint16Array);oe.Int32Vector=Er(Int32Array);oe.Uint32Vector=Er(Uint32Array);oe.Float32Vector=Er(Float32Array);oe.Float64Vector=Er(Float64Array);oe.PointerVector=Er(l5);Aw.exports=oe});var Mw=_((l9,qw)=>{var f5=Ot(),h5=ft(),p5=rm().inplaceQuickSortIndices,d5=em().lowerBoundIndices,v5=bf(),m5=h5.getPointerArray;function y5(r,e){return r.distance<e.distance?1:r.distance>e.distance?-1:0}function g5(r,e,t){for(var i=t.length,n=m5(i),s=0,c=new n(i),l=new n(i),h=new n(i),p=new Float64Array(i),v=[0,0,i],b=new Float64Array(i),w,T,E,M,L,D,N,Y,ie;v.length;)if(L=v.pop(),M=v.pop(),w=v.pop(),T=t[L-1],L--,ie=L-M,c[w]=T,ie!==0){if(ie===1){N=r(e[T],e[t[M]]),p[w]=N,s++,h[w]=s,c[s]=t[M];continue}for(Y=M;Y<L;Y++)b[t[Y]]=r(e[T],e[t[Y]]);p5(b,t,M,L),E=M+ie/2-1,E===(E|0)?N=(b[t[E]]+b[t[E+1]])/2:N=b[t[Math.ceil(E)]],p[w]=N,D=d5(b,t,N,M,L),L-D>0&&(s++,h[w]=s,v.push(s,D,L)),D-M>0&&(s++,l[w]=s,v.push(s,M,D))}return{nodes:c,lefts:l,rights:h,mus:p}}function Yr(r,e){if(typeof r!="function")throw new Error("mnemonist/VPTree.constructor: given `distance` must be a function.");if(!e)throw new Error("mnemonist/VPTree.constructor: you must provide items to the tree. A VPTree cannot be updated after its creation.");this.distance=r,this.heap=new v5(y5),this.D=0;var t=f5.toArrayWithIndices(e);this.items=t[0];var i=t[1];this.size=i.length;var n=g5(r,this.items,i);this.nodes=n.nodes,this.lefts=n.lefts,this.rights=n.rights,this.mus=n.mus}Yr.prototype.nearestNeighbors=function(r,e){var t=this.heap,i=[0],n=1/0,s,c,l,h,p,v,b;for(this.D=0;i.length;)s=i.pop(),c=this.nodes[s],l=this.items[c],b=this.distance(l,e),this.D++,b<n&&(t.push({distance:b,item:l}),t.size>r&&t.pop(),t.size>=r&&(n=t.peek().distance)),h=this.lefts[s],p=this.rights[s],!(!h&&!p)&&(v=this.mus[s],b<v?(h&&b<v+n&&i.push(h),p&&b>=v-n&&i.push(p)):(p&&b>=v-n&&i.push(p),h&&b<v+n&&i.push(h)));for(var w=new Array(t.size),T=t.size-1;T>=0;T--)w[T]=t.pop();return w};Yr.prototype.neighbors=function(r,e){var t=[],i=[0],n,s,c,l,h,p,v;for(this.D=0;i.length;)n=i.pop(),s=this.nodes[n],c=this.items[s],v=this.distance(c,e),this.D++,v<=r&&t.push({distance:v,item:c}),l=this.lefts[n],h=this.rights[n],!(!l&&!h)&&(p=this.mus[n],v<p?(l&&v<p+r&&i.push(l),h&&v>=p-r&&i.push(h)):(h&&v>=p-r&&i.push(h),l&&v<p+r&&i.push(l)));return t};Yr.prototype.inspect=function(){var r=this.items.slice();return Object.defineProperty(r,"constructor",{value:Yr,enumerable:!1}),r};typeof Symbol<"u"&&(Yr.prototype[Symbol.for("nodejs.util.inspect.custom")]=Yr.prototype.inspect);Yr.from=function(r,e){return new Yr(e,r)};qw.exports=Yr});var jw=_((f9,Lw)=>{var fm=bf(),hm=ff(),xw=qP();Lw.exports={BiMap:IP(),BitSet:VP(),BitVector:BP(),BloomFilter:XP(),BKTree:ZP(),CircularBuffer:n1(),DefaultMap:a1(),DefaultWeakMap:u1(),FixedDeque:Bv(),StaticDisjointSet:l1(),FibonacciHeap:hm,MinFibonacciHeap:hm.MinFibonacciHeap,MaxFibonacciHeap:hm.MaxFibonacciHeap,FixedReverseHeap:_f(),FuzzyMap:m1(),FuzzyMultiMap:_1(),HashedArrayTree:O1(),Heap:fm,MinHeap:fm.MinHeap,MaxHeap:fm.MaxHeap,StaticIntervalTree:A1(),InvertedIndex:I1(),KDTree:z1(),LinkedList:W1(),LRUCache:Of(),LRUCacheWithDelete:B1(),LRUMap:am(),LRUMapWithDelete:Y1(),MultiMap:Kv(),MultiSet:K1(),PassjoinIndex:rw(),Queue:ow(),FixedStack:Jv(),Stack:uw(),SuffixArray:xw,GeneralizedSuffixArray:xw.GeneralizedSuffixArray,Set:cw(),SparseQueueSet:fw(),SparseMap:pw(),SparseSet:vw(),SymSpell:_w(),Trie:Sw(),TrieMap:cm(),Vector:Ew(),VPTree:Mw()}});var D5={};UM(D5,{ArrayTilemap:()=>Rf,CharacterShiftAction:()=>jf,CollisionStrategy:()=>Ta,Direction:()=>bt,GridEngine:()=>za,GridEngineHeadless:()=>Da,MoveToResult:()=>Df,NoPathFoundStrategy:()=>un,NumberOfDirections:()=>zr,PathBlockedStrategy:()=>Po,PhaserTile:()=>Ri,PhaserTileLayer:()=>Ro,PhaserTilemap:()=>Ra,QueuedPathBlockedStrategy:()=>mm,TiledLayer:()=>No,TiledTile:()=>zo,TiledTilemap:()=>zf,default:()=>F5,directionFromPos:()=>rt});module.exports=GM(D5);var k=class r{static get ZERO(){return new r(0,0)}static get ONE(){return new r(1,1)}static get UP(){return new r(0,-1)}static get DOWN(){return new r(0,1)}static get LEFT(){return new r(-1,0)}static get RIGHT(){return new r(1,0)}static get UP_LEFT(){return new r(-1,-1)}static get UP_RIGHT(){return new r(1,-1)}static get DOWN_RIGHT(){return new r(1,1)}static get DOWN_LEFT(){return new r(-1,1)}constructor(e,t){typeof e=="number"?(this.x=e,this.y=t||0):(this.x=e.x,this.y=e.y)}clone(){return new r(this.x,this.y)}add(e){return new r(this.x+e.x,this.y+e.y)}multiply(e){return new r(this.x*e.x,this.y*e.y)}divide(e){return new r(this.x/e.x,this.y/e.y)}subtract(e){return new r(this.x-e.x,this.y-e.y)}equals(e){return this.x===e.x&&this.y===e.y}abs(){return new r(Math.abs(this.x),Math.abs(this.y))}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}modulo(e){return new r(this.x%e.x,this.y%e.y)}scalarModulo(e){return new r(this.x%e,this.y%e)}scalarMult(e){return new r(this.x*e,this.y*e)}toPosition(){return{x:this.x,y:this.y}}toString(){return`${this.x}#${this.y}`}};var G=class{static equal(e,t){return e.position.x===t.position.x&&e.position.y===t.position.y&&e.layer===t.layer}static copyOver(e,t){t.position.x=e.position.x,t.position.y=e.position.y,t.layer=e.layer}static clone(e){return{position:e.position.clone(),layer:e.layer}}static toString(e){return`${e.position.toString()}#${e.layer}`}static toInternal(e){return{position:new k(e.position.x,e.position.y),layer:e.charLayer}}static fromInternal(e){return{position:e.position.toPosition(),charLayer:e.layer}}};var bt=(p=>(p.NONE="none",p.LEFT="left",p.UP_LEFT="up-left",p.UP="up",p.UP_RIGHT="up-right",p.RIGHT="right",p.DOWN_RIGHT="down-right",p.DOWN="down",p.DOWN_LEFT="down-left",p))(bt||{}),BM={up:"down",down:"up",left:"right",right:"left",none:"none","up-left":"down-right","up-right":"down-left","down-right":"up-left","down-left":"up-right"},HM={up:k.UP,down:k.DOWN,left:k.LEFT,right:k.RIGHT,none:k.ZERO,"up-left":k.UP_LEFT,"up-right":k.UP_RIGHT,"down-right":k.DOWN_RIGHT,"down-left":k.DOWN_LEFT},$M={left:"up-left","up-left":"up",up:"up-right","up-right":"right",right:"down-right","down-right":"down",down:"down-left","down-left":"left",none:"none"},YM={left:"down-left","up-left":"left",up:"up-left","up-right":"up",right:"up-right","down-right":"right",down:"down-right","down-left":"down",none:"none"},QM=["down-left","down-right","up-right","up-left"];function la(){return["up","down","left","right","none","up-left","up-right","down-right","down-left"]}function qn(r){return QM.includes(r)}function up(r){return["left","right"].includes(r)}function tb(r){return["up","down"].includes(r)}function rb(r){return YM[r]}function Is(r){return $M[r]}function Xt(r){return HM[r]}function ib(r){return BM[r]}function rt(r,e){if(r.x===e.x){if(r.y>e.y)return"up";if(r.y<e.y)return"down"}else if(r.y===e.y){if(r.x>e.x)return"left";if(r.x<e.x)return"right"}else if(r.x>e.x){if(r.y<e.y)return"down-left";if(r.y>e.y)return"up-left"}else if(r.x<e.x){if(r.y<e.y)return"down-right";if(r.y>e.y)return"up-right"}return"none"}var zr=(t=>(t[t.FOUR=4]="FOUR",t[t.EIGHT=8]="EIGHT",t))(zr||{});function ai(r){return typeof r=="string"&&la().includes(r)}var Hr=gt(Mi(),1);var xi=1e3,nf=class{constructor(e,t){this.id=e;this.movementDirection="none";this._tilePos={position:new k(0,0),layer:void 0};this.movementStarted$=new Hr.Subject;this.movementStopped$=new Hr.Subject;this.directionChanged$=new Hr.Subject;this.positionChangeStarted$=new Hr.Subject;this.positionChangeFinished$=new Hr.Subject;this.tilePositionSet$=new Hr.Subject;this.autoMovementSet$=new Hr.Subject;this.lastMovementImpulse="none";this.facingDirection="down";this.depthChanged$=new Hr.Subject;this.movementProgress=0;this.tilemap=t.tilemap,this.speed=t.speed,this.collidesWithTilesInternal=t.collidesWithTiles,this._tilePos.layer=t.charLayer,this.ignoreMissingTiles=t.ignoreMissingTiles??!1,this.collisionGroups=new Set(t.collisionGroups||[]),this.ignoreCollisionGroups=new Set(t.ignoreCollisionGroups||[]),this.labels=new Set(t.labels||[]),this.numberOfDirections=t.numberOfDirections,t.facingDirection&&this.turnTowards(t.facingDirection),this.tileWidth=t.tileWidth??1,this.tileHeight=t.tileHeight??1}getId(){return this.id}getSpeed(){return this.speed}setSpeed(e){this.speed=e}setMovement(e){this.autoMovementSet$.next(e),this.movement=e}getMovement(){return this.movement}collidesWithTiles(){return this.collidesWithTilesInternal}setCollidesWithTiles(e){this.collidesWithTilesInternal=e}getIgnoreMissingTiles(){return this.ignoreMissingTiles}setIgnoreMissingTiles(e){this.ignoreMissingTiles=e}setTilePosition(e){this.isMoving()&&this.movementStopped$.next(this.movementDirection),this.tilePositionSet$.next({...e}),this.fire(this.positionChangeStarted$,this.tilePos,e),this.fire(this.positionChangeFinished$,this.tilePos,e),this.movementDirection="none",this.lastMovementImpulse="none",this.tilePos=e,this.movementProgress=0}getTilePos(){return this.tilePos}getNextTilePos(){if(!this.isMoving())return this.tilePos;let e=this.tilePos.layer,t=this.tilePosInDirection(this.tilePos.position,this.movementDirection),i=this.tilemap.getTransition(t,this.tilePos.layer);return i&&(e=i),{position:this.tilePosInDirection(this.tilePos.position,this.movementDirection),layer:e}}getTileWidth(){return this.tileWidth}getTileHeight(){return this.tileHeight}move(e){this.lastMovementImpulse=e,e!="none"&&(this.isMoving()||(this.isBlockingDirection(e)?this.changeFacingDirection(e):this.startMoving(e)))}update(e){this.movement?.update(e),this.isMoving()&&this.updateCharacterPosition(e),this.lastMovementImpulse="none"}getMovementDirection(){return this.movementDirection}isBlockingDirection(e){if(e=="none")return!1;let t=this.tilePosInDirection(this.getNextTilePos().position,e),i=this.tilemap.getTransition(t,this.getNextTilePos().layer)||this.getNextTilePos().layer;return this.collidesWithTilesInternal&&this.isTileBlocking(e,i)?!0:this.isCharBlocking(e,i)}isTileBlocking(e,t){return this.someCharTile((i,n)=>{let s=this.tilePosInDirection(new k(i,n),e);return this.tilemap.hasBlockingTile(s,t,ib(e),this.ignoreMissingTiles)})}isCharBlocking(e,t){return this.someCharTile((i,n)=>{let s=this.tilePosInDirection(new k(i,n),e);return this.tilemap.hasBlockingChar(s,t,this.getCollisionGroups(),new Set([this.getId()]),this.ignoreCollisionGroups)})}isMoving(){return this.movementDirection!="none"}turnTowards(e){this.isMoving()||e!="none"&&this.changeFacingDirection(e)}changeFacingDirection(e){this.facingDirection!==e&&(this.facingDirection=e,this.directionChanged$.next(e))}getFacingDirection(){return this.facingDirection}getFacingPosition(){return this._tilePos.position.add(Xt(this.facingDirection))}addCollisionGroup(e){this.collisionGroups.add(e)}setCollisionGroups(e){this.collisionGroups=new Set(e)}setIgnoreCollisionGroups(e){this.ignoreCollisionGroups=new Set(e)}getCollisionGroups(){return Array.from(this.collisionGroups)}getIgnoreCollisionGroups(){return Array.from(this.ignoreCollisionGroups)}hasCollisionGroup(e){return this.collisionGroups.has(e)}removeCollisionGroup(e){this.collisionGroups.delete(e)}removeAllCollisionGroups(){this.collisionGroups.clear()}addLabels(e){for(let t of e)this.labels.add(t)}getLabels(){return[...this.labels.values()]}hasLabel(e){return this.labels.has(e)}clearLabels(){this.labels.clear()}removeLabels(e){for(let t of e)this.labels.delete(t)}getNumberOfDirections(){return this.numberOfDirections}movementStarted(){return this.movementStarted$}movementStopped(){return this.movementStopped$}directionChanged(){return this.directionChanged$}tilePositionSet(){return this.tilePositionSet$}positionChangeStarted(){return this.positionChangeStarted$}positionChangeFinished(){return this.positionChangeFinished$}autoMovementSet(){return this.autoMovementSet$}depthChanged(){return this.depthChanged$}getMovementProgress(){return this.movementProgress}setMovementProgress(e){let t=Math.max(0,Math.min(xi,e));this.movementProgress=t}hasWalkedHalfATile(){return this.movementProgress>xi/2}willCrossTileBorderThisUpdate(e){return this.movementProgress+this.maxProgressForDelta(e)>=xi}updateCharacterPosition(e){let t=this.willCrossTileBorderThisUpdate(e),n=1-(t?xi-this.movementProgress:this.maxProgressForDelta(e))/this.maxProgressForDelta(e);this.movementProgress=Math.min(this.movementProgress+this.maxProgressForDelta(e),xi),t&&(this.movementProgress=0,this.shouldContinueMoving()?(this.fire(this.positionChangeFinished$,this.tilePos,this.getNextTilePos()),this.tilePos=this.getNextTilePos(),this.startMoving(this.lastMovementImpulse),n>0&&this.updateCharacterPosition(e*n)):this.stopMoving())}maxProgressForDelta(e){let i=e/1e3;return Math.floor(i*this.speed*xi)}get tilePos(){return G.clone(this._tilePos)}set tilePos(e){G.copyOver(e,this._tilePos)}startMoving(e){e!=="none"&&(e!=this.movementDirection&&this.movementStarted$.next(e),this.movementDirection=e,this.facingDirection=e,this.fire(this.positionChangeStarted$,this.tilePos,this.getNextTilePos()))}tilePosInDirection(e,t){return e.add(Xt(this.tilemap.toMapDirection(t)))}shouldContinueMoving(){return this.lastMovementImpulse!=="none"&&!this.isBlockingDirection(this.lastMovementImpulse)}stopMoving(){if(this.movementDirection==="none")return;let e=this.tilePos,t=this.getNextTilePos(),i=this.movementDirection;this.tilePos=this.getNextTilePos(),this.movementDirection="none",this.movementStopped$.next(i),this.fire(this.positionChangeFinished$,e,t)}fire(e,{position:t,layer:i},{position:n,layer:s}){e.next({exitTile:t,enterTile:n,exitLayer:i,enterLayer:s})}someCharTile(e){let t=this.getNextTilePos().position;for(let i=t.x;i<t.x+this.getTileWidth();i++)for(let n=t.y;n<t.y+this.getTileHeight();n++)if(e(i,n))return!0;return!1}};var iP=gt(Mi(),1),Sa=class r{constructor(e,t){this.walkingAnimationMapping=e;this.charsInRow=t;this.lastFootLeft=!1;this.directionToFrameRow={down:0,"down-left":1,"down-right":2,left:1,right:2,up:3,"up-left":1,"up-right":2};this._isEnabled=!0;this.frameChange$=new iP.Subject;this.setWalkingAnimationMapping(e)}static{this.FRAMES_CHAR_ROW=3}static{this.FRAMES_CHAR_COL=4}frameChange(){return this.frameChange$}setIsEnabled(e){this._isEnabled=e}isEnabled(){return this._isEnabled}updateCharacterFrame(e,t,i){this._isEnabled&&(t?this.setStandingFrameDuringWalk(e,i):this.setWalkingFrame(e))}setStandingFrame(e){this._isEnabled&&this._setStandingFrame(e)}setWalkingAnimationMapping(e){this.walkingAnimationMapping=e,this._isEnabled=this.walkingAnimationMapping!==void 0}getWalkingAnimationMapping(){return this.walkingAnimationMapping}getCharsInRow(){return this.charsInRow}setStandingFrameDuringWalk(e,t){this.isCurrentFrameStanding(e,t)||(this.lastFootLeft=!this.lastFootLeft),this._setStandingFrame(e)}setWalkingFrame(e){let t=this.framesOfDirection(e);t&&this.frameChange$.next(this.lastFootLeft?t.rightFoot:t.leftFoot)}_setStandingFrame(e){let t=this.framesOfDirection(e);t&&this.frameChange$.next(t.standing)}isCurrentFrameStanding(e,t){return t===this.framesOfDirection(e)?.standing}framesOfDirection(e){return typeof this.walkingAnimationMapping=="number"?this.getFramesForCharIndex(e,this.walkingAnimationMapping):this.getFramesForAnimationMapping(e)}getFramesForAnimationMapping(e){if(this.walkingAnimationMapping)return this.walkingAnimationMapping[e]||this.walkingAnimationMapping[this.fallbackDirection(e)]}fallbackDirection(e){switch(e){case"down-left":return"left";case"down-right":return"right";case"up-left":return"left";case"up-right":return"right"}return e}getFramesForCharIndex(e,t){let i=Math.floor(t/this.charsInRow),n=t%this.charsInRow,s=this.charsInRow*r.FRAMES_CHAR_ROW,c=r.FRAMES_CHAR_ROW*n,l=(this.directionToFrameRow[e]??0)+i*r.FRAMES_CHAR_COL,h=c+l*s;return{rightFoot:h,standing:h+1,leftFoot:h+2}}};var an=class{static shiftPad(e,t){let i=Math.floor(e),s=`${i}`.padStart(t,"0").length;return i/Math.pow(10,s)}};var jv=gt(Mi(),1),sf=gt(_o(),1);var qe=class r{static vec2str(e){return`${e.x}#${e.y}`}static equal(e,t){return r.vec2str(e)==r.vec2str(t)}static manhattanDistance(e,t){let i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return i+n}static chebyshevDistance(e,t){let i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.max(i,n)}static scalarMult(e,t){return e.clone().multiply(new k(t,t))}};var sn=class r{constructor(e){this.tilemap=e;this.charLayerDepths=new Map;this.setLayerDepths()}static{this.ALWAYS_TOP_PROP_NAME="ge_alwaysTop"}static{this.CHAR_LAYER_PROP_NAME="ge_charLayer"}static{this.HEIGHT_SHIFT_PROP_NAME="ge_heightShift"}static{this.Z_INDEX_PADDING=7}getTileWidth(){let e=this.tilemap.layers[0]?.tilemapLayer.scale??1;return this.tilemap.tileWidth*e}getTileHeight(){let e=this.tilemap.layers[0]?.tilemapLayer.scale??1;return this.tilemap.tileHeight*e}getDepthOfCharLayer(e){return this.charLayerDepths.get(e)??0}tilePosToPixelPos(e){return this.isIsometric()?qe.scalarMult(this.getTileSize(),.5).multiply(new k(e.x-e.y,e.x+e.y)):e.clone().multiply(this.getTileSize())}getTileDistance(e){if(this.isIsometric())switch(e){case"down-left":case"down-right":case"up-left":case"up-right":return qe.scalarMult(this.getTileSize(),.5);default:return this.getTileSize()}return this.getTileSize()}getTileSize(){return new k(this.getTileWidth(),this.getTileHeight())}isIsometric(){return this.tilemap.orientation==Phaser.Tilemaps.Orientation.ISOMETRIC.toString()}isLayerAlwaysOnTop(e){return this.hasLayerProp(e,r.ALWAYS_TOP_PROP_NAME)}isCharLayer(e){return this.hasLayerProp(e,r.CHAR_LAYER_PROP_NAME)}setLayerDepths(){let e=[],t=-1,i=this.tilemap.layers.filter(s=>this.isLayerAlwaysOnTop(s));this.tilemap.layers.filter(s=>!this.isLayerAlwaysOnTop(s)).forEach(s=>{this.hasLayerProp(s,r.HEIGHT_SHIFT_PROP_NAME)?(this.createHeightShiftLayers(s,t),e.push(s.tilemapLayer)):this.setDepth(s,++t)}),this.charLayerDepths.set(void 0,t),i.forEach((s,c)=>{s.tilemapLayer.setDepth(c+1+t)}),e.forEach(s=>s.destroy())}setDepth(e,t){e.tilemapLayer.setDepth(t),this.isCharLayer(e)&&this.charLayerDepths.set(this.getLayerProp(e,r.CHAR_LAYER_PROP_NAME),t)}createHeightShiftLayers(e,t){let i=this.getLayerProp(e,r.HEIGHT_SHIFT_PROP_NAME);isNaN(i)&&(i=0);let n=1;for(let s=0;s<e.height;s++){let c=this.copyLayer(e,s);c&&(c.scale=e.tilemapLayer.scale,c.setDepth(t+an.shiftPad((s+i)*this.getTileHeight()+n,r.Z_INDEX_PADDING)))}}getLayerProp(e,t){return e.properties.find(s=>s.name==t)?.value}hasLayerProp(e,t){return this.getLayerProp(e,t)!=null}copyLayer(e,t){let i=`${e.name}#${t}`,n=this.tilemap.createBlankLayer(i,e.tilemapLayer.tileset);if(n){n.name=i;for(let s=0;s<e.width;s++)n.putTileAt(e.data[t][s],s,t);return n}}};var af=class{constructor(e,t,i,n,s){this.charData=e;this.scene=t;this.tilemap=i;this.geHeadless=s;this.customOffset=new k(0,0);this.newSpriteSet$=new jv.Subject;this.destroy$=new jv.Subject;this.layerOverlaySprite=n&&e.sprite?this.scene.add.sprite(0,0,e.sprite.texture):void 0,this.walkingAnimationMapping=e.walkingAnimationMapping,this.customOffset=new k(e.offsetX||0,e.offsetY||0),this.sprite=e.sprite,this.container=e.container,this.geHeadless.directionChanged().pipe((0,sf.filter)(({charId:c})=>c===this.charData.id)).subscribe(({direction:c})=>{this.animation?.setStandingFrame(c)}),this.sprite&&(this.sprite.setOrigin(0,0),this.resetAnimation(this.sprite),this.updateOverlaySprite(),this.updateGridChar())}destroy(){this.destroy$.next(),this.destroy$.complete(),this.newSpriteSet$.complete()}setSprite(e){e?(this.sprite&&(e.x=this.sprite.x,e.y=this.sprite.y),this.sprite=e,this.newSpriteSet$.next(),this.layerOverlaySprite=this.layerOverlaySprite?this.scene.add.sprite(0,0,this.sprite.texture):void 0,this.updateOverlaySprite(),this.resetAnimation(this.sprite),this.updateDepth()):(this.layerOverlaySprite=void 0,this.sprite=void 0)}getSprite(){return this.sprite}getLayerOverlaySprite(){return this.layerOverlaySprite}setContainer(e){this.container=e}getContainer(){return this.container}getOffsetX(){return this.customOffset.x}setOffsetX(e){this.customOffset.x=e}getOffsetY(){return this.customOffset.y}setOffsetY(e){this.customOffset.y=e}getWalkingAnimationMapping(){return this.walkingAnimationMapping}turnTowards(e){this.geHeadless.isMoving(this.charData.id)||e!="none"&&(this.geHeadless.turnTowards(this.charData.id,e),this.animation?.setStandingFrame(e))}getAnimation(){return this.animation}setAnimation(e){this.animation=e}update(e){this.updateGridChar()}getEngineOffset(){if(!this.sprite)return k.ZERO;let e=this.tilemap.getTileWidth()/2-Math.floor((this.sprite?.displayWidth??0)/2),t=-(this.sprite?.displayHeight??0)+this.tilemap.getTileHeight();return new k(e,t)}updatePixelPos(){let e=new k(this.geHeadless.getPosition(this.charData.id)),t=this.geHeadless.getMovementProgress(this.charData.id)/1e3,n=this.tilemap.tilePosToPixelPos(e).add(this.getEngineOffset()).add(this.customOffset).add(Xt(this.geHeadless.getFacingDirection(this.charData.id)).multiply(this.tilemap.getTileDistance(this.geHeadless.getFacingDirection(this.charData.id)).scalarMult(t))),s=this.getGameObj();s&&(s.x=Math.floor(n.x),s.y=Math.floor(n.y))}getGameObj(){return this.container||this.sprite}updateGridChar(){if(this.updatePixelPos(),this.sprite&&this.geHeadless.isMoving(this.charData.id)){let e=this.geHeadless.getMovementProgress(this.charData.id)>xi/2;this.getAnimation()?.updateCharacterFrame(this.geHeadless.getFacingDirection(this.charData.id),e,Number(this.sprite.frame.name))}this.updateDepth()}resetAnimation(e){let t=new Sa(this.walkingAnimationMapping,e.texture.source[0].width/e.width/Sa.FRAMES_CHAR_ROW);this.setAnimation(t),t.frameChange().pipe((0,sf.takeUntil)(this.newSpriteSet$)).subscribe(i=>{e?.setFrame(i)}),t.setIsEnabled(this.walkingAnimationMapping!==void 0),t.setStandingFrame(this.geHeadless.getFacingDirection(this.charData.id))}updateOverlaySprite(){if(!this.layerOverlaySprite||!this.sprite)return;this.layerOverlaySprite.scale=this.sprite.scale;let e=this.tilemap.getTileHeight()/this.layerOverlaySprite.scale;this.layerOverlaySprite.setCrop(0,0,this.layerOverlaySprite.displayWidth,this.sprite.height-e),this.layerOverlaySprite.setOrigin(0,0)}updateDepth(){if(!this.getGameObj())return;let t=new k(this.geHeadless.getPosition(this.charData.id)),i=this.geHeadless.getCharLayer(this.charData.id);this.container?this.setContainerDepth(this.container,{position:t,layer:i}):this.sprite&&this.setSpriteDepth(this.sprite,{position:t,layer:i});let n=this.getLayerOverlaySprite();if(n){let s=new k({...t,y:t.y-1});this.setSpriteDepth(n,{position:s,layer:i})}}setSpriteDepth(e,t){e.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(t))+this.getPaddedPixelDepthSprite(e))}setContainerDepth(e,t){e.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(t))+this.getPaddedPixelDepthContainer(e))}getPaddedPixelDepthSprite(e){return an.shiftPad(e.y+e.displayHeight,sn.Z_INDEX_PADDING)}getPaddedPixelDepthContainer(e){return an.shiftPad(e.y+e.getBounds().height,sn.Z_INDEX_PADDING)}getTransitionLayer(e){if(e.layer)return this.geHeadless.getTransition(e.position,e.layer)||e.layer}};var Ta=(n=>(n.DONT_BLOCK="DONT_BLOCK",n.BLOCK_TWO_TILES="BLOCK_TWO_TILES",n.BLOCK_ONE_TILE_AHEAD="BLOCK_ONE_TILE_AHEAD",n.BLOCK_ONE_TILE_BEHIND="BLOCK_ONE_TILE_BEHIND",n))(Ta||{});var un=(i=>(i.STOP="STOP",i.CLOSEST_REACHABLE="CLOSEST_REACHABLE",i.RETRY="RETRY",i))(un||{});var uf=class{distance(e,t){return qe.manhattanDistance(e,t)}direction(e,t){if(qe.equal(e,t))return"none";let i=e.clone().subtract(t);return Math.abs(i.x)>Math.abs(i.y)?i.x>0?"left":"right":i.y>0?"up":"down"}neighbors(e){return[new k(e.x,e.y+1),new k(e.x+1,e.y),new k(e.x-1,e.y),new k(e.x,e.y-1)]}getDirections(){return["up","right","down","left"]}};var cf=class{distance(e,t){return qe.chebyshevDistance(e,t)}neighbors(e){let t=[new k(e.x,e.y+1),new k(e.x+1,e.y),new k(e.x-1,e.y),new k(e.x,e.y-1)],i=[new k(e.x+1,e.y+1),new k(e.x+1,e.y-1),new k(e.x-1,e.y+1),new k(e.x-1,e.y-1)];return[...t,...i]}direction(e,t){return t.x>e.x?t.y>e.y?"down-right":t.y<e.y?"up-right":"right":t.x<e.x?t.y>e.y?"down-left":t.y<e.y?"up-left":"left":t.y<e.y?"up":t.y>e.y?"down":"none"}getDirections(){return["up","right","down","left","down-left","down-right","up-right","up-left"]}};var ct=class{static create(e){switch(e){case 4:return new uf;case 8:return new cf}}};var Ca=class{constructor(e,t,i){this.backoffMs=e;this.maxRetries=t;this.onFinished=i;this.retries=0;this.elapsed=0}retry(e,t){this.shouldRetry()?(this.elapsed+=e,this.elapsed>=this.backoffMs&&(this.elapsed=0,this.retries++,t())):this.onFinished()}reset(){this.retries=0,this.elapsed=0}getMaxRetries(){return this.maxRetries}getBackoffMs(){return this.backoffMs}shouldRetry(){return this.maxRetries===-1||this.retries<this.maxRetries}};var Po=(i=>(i.WAIT="WAIT",i.RETRY="RETRY",i.STOP="STOP",i))(Po||{});var ko=gt(Mi(),1);var yr=class{constructor(e,{shortestPathAlgorithm:t="BFS",pathWidth:i=1,pathHeight:n=1,numberOfDirections:s=4,isPositionAllowed:c=(L,D)=>!0,collisionGroups:l=[],ignoredChars:h=[],ignoreTiles:p=!1,ignoreMapBounds:v=!1,ignoreBlockedTarget:b=!1,maxPathLength:w=1/0,ignoreLayers:T=!1,considerCosts:E=!1,calculateClosestToTarget:M=!0}={}){this.gridTilemap=e;this.options={shortestPathAlgorithm:t,pathWidth:i,pathHeight:n,numberOfDirections:s,isPositionAllowed:c,collisionGroups:l,ignoredChars:h,ignoreTiles:p,ignoreMapBounds:v,ignoreBlockedTarget:b,maxPathLength:w,ignoreLayers:T,considerCosts:E,calculateClosestToTarget:M}}findShortestPath(e,t){this.options.ignoreLayers&&(this.gridTilemap.fixCacheLayer(e.layer),t.layer=e.layer);let i=this.findShortestPathImpl(e,t);return this.gridTilemap.unfixCacheLayers(),i}getNeighbors(e,t){return ct.create(this.options.numberOfDirections??4).neighbors(e.position).map(c=>{let l=e.layer;return this.options.ignoreLayers||(l=this.gridTilemap.getTransition(c,e.layer)),{position:c,layer:l||e.layer}}).filter(c=>!this.isBlocking(e,c)||this.options.ignoreBlockedTarget&&G.equal(c,t))}getTransition(e,t){if(!this.options.ignoreLayers)return this.gridTilemap.getTransition(e,t)}getCosts(e,t){if(!this.options.considerCosts)return 1;let i=rt(t.position,e);return this.gridTilemap.getTileCosts(t,i)}isBlocking(e,t){return!(this.options.ignoreMapBounds||this.gridTilemap.isInRange(t.position))||!this.options.isPositionAllowed(t.position,t.layer)||!this.options.ignoreTiles&&this.hasBlockingTileFrom(e,t,this.options.pathWidth,this.options.pathHeight,this.options.ignoreMapBounds,this.gridTilemap)?!0:this.hasBlockingCharFrom(t,this.options.pathWidth,this.options.pathHeight,this.options.collisionGroups,this.options.ignoredChars,this.gridTilemap)}distance(e,t){return(this.options.numberOfDirections===4?qe.manhattanDistance:qe.chebyshevDistance)(e,t)}getTilePosInDir(e,t){return this.gridTilemap.getTilePosInDirection(e,t)}getReverseNeighbors(e,t){let n=ct.create(this.options.numberOfDirections??4).neighbors(e.position),s;if(!this.options.ignoreLayers){let l=this.gridTilemap.getReverseTransitions(e.position,e.layer);s=l?[...l]:void 0}return n.map(l=>s?s.map(h=>({position:l,layer:h||e.layer})):[{position:l,layer:e.layer}]).flat().filter(l=>!this.isBlocking(l,e)||this.options.ignoreBlockedTarget&&G.equal(e,t))}hasBlockingCharFrom(e,t,i,n,s,c){for(let l=e.position.x;l<e.position.x+t;l++)for(let h=e.position.y;h<e.position.y+i;h++)if(c.hasBlockingChar(new k(l,h),e.layer,n,new Set(s)))return!0;return!1}hasBlockingTileFrom(e,t,i,n,s,c){for(let l=t.position.x;l<t.position.x+i;l++)for(let h=t.position.y;h<t.position.y+n;h++)if(c.hasBlockingTile(new k(l,h),t.layer,rt(t.position,e.position),s))return!0;return!1}};var gP=gt(ff(),1);var hf=class extends yr{findShortestPathImpl(e,t){let i=this.shortestPathBfs(e,t);return{path:this.returnPath(i.previous,e,t),closestToTarget:i.closestToTarget,steps:i.steps,maxPathLengthReached:i.maxPathLengthReached,algorithmUsed:"A_STAR"}}shortestPathBfs(e,t){let i=new Map,n=new Map,s=new Map,c=new gP.MinFibonacciHeap((v,b)=>qa(s,v)-qa(s,b)),l=e,h=this.distance(e.position,t.position),p=0;for(c.push(e),n.set(G.toString(e),0),s.set(G.toString(e),this.distance(e.position,t.position));c.size>0;){let v=c.pop();if(!v)break;p++;let b=this.distance(v.position,t.position);if(b<h&&(h=b,l=v),yP(v,t))return{previous:i,closestToTarget:l,steps:p,maxPathLengthReached:!1};if(qa(n,v)+1>this.options.maxPathLength)return{previous:new Map,closestToTarget:l,steps:p,maxPathLengthReached:!0};for(let w of this.getNeighbors(v,t)){let T=qa(n,v)+this.getCosts(v.position,w),E=G.toString(w);(!n.has(E)||T<qa(n,w))&&(i.set(E,v),n.set(E,T),s.set(E,T+this.distance(w.position,t.position)),c.push(w))}}return{previous:i,closestToTarget:l,steps:p,maxPathLengthReached:!1}}returnPath(e,t,i){let n=[],s=i;for(n.push(s);!yP(s,t);){if(s=e.get(G.toString(s)),!s)return[];n.push(s)}return n.reverse()}};function qa(r,e){return r.get(G.toString(e))??Number.MAX_VALUE}function yP(r,e){return qe.equal(r.position,e.position)?r.layer===e.layer:!1}var pf=class{constructor(e){this.data=e}},$r=class{constructor(){this.sizeInternal=0}dequeue(){if(this.tail===void 0)return;this.sizeInternal--;let e=this.tail.data;return this.tail.prev===void 0?(this.tail=void 0,this.head=void 0,e):(this.tail.prev.next=void 0,this.tail=this.tail.prev,e)}enqueue(e){if(this.sizeInternal++,this.head===void 0){this.head=new pf(e),this.tail=this.head;return}let t=new pf(e);t.next=this.head,this.head.prev=t,this.head=t}peek(){return this.tail?this.tail.data:void 0}peekAll(){let e=[],t=this.tail;for(;t;)e.push(t.data),t=t.prev;return e}clear(){this.head=void 0,this.tail=void 0,this.sizeInternal=0}peekEnd(){return this.head?.data}size(){return this.sizeInternal}};var wo=class extends yr{findShortestPathImpl(e,t){let i=this.shortestPathBfs(e,t);return{path:this.returnPath(i.previous,e,t),closestToTarget:i.closestToTarget,steps:i.steps,maxPathLengthReached:i.maxPathLengthReached,algorithmUsed:"BFS"}}equal(e,t){return qe.equal(e.position,t.position)?e.layer===t.layer:!1}shortestPathBfs(e,t){let i=new Map,n=new Set,s=new $r,c=e,l=this.distance(e.position,t.position),h=0;for(s.enqueue({node:e,dist:0}),n.add(G.toString(e));s.size()>0;){let p=s.dequeue();if(h++,!p)break;let{node:v,dist:b}=p;if(b>this.options.maxPathLength)return{previous:new Map,closestToTarget:c,steps:h,maxPathLengthReached:!0};let w=this.distance(v.position,t.position);if(w<l&&(l=w,c=v),this.equal(v,t))return{previous:i,closestToTarget:c,steps:h,maxPathLengthReached:!1};for(let T of this.getNeighbors(v,t))n.has(G.toString(T))||(i.set(G.toString(T),v),s.enqueue({node:T,dist:b+1}),n.add(G.toString(T)))}return{previous:i,closestToTarget:c,steps:h,maxPathLengthReached:!1}}returnPath(e,t,i){let n=[],s=i;for(n.push(s);!this.equal(s,t);){if(s=e.get(G.toString(s)),!s)return[];n.push(s)}return n.reverse()}};var df=class{constructor(){this.previous=new Map;this.visited=new Map;this.queue=new $r;this.minMatching=1/0;this.lastDist=0}isNewFrontier(){let e=this.queue.peek();return!!(e&&e.dist>this.lastDist)}step(e,t,i){this.lastDist=i;for(let n of e){let s=G.toString(n);if(!this.visited.has(s)){this.previous.set(s,t),this.queue.enqueue({node:n,dist:i+1}),this.visited.set(s,i+1);let c=this.otherBfs?.visited.get(s);c!==void 0&&c<this.minMatching&&(this.minMatching=c,this.minMatchingNode=n)}}}},vf=class extends yr{findShortestPathImpl(e,t){let i=this.shortestPathBfs(e,t);return{path:this.returnPath(i.previous,i.previous2,i.matchingPos,e,t),closestToTarget:i.closestToTarget,steps:i.steps,maxPathLengthReached:i.maxPathLengthReached,algorithmUsed:"BIDIRECTIONAL_SEARCH"}}equal(e,t){return qe.equal(e.position,t.position)?e.layer===t.layer:!1}shortestPathBfs(e,t){if(G.equal(e,t))return{previous:new Map,previous2:new Map,closestToTarget:e,steps:0,maxPathLengthReached:!1};let i=new df,n=new df,s=0;i.otherBfs=n,n.otherBfs=i;let c=e,l=this.distance(e.position,t.position);for(i.queue.enqueue({node:e,dist:0}),n.queue.enqueue({node:t,dist:0}),i.visited.set(G.toString(e),0),n.visited.set(G.toString(t),0);this.shouldStop(i.queue.size()>0,n.queue.size()>0);){let h=i.queue.dequeue();if(!h)break;let{node:p,dist:v}=h;if(v+1+(n.queue.peek()?.dist||0)>this.options.maxPathLength)return{previous:i.previous,previous2:n.previous,closestToTarget:this.maybeClosestToTarget(c),steps:s,maxPathLengthReached:!0};let b=this.distance(p.position,t.position);if(b<l&&(l=b,c=p),s++,i.step(this.getNeighbors(p,t),p,v),i.isNewFrontier()&&i.minMatchingNode)return{previous:i.previous,previous2:n.previous,closestToTarget:this.maybeClosestToTarget(t),matchingPos:i.minMatchingNode,steps:s,maxPathLengthReached:!1};let w=n.queue.dequeue();if(!w)continue;let{node:T,dist:E}=w;if(s++,n.step(this.getReverseNeighbors(T,t),T,E),n.isNewFrontier()&&n.minMatchingNode)return{previous:i.previous,previous2:n.previous,closestToTarget:this.maybeClosestToTarget(t),matchingPos:n.minMatchingNode,steps:s,maxPathLengthReached:!1}}return{previous:i.previous,previous2:n.previous,closestToTarget:this.maybeClosestToTarget(c),steps:s,maxPathLengthReached:!1}}shouldStop(e,t){return this.options.calculateClosestToTarget?e||t:e&&t}maybeClosestToTarget(e){return this.options.calculateClosestToTarget?e:void 0}returnPath(e,t,i,n,s){if(i){let c=this.getPathFromPrev(e,n,i).reverse(),l=this.getPathFromPrev(t,s,i);return c.pop(),[...c,...l]}else return this.getPathFromPrev(e,n,s).reverse()}getPathFromPrev(e,t,i){let n=[],s=i;for(n.push(s);!this.equal(s,t);){if(s=e.get(G.toString(s)),!s)return[];n.push(s)}return n}};var pm=gt(jw(),1);var Lo=class extends yr{constructor(t,i={}){super(t,i);this.openSet=new pm.MinFibonacciHeap;this.g=new Map;this.f=new Map;this.closestToTarget={position:new k(0,0),layer:void 0};this.smallestDistToTarget=0;this.steps=0;this.maxFrontierSize=0;this.maxJumpSize=0;this.turnOrder={right:0,"down-right":1,down:2,"down-left":3,left:4,"up-left":5,up:6,"up-right":7};this.turnTimes=b5();this.distanceUtils=ct.create(4)}findShortestPathImpl(t,i){this.maxJumpSize=this.distance(t.position,i.position);let n=this.shortestPath(t,i);return{path:this.returnPath(n.previous,t,i),closestToTarget:n.closestToTarget,steps:n.steps,maxPathLengthReached:n.maxPathLengthReached,algorithmUsed:"JPS"}}shortestPath(t,i){this.steps=0;let n=new Map;this.g=new Map,this.f=new Map,this.closestToTarget=t,this.smallestDistToTarget=this.distance(t.position,i.position),this.openSet=new pm.MinFibonacciHeap((c,l)=>ja(this.f,c)-ja(this.f,l)),this.openSet.push(t);let s=G.toString(t);for(this.g.set(s,0),this.f.set(s,this.distance(t.position,i.position)),this.maxFrontierSize=Math.max(this.maxFrontierSize,this.openSet.size);this.openSet.size>0;){let c=this.openSet.pop();if(!c)break;if(this.steps++,G.equal(c,i))return{previous:n,closestToTarget:i,steps:this.steps,maxPathLengthReached:!1};if(ja(this.g,c)+1>this.options.maxPathLength)return{previous:new Map,closestToTarget:this.closestToTarget,steps:this.steps,maxPathLengthReached:!0};this.updateClosestToTarget(c,i);for(let l of this.getNeighborsInternal(c,n.get(G.toString(c)),i)){let h=G.toString(l.p),p=ja(this.g,c)+l.dist;(!this.g.has(h)||p<ja(this.g,l.p))&&(n.set(h,c),this.g.set(h,p),this.f.set(h,p+this.distance(l.p.position,i.position)),this.openSet.push(l.p))}}return{previous:n,closestToTarget:this.closestToTarget,steps:this.steps,maxPathLengthReached:!1}}updateClosestToTarget(t,i){let n=this.distance(t.position,i.position);n<this.smallestDistToTarget&&(this.smallestDistToTarget=n,this.closestToTarget=t)}getNeighborsInternal(t,i,n){if(!i||t.layer!==i.layer)return this.getNeighbors(t,n).map(l=>({p:l,dist:1}));let s=this.prune(i,t).map(l=>{let h=this.getTransition(l.position,t.layer);return{position:l.position,layer:h||t.layer}}),c=[];for(let l of s){let h=this.jump(t,l,n,1);h&&c.push(h)}return c}jump(t,i,n,s){let c=this.distanceUtils.direction(t.position,i.position);if(!(this.isBlocking(t,i)&&!(G.equal(i,n)&&this.options.ignoreBlockedTarget)))return G.equal(i,n)?{p:i,dist:s}:s>=this.maxJumpSize?{p:i,dist:s}:this.getTransition(i.position,t.layer)!==void 0?{p:i,dist:s}:up(c)?{p:i,dist:s}:this.getForced(t,i).length>0?{p:i,dist:s}:(this.updateClosestToTarget(i,n),this.jump(i,this.getTilePosInDir(i,rt(t.position,i.position)),n,s+1))}getForced(t,i){let n=[],s=this.posInDir(i,this.distanceUtils.direction(i.position,t.position)),{topLeft:c,downLeft:l,top:h,bottom:p}=this.normalizedPositions(s,i),v=(w,T)=>this.isBlocking(w,T)||this.getTransition(T.position,T.layer)!==void 0,b=this.distanceUtils.direction(t.position,i.position);return tb(b)&&((v(s,l)||v(l,p))&&!this.isBlocking(i,p)&&n.push(p),(v(s,c)||v(c,h))&&!this.isBlocking(i,h)&&n.push(h)),n}prune(t,i){let{right:n,top:s,bottom:c}=this.normalizedPositions(t,i),l=this.getForced(t,i),h=rt(t.position,i.position);return up(h)?[n,s,c]:[n,...l]}normalizedPositions(t,i){let n=rt(t.position,i.position);return{topLeft:this.posInDir(i,this.turnTimes.get("up-left")?.get(this.turnOrder[n])||"up-left"),downLeft:this.posInDir(i,this.turnTimes.get("down-left")?.get(this.turnOrder[n])||"down-left"),downRight:this.posInDir(i,this.turnTimes.get("down-right")?.get(this.turnOrder[n])||"down-right"),topRight:this.posInDir(i,this.turnTimes.get("up-right")?.get(this.turnOrder[n])||"up-right"),top:this.posInDir(i,this.turnTimes.get("up")?.get(this.turnOrder[n])||"up"),bottom:this.posInDir(i,this.turnTimes.get("down")?.get(this.turnOrder[n])||"down"),right:this.posInDir(i,this.turnTimes.get("right")?.get(this.turnOrder[n])||"right")}}posInDir(t,i){return{position:t.position.add(Xt(i)),layer:t.layer}}returnPath(t,i,n){let s=[],c=n;for(s.push(c);!G.equal(c,i);){let l=t.get(G.toString(c));if(!l)return[];this.distance(l.position,c.position)>1?this.fillPath(c,l,s):s.push(l),c=l}return s.reverse()}fillPath(t,i,n){let s=t;do{let c=rt(s.position,i.position);s=this.getTilePosInDir(s,c),n.push(s)}while(!qe.equal(s.position,i.position))}};function ja(r,e){return r.get(G.toString(e))??Number.MAX_VALUE}function b5(){let r=["right","down-right","down","down-left","left","up-left","up","up-right"],e=new Map;for(let t=0;t<r.length;t++){let i=new Map,n=r[t];i.set(0,n);for(let s=1;s<=7;s++)n=Is(n),i.set(s,n);e.set(r[t],i)}return e}var jo=gt(_o(),1);var Cf=class{constructor(e,t,i,n={}){this.character=e;this.gridTilemap=t;this.charToFollow=i;let s={distance:0,noPathFoundStrategy:"STOP",maxPathLength:1/0,shortestPathAlgorithm:"BIDIRECTIONAL_SEARCH",ignoreLayers:!1,considerCosts:n.considerCosts||!1};this.options={...s,...n},this.options.considerCosts&&this.options.shortestPathAlgorithm!=="A_STAR"&&console.warn(`GridEngine: Pathfinding option 'considerCosts' cannot be used with algorithm '${this.options.shortestPathAlgorithm}'. It can only be used with A* algorithm.`),this.character=e,this.updateTarget(this.charToFollow.getTilePos().position,this.charToFollow.getTilePos().layer),this.charToFollow.positionChangeStarted().pipe((0,jo.takeUntil)(this.character.autoMovementSet().pipe((0,jo.filter)(c=>c!==this),(0,jo.take)(1)))).subscribe(({enterTile:c,enterLayer:l})=>{this.updateTarget(c,l)})}update(e){this.targetMovement?.update(e)}getInfo(){return{type:"Follow",config:{charToFollow:this.charToFollow.getId(),distance:this.options.distance,noPathFoundStrategy:this.options.noPathFoundStrategy,maxPathLength:this.options.maxPathLength,ignoreLayers:this.options.ignoreLayers}}}updateTarget(e,t){this.targetMovement=new Io(this.character,this.gridTilemap,{position:new k(e),layer:t},{distance:this.options.distance+1,config:{algorithm:this.options.shortestPathAlgorithm,noPathFoundStrategy:this.options.noPathFoundStrategy,maxPathLength:this.options.maxPathLength,ignoreLayers:this.options.ignoreLayers,considerCosts:this.options.considerCosts},ignoreBlockedTarget:!0})}};var Ia=class{static getRandomInt(e){return Math.floor(Math.random()*Math.floor(e))}};var Fo=gt(_o(),1);var Af=class{constructor(e,t=0,i=-1){this.character=e;this.delay=t;this.radius=i;this.stepSize=0;this.delayLeft=this.delay,this.initialRow=e.getNextTilePos().position.y,this.initialCol=e.getNextTilePos().position.x,this.randomizeStepSize(),this.stepsWalked=0,this.currentMovementDirection="none",this.character.positionChangeStarted().pipe((0,Fo.takeUntil)(this.character.autoMovementSet().pipe((0,Fo.filter)(n=>n!==this),(0,Fo.take)(1)))).subscribe(()=>{this.stepsWalked++}),this.distanceUtils=ct.create(e.getNumberOfDirections())}update(e){if(this.shouldContinueWalkingCurrentDirection())this.character.move(this.currentMovementDirection);else if(this.delayLeft-=e,this.delayLeft<=0){this.delayLeft=this.delay;let t=this.getFreeRandomDirection();this.stepsWalked=0,this.character.move(t),this.currentMovementDirection=t,this.randomizeStepSize()}}getInfo(){return{type:"Random",config:{delay:this.delay,radius:this.radius}}}shouldContinueWalkingCurrentDirection(){return this.stepsWalked<this.stepSize&&this.currentMovementDirection!=="none"&&!this.character.isBlockingDirection(this.currentMovementDirection)&&this.isWithinRadius(this.currentMovementDirection)}getFreeDirections(){return this.distanceUtils.getDirections().filter(t=>!this.character.isBlockingDirection(t)).filter(t=>this.isWithinRadius(t))}isWithinRadius(e){return this.radius==-1?!0:this.getDist(e)<=this.radius}getDist(e){return this.distanceUtils.distance(this.character.getNextTilePos().position.add(Xt(e)),new k(this.initialCol,this.initialRow))}getFreeRandomDirection(){let e=this.getFreeDirections();return e.length==0?"none":e[Ia.getRandomInt(e.length)]}randomizeStepSize(){this.stepSize=Ia.getRandomInt(this.radius)+1}};var or=gt(Mi(),1),$e=gt(_o(),1);function Iw(r,e){return r.filter(t=>e.labels?.withAllLabels?e.labels?.withAllLabels.every(i=>t.hasLabel(i)):e.labels?.withOneOfLabels?e.labels?.withOneOfLabels.some(i=>t.hasLabel(i)):e.labels?.withNoneLabels?!e.labels?.withNoneLabels.some(i=>t.hasLabel(i)):!0)}var Ef="2.42.1";var St=gt(Mi(),1);var qf=class{constructor(e,t){this.collistionStrategy=e;this.collisionGroupRelation=t;this.tilePosToCharacters=new Map;this.charRemoved$=new St.Subject}isCharBlockingAt(e,t,i,n=new Set,s=new Set){if(i.length===0)return!1;let c=this.posToString(e,t),l=this.tilePosToCharacters.get(c);return!!(l&&l.size>0&&[...l].filter(h=>!n.has(h.getId())).filter(h=>!this.doIntersect(h.getCollisionGroups(),s)).some(h=>i.some(p=>h.getCollisionGroups().some(v=>this.collidesWith(p,v)))))}doIntersect(e,t){for(let i of e)if(t.has(i))return!0;return!1}collidesWith(e,t){return this.collisionGroupRelation?(this.collisionGroupRelation.get(e)||new Set).has(t):e===t}getCharactersAt(e,t){let i=this.posToString(e,t),n=this.tilePosToCharacters.get(i);return new Set(n)}addCharacter(e){this.addTilePositions(e.getTilePos(),e),this.addTilePositions(e.getNextTilePos(),e),this.addPositionChangeSub(e),this.addPositionChangeFinishedSub(e),this.addTilePosSetSub(e)}removeCharacter(e){let t=e.getId();this.charRemoved$.next(t),this.deleteTilePositions(e.getTilePos(),e),this.deleteTilePositions(e.getNextTilePos(),e)}add(e,t){this.tilePosToCharacters.has(e)||this.tilePosToCharacters.set(e,new Set),this.tilePosToCharacters.get(e)?.add(t)}addTilePosSetSub(e){e.tilePositionSet().pipe((0,St.takeUntil)(this.charRemoved(e.getId()))).subscribe(t=>{this.deleteTilePositions(e.getNextTilePos(),e),this.addTilePositions(t,e)})}charRemoved(e){return this.charRemoved$?.pipe((0,St.take)(1),(0,St.filter)(t=>t==e))}addPositionChangeSub(e){e.positionChangeStarted().pipe((0,St.takeUntil)(this.charRemoved(e.getId())),this.posChangeToLayerPos()).subscribe(t=>{this.collistionStrategy==="BLOCK_ONE_TILE_AHEAD"&&this.deleteTilePositions(t.exit,e),this.addTilePositions(t.enter,e)})}addPositionChangeFinishedSub(e){e.positionChangeFinished().pipe((0,St.takeUntil)(this.charRemoved(e.getId())),this.posChangeToLayerPos()).subscribe(t=>{this.deleteTilePositions(t.exit,e),this.addTilePositions(t.enter,e)})}addTilePositions(e,t){this.forEachCharTile(e,t,(i,n)=>{this.add(this.posToString(new k(i,n),e.layer),t)})}deleteTilePositions(e,t){this.forEachCharTile(e,t,(i,n)=>{this.tilePosToCharacters.get(this.posToString(new k(i,n),e.layer))?.delete(t)})}forEachCharTile(e,t,i){let n=e.position;for(let s=n.x;s<n.x+t.getTileWidth();s++)for(let c=n.y;c<n.y+t.getTileHeight();c++)i(s,c)}posChangeToLayerPos(){return(0,St.pipe)((0,St.map)(e=>({enter:{position:new k(e.enterTile),layer:e.enterLayer},exit:{position:new k(e.exitTile),layer:e.exitLayer}})))}posToString(e,t){return`${e.x}#${e.y}#${t}`}};var ki=class{constructor(e,t,i,n){this.x=e;this.y=t;this.width=i;this.height=n}getX(){return this.x}getY(){return this.y}getWidth(){return this.width}getHeight(){return this.height}isInRange(e){return e.x>=this.x&&e.x<this.x+this.width&&e.y>=this.y&&e.y<this.y+this.height}};var Fa="ge_charLayer";var Fw=0,P5=1,dm={none:1,left:2,"up-left":3,up:4,"up-right":5,right:6,"down-right":7,down:8,"down-left":9},xf=class{constructor(e,t){this.tilemap=e;this.gridTilemap=t;this.tileCollisionCache=new Map}fixLayer(e){this.fixedLayer=this.tileCollisionCache.get(e)}unfixLayers(){this.fixedLayer=void 0}rebuild(e){e||(e=new ki(0,0,this.tilemap.getWidth(),this.tilemap.getHeight()));let t=this.tilemap.getLayers().filter(i=>i.isCharLayer());for(let i of[...t,void 0]){let n=this.tileCollisionCache.get(i?.getName());if(n===void 0){n=new Array(this.tilemap.getWidth());for(let s=0;s<this.tilemap.getWidth();s++)n[s]=new Array(this.tilemap.getHeight());this.tileCollisionCache.set(i?.getName(),n)}for(let s=e.getY();s<e.getY()+e.getHeight();s++)for(let c=e.getX();c<e.getX()+e.getWidth();c++){let l=0;!this.gridTilemap.hasNoTileUncached(new k(c,s),i?.getName())&&(l=vm(l,0));for(let v of la())this.gridTilemap.hasBlockingTileUncached(new k(c,s),i?.getName(),v,!0)&&(l=vm(l,dm[v]));this.gridTilemap.hasBlockingTileUncached(new k(c,s),i?.getName(),void 0,!0)&&(l=vm(l,dm[1])),n[c][s]=l}}}hasTileAt(e,t,i){let s=(this.fixedLayer||this.tileCollisionCache.get(i))?.[e]?.[t];if(s!==void 0)return Mf(s,Fw)}isBlockingFrom(e,t,i,n,s){let l=(this.fixedLayer||this.tileCollisionCache.get(i))?.[e]?.[t];if(l!==void 0)return!s&&!Mf(l,Fw)?!0:n===void 0?Mf(l,P5):Mf(l,dm[n])}};function vm(r,e){return r|1<<e}function Mf(r,e){return(r>>e&1)==1}var Dw="ge_cost",Lf=class r{constructor(e,t,i,n=void 0,s=!1){this.tilemap=e;this.collisionTilePropertyName=t;this.useTileCollisionCache=s;this.characters=new Map;this.transitions=new Map;this.reverseTransitions=new Map;this.collidesPropNames=new Map;this.tileCostPropNames=new Map;this.collisionRelevantLayersFrameCache=new Map;this.charBlockCache=new qf(i,n);for(let c of la())this.collidesPropNames.set(c,r.ONE_WAY_COLLIDE_PROP_PREFIX+c),this.tileCostPropNames.set(c,`${Dw}_${c}`);this.useTileCollisionCache&&(this.tileCollisionCache=new xf(e,this),this.tileCollisionCache.rebuild())}static{this.ONE_WAY_COLLIDE_PROP_PREFIX="ge_collide_"}fixCacheLayer(e){this.tileCollisionCache?.fixLayer(e)}unfixCacheLayers(){this.tileCollisionCache?.unfixLayers()}addCharacter(e){this.characters.set(e.getId(),e),e.getNextTilePos().layer===void 0&&e.setTilePosition({...e.getNextTilePos(),layer:this.getLowestCharLayer()}),this.charBlockCache.addCharacter(e)}removeCharacter(e){let t=this.characters.get(e);t&&(this.charBlockCache.removeCharacter(t),this.characters.delete(e))}getCharacters(){return[...this.characters.values()]}getCharactersAt(e,t){return this.charBlockCache.getCharactersAt(e,t)}rebuildTileCollisionCache(e){this.tileCollisionCache?.rebuild(e)}hasBlockingTileUncached(e,t,i,n){if(!n&&this.hasNoTileUncached(e,t))return!0;let s=this.getCollisionRelevantLayers(t);for(let c of s)if(this.isLayerBlockingAt(c.getName(),e,i))return!0;return!1}hasBlockingTile(e,t,i,n){let s=this.tileCollisionCache?.isBlockingFrom(e.x,e.y,t,i,n);return s!==void 0?s:this.hasBlockingTileUncached(e,t,i,n)}getTransition(e,t){let i=this.transitions.get(e.toString());if(i)return i.get(t)}getReverseTransitions(e,t){let i=this.reverseTransitions.get(e.toString());if(i)return i.get(t)}setTransition(e,t,i){this.transitions.has(e.toString())||this.transitions.set(e.toString(),new Map),this.reverseTransitions.has(e.toString())||this.reverseTransitions.set(e.toString(),new Map),this.transitions.get(e.toString())?.set(t,i),this.reverseTransitions.get(e.toString())?.has(i)||this.reverseTransitions.get(e.toString())?.set(i,new Set),this.reverseTransitions.get(e.toString())?.get(i)?.add(t)}getTransitions(){return new Map([...this.transitions].map(([e,t])=>[e,new Map(t)]))}getTileCosts(e,t){let i=this.getCollisionRelevantLayers(e.layer),n=1;for(let s of i)n=Math.max(n,this.getTileCostsForLayer({...e,layer:s.getName()},t));return n}getTileCostsForLayer(e,t){let i=this.tilemap.getTileAt(e.position.x,e.position.y,e.layer);return t&&i?.getProperty(this.tileCostPropNames.get(t)||"")||i?.getProperty(Dw)||1}hasNoTileUncached(e,t){return!this.getCollisionRelevantLayers(t).some(n=>this.tilemap.hasTileAt(e.x,e.y,n.getName()))}hasNoTile(e,t){let i=this.tileCollisionCache?.hasTileAt(e.x,e.y,t);return i!==void 0?i:this.hasNoTileUncached(e,t)}hasBlockingChar(e,t,i,n=new Set,s=new Set){return this.charBlockCache.isCharBlockingAt(e,t,i,n,s)}isInRange(e){return new ki(0,0,this.tilemap.getWidth(),this.tilemap.getHeight()).isInRange(e)}toMapDirection(e){return this.isIsometric()?rb(e):e}fromMapDirection(e){return this.isIsometric()?Is(e):e}isIsometric(){return this.tilemap.getOrientation()==="isometric"}getTilePosInDirection(e,t){let i=e.position.add(Xt(this.toMapDirection(t))),n=this.getTransition(i,e.layer)||e.layer;return{position:i,layer:n}}invalidateFrameCache(){this.collisionRelevantLayersFrameCache.clear()}isLayerBlockingAt(e,t,i){let n=this.tilemap.getTileAt(t.x,t.y,e);return n?!!(n.getProperty(this.collisionTilePropertyName)||i&&n.getProperty(this.collidesPropNames.get(i)||"")):!1}getCharLayerIndexes(){return this.tilemap.getLayers().map((e,t)=>({layer:e,index:t})).filter(({layer:e})=>e.isCharLayer()).map(({index:e})=>e)}findPrevAndCharLayer(e){let t=this.getCharLayerIndexes(),i=this.tilemap.getLayers(),n=t.findIndex(s=>i[s].getProperty(Fa)==e);return n==0?{prevIndex:-1,charLayerIndex:t[n]}:{prevIndex:t[n-1],charLayerIndex:t[n]}}getCollisionRelevantLayers(e){if(!e)return this.tilemap.getLayers();let t=this.collisionRelevantLayersFrameCache.get(e);if(t)return t;let{prevIndex:i,charLayerIndex:n}=this.findPrevAndCharLayer(e),s=this.tilemap.getLayers().slice(i+1,n+1);return this.collisionRelevantLayersFrameCache.set(e,s),s}getLowestCharLayer(){for(let e of this.tilemap.getLayers())if(e.isCharLayer())return e.getProperty(Fa)}};var jf=(t=>(t.REMOVED="REMOVED",t.ADDED="ADDED",t))(jf||{});var kw=gt(Mi(),1),Ff=gt(_o(),1);var mm=(i=>(i.WAIT="WAIT",i.SKIP="SKIP",i.STOP="STOP",i))(mm||{}),If=class{constructor(e,t){this.character=e;this.tilemap=t;this.queue=new $r;this.finished$=new kw.Subject;this.pathBlockedWaitElapsed=0;this.distanceUtils=ct.create(e.getNumberOfDirections()),this.character.autoMovementSet().pipe((0,Ff.filter)(i=>i!==this),(0,Ff.take)(1)).subscribe(()=>{this.queue.size()>0&&this.finishMovementTerminated(),this.finished$.complete()})}update(e){(!this.character.isMoving()||this.character.willCrossTileBorderThisUpdate(e))&&this.queue.size()>0&&this.moveCharOnPath(e)}getInfo(){return{type:"Queue"}}enqueue(e,t={}){let i={pathBlockedStrategy:t.pathBlockedStrategy??"STOP",pathBlockedWaitTimeoutMs:t?.pathBlockedWaitTimeoutMs||-1,ignoreInvalidPositions:t.ignoreInvalidPositions??!1,skipInvalidPositions:t.skipInvalidPositions??!1};for(let n of e){let s={command:n,config:i};if(ai(n)){this.queue.enqueue(s);continue}let l=this.queue.peekEnd()?.command;if(l||(l=this.character.getNextTilePos()),ai(l)){this.queue.enqueue(s);continue}let h=this.distanceUtils.distance(l.position,n.position)===1;(!t.ignoreInvalidPositions||h)&&this.queue.enqueue(s)}}peekAll(){return this.queue.peekAll()}size(){return this.queue.size()}finished(){return this.finished$}clear(){this.queue.clear()}moveCharOnPath(e){let t=this.queue.peek();if(!t)return;let i=t.command,n=t.config;if(ai(i)&&(i=this.tilemap.getTilePosInDirection(this.character.getNextTilePos(),i)),n.skipInvalidPositions){if(i=this.getNextValidPosition(),!i){this.finishInvalidNextPos(i);return}}else if(!this.isNeighborPos(i)){this.finishInvalidNextPos(i);return}if(this.character.isBlockingDirection(rt(this.character.getNextTilePos().position,i.position))){if(n.pathBlockedStrategy==="STOP")this.finishPathBlocked(i);else if(n.pathBlockedStrategy==="SKIP"){this.queue.dequeue(),this.moveCharOnPath(e);return}else n.pathBlockedStrategy==="WAIT"&&n.pathBlockedWaitTimeoutMs>-1&&(this.pathBlockedWaitElapsed+=e,this.pathBlockedWaitElapsed>=n.pathBlockedWaitTimeoutMs&&this.finishBlockedWaitTimeout(i,n.pathBlockedWaitTimeoutMs));return}this.pathBlockedWaitElapsed=0,this.queue.dequeue(),this.character.move(this.getDir(this.character.getNextTilePos().position,i.position)),this.isLastMovement()&&this.finish("SUCCESS","",i)}getNextValidPosition(){for(;this.queue.size()>0;){let e=this.queue.peek()?.command;if(ai(e)&&(e=this.tilemap.getTilePosInDirection(this.character.getNextTilePos(),e)),e&&this.isNeighborPos(e))return e;this.queue.dequeue()}}isLastMovement(){return this.queue.size()===0}isNeighborPos(e){let t=this.distanceUtils.distance(this.character.getNextTilePos().position,e.position)===1,i=this.tilemap.getTransition(e.position,this.character.getNextTilePos().layer);if(this.character.getNextTilePos().layer!==e.layer)return t&&i===e.layer;let n=i!==void 0&&i!==e.layer;return t&&!n}finishMovementTerminated(){this.finish("MOVEMENT_TERMINATED","New automatic movement has been set to character.")}finishInvalidNextPos(e){e?this.finish("INVALID_NEXT_POS",`Position ${this.posToStr(e)} is not reachable from ${this.posToStr(this.character.getNextTilePos())}.`):this.finish("INVALID_NEXT_POS",`No enqueued position is reachable from ${this.posToStr(this.character.getNextTilePos())}.`)}finishPathBlocked(e){this.finish("PATH_BLOCKED",`Position ${this.posToStr(e)} is blocked.`)}finishBlockedWaitTimeout(e,t){this.finish("PATH_BLOCKED_WAIT_TIMEOUT",`Position ${this.posToStr(e)} is blocked and the wait timeout of ${t} ms has been exceeded.`)}finish(e,t="",i=this.character.getNextTilePos()){this.queue=new $r,this.finished$.next({position:i.position,result:e,description:t,layer:i.layer})}getDir(e,t){return this.tilemap.fromMapDirection(rt(e,t))}posToStr(e){return`(${e.position.x}, ${e.position.y}, ${e.layer})`}};var Da=class{constructor(e=!0){this.isCreatedInternal=!1;e&&console.log(`Using GridEngine v${Ef}`)}getCharLayer(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getTilePos().layer}getTransition(e,t){return this.initGuard(),this.gridTilemap?.getTransition(new k(e),t)}setTransition(e,t,i){return this.initGuard(),this.gridTilemap?.setTransition(new k(e),t,i)}create(e,t){this.isCreatedInternal=!0,this.gridCharacters=new Map;let i=this.setConfigDefaults(t);this.config=i,this.movementStopped$=new or.Subject,this.movementStarted$=new or.Subject,this.directionChanged$=new or.Subject,this.positionChangeStarted$=new or.Subject,this.positionChangeFinished$=new or.Subject,this.queueMovementFinished$=new or.Subject,this.charRemoved$=new or.Subject,this.charAdded$=new or.Subject,this.gridTilemap=new Lf(e,this.config.collisionTilePropertyName,this.config.characterCollisionStrategy,this.recordToMap(this.config.collisionGroupRelation),this.config.cacheTileCollisions),this.addCharacters()}recordToMap(e){return e?new Map(Object.entries(e).map(([i,n])=>[i,new Set(n)])):void 0}getPosition(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getTilePos().position}move(e,t){this.moveChar(e,t)}moveRandomly(e,t=0,i=-1){this.initGuard();let n=this.gridCharacters?.get(e);if(!n)throw this.createCharUnknownErr(e);let s=new Af(n,t,i);n.setMovement(s)}getMovement(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);let i=t.getMovement();return i?i.getInfo():{type:"None"}}moveTo(e,t,i){let n=this.assembleMoveToConfig(i);this.initGuard();let s=this.gridCharacters?.get(e);if(!s)throw this.createCharUnknownErr(e);if(!this.gridTilemap)throw this.createUninitializedErr();let c=new Io(s,this.gridTilemap,{position:new k(t),layer:i?.targetLayer||s.getNextTilePos().layer},{distance:0,config:n});return s.setMovement(c),c.finishedObs().pipe((0,$e.map)(l=>({charId:e,position:l.position,result:l.result,description:l.description,layer:l.layer})))}stopMovement(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);t.setMovement(void 0)}setSpeed(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);i.setSpeed(t)}getSpeed(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getSpeed()}collidesWithTiles(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.collidesWithTiles()}update(e,t){if(this.isCreatedInternal&&this.gridCharacters)for(let[i,n]of this.gridCharacters)n.update(t);this.gridTilemap?.invalidateFrameCache()}addCharacter(e){if(!this.gridTilemap)throw this.createUninitializedErr();if(!this.config)throw this.createUninitializedErr();let t={speed:e.speed||4,tilemap:this.gridTilemap,collidesWithTiles:!0,collisionGroups:["geDefault"],ignoreCollisionGroups:[],charLayer:e.charLayer,facingDirection:e.facingDirection,labels:e.labels,numberOfDirections:e.numberOfDirections??this.config.numberOfDirections,tileWidth:e.tileWidth,tileHeight:e.tileHeight};typeof e.collides=="boolean"?e.collides===!1&&(t.collidesWithTiles=!1,t.collisionGroups=[]):e.collides!==void 0&&(e.collides.collidesWithTiles===!1&&(t.collidesWithTiles=!1),e.collides.collisionGroups&&(t.collisionGroups=e.collides.collisionGroups),e.collides.ignoreCollisionGroups&&(t.ignoreCollisionGroups=e.collides.ignoreCollisionGroups),t.ignoreMissingTiles=e.collides?.ignoreMissingTiles??!1);let i=new nf(e.id,t);e.startPosition&&i.setTilePosition({position:new k(e.startPosition),layer:i.getTilePos().layer}),this.gridCharacters?.set(e.id,i),this.gridTilemap.addCharacter(i);let n=i.getId();i.movementStopped().pipe((0,$e.takeUntil)(this.charRemoved(n))).subscribe(s=>{this.movementStopped$?.next({charId:n,direction:s})}),i.movementStarted().pipe((0,$e.takeUntil)(this.charRemoved(n))).subscribe(s=>{this.movementStarted$?.next({charId:n,direction:s})}),i.directionChanged().pipe((0,$e.takeUntil)(this.charRemoved(n))).subscribe(s=>{this.directionChanged$?.next({charId:n,direction:s})}),i.positionChangeStarted().pipe((0,$e.takeUntil)(this.charRemoved(n))).subscribe(s=>{this.positionChangeStarted$?.next({charId:n,...s})}),i.positionChangeFinished().pipe((0,$e.takeUntil)(this.charRemoved(n))).subscribe(s=>{this.positionChangeFinished$?.next({charId:n,...s})}),this.charAdded$?.next(n)}hasCharacter(e){return this.initGuard(),!!this.gridCharacters?.has(e)}removeCharacter(e){if(this.initGuard(),!this.gridCharacters?.get(e))throw this.createCharUnknownErr(e);this.gridTilemap?.removeCharacter(e),this.gridCharacters?.delete(e),this.charRemoved$?.next(e)}removeAllCharacters(){if(this.initGuard(),!!this.gridCharacters)for(let e of this.gridCharacters.keys())this.removeCharacter(e)}getAllCharacters(e){if(this.initGuard(),!this.gridCharacters)return[];let t=[...this.gridCharacters.values()];return(e?Iw(t,e):t).map(n=>n.getId())}getLabels(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getLabels()}addLabels(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);i.addLabels(t)}removeLabels(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);i.removeLabels(t)}clearLabels(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);t.clearLabels()}follow(e,t,i,n){let s;i===void 0?s={distance:0,closestPointIfBlocked:!1}:typeof i=="number"?(s={distance:i,closestPointIfBlocked:!1},n&&(s.closestPointIfBlocked=!0)):s=i,this.initGuard();let c=this.gridCharacters?.get(e),l=this.gridCharacters?.get(t);if(!c)throw this.createCharUnknownErr(e);if(!l)throw this.createCharUnknownErr(t);if(!this.gridTilemap)throw this.createUninitializedErr();let h=new Cf(c,this.gridTilemap,l,{distance:s.distance,noPathFoundStrategy:s.closestPointIfBlocked?"CLOSEST_REACHABLE":"STOP",maxPathLength:s.maxPathLength??1/0,shortestPathAlgorithm:s.algorithm??"BIDIRECTIONAL_SEARCH",ignoreLayers:!!s.ignoreLayers});c.setMovement(h)}isMoving(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.isMoving()}getFacingDirection(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getFacingDirection()}getFacingPosition(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);let i=t.getFacingPosition();return{x:i.x,y:i.y}}turnTowards(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);return i.turnTowards(t)}getCharactersAt(e,t){if(this.initGuard(),!this.gridTilemap)return[];let i=this.gridTilemap.getCharactersAt(new k(e),t);return Array.from(i).map(n=>n.getId())}setPosition(e,t,i){this.initGuard();let n=this.gridCharacters?.get(e);if(!n)throw this.createCharUnknownErr(e);i||n.setTilePosition({position:new k(t),layer:n.getTilePos().layer}),n.setTilePosition({position:new k(t),layer:i})}isBlocked(e,t,i=["geDefault"]){this.initGuard();let n=new k(e);return!!(this.gridTilemap?.hasBlockingTile(n,t)||this.gridTilemap?.hasBlockingChar(n,t,i))}isTileBlocked(e,t){return this.initGuard(),!!this.gridTilemap?.hasBlockingTile(new k(e),t)}getCollisionGroups(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getCollisionGroups()||[]}setCollisionGroups(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);i.setCollisionGroups(t)}getIgnoreCollisionGroups(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getIgnoreCollisionGroups()||[]}setIgnoreCollisionGroups(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);i.setIgnoreCollisionGroups(t)}getTilePosInDirection(e,t,i){if(!this.gridTilemap)throw this.createUninitializedErr();let n=this.gridTilemap.getTilePosInDirection({position:new k(e),layer:t},i);return{position:n.position.toPosition(),charLayer:n.layer}}findShortestPath(e,t,i={}){if(!this.gridTilemap)throw this.createUninitializedErr();let n=i.shortestPathAlgorithm||"BFS";i.considerCosts&&n!=="A_STAR"&&console.warn(`GridEngine: Pathfinding option 'considerCosts' cannot be used with algorithm '${n}'. It can only be used with A* algorithm.`);let c=new Do(this.gridTilemap).findShortestPath(G.toInternal(e),G.toInternal(t),{...i,shortestPathAlgorithm:n});return{path:c.path.map(G.fromInternal),closestToTarget:c.closestToTarget?G.fromInternal(c.closestToTarget):void 0,reachedMaxPathLength:!1,steps:c.steps}}steppedOn(e,t,i){return this.positionChangeFinished().pipe((0,$e.filter)(n=>e.includes(n.charId)&&t.some(s=>s.x===n.enterTile.x&&s.y===n.enterTile.y)&&(i===void 0||i.includes(n.enterLayer))))}characterShifted(){if(!this.charAdded$||!this.charRemoved$)throw this.createUninitializedErr();return this.charAdded$.pipe((0,$e.map)(e=>({charId:e,action:"ADDED"})),(0,$e.mergeWith)(this.charRemoved$.pipe((0,$e.map)(e=>({charId:e,action:"REMOVED"})))))}movementStarted(){if(!this.movementStarted$)throw this.createUninitializedErr();return this.movementStarted$}movementStopped(){if(!this.movementStopped$)throw this.createUninitializedErr();return this.movementStopped$}directionChanged(){if(!this.directionChanged$)throw this.createUninitializedErr();return this.directionChanged$}positionChangeStarted(){if(!this.positionChangeStarted$)throw this.createUninitializedErr();return this.positionChangeStarted$}positionChangeFinished(){if(!this.positionChangeFinished$)throw this.createUninitializedErr();return this.positionChangeFinished$}getMovementProgress(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getMovementProgress()}rebuildTileCollisionCache(e,t,i,n){this.gridTilemap?.rebuildTileCollisionCache(new ki(e,t,i,n))}addQueueMovements(e,t,i){this.initGuard();let n=this.gridCharacters?.get(e);if(!n)throw this.createCharUnknownErr(e);if(!this.gridTilemap)throw this.createUninitializedErr();let s;n?.getMovement()?.getInfo().type==="Queue"?s=n.getMovement():(s=new If(n,this.gridTilemap),n.setMovement(s),s.finished().pipe((0,$e.takeUntil)((0,or.merge)(this.charRemoved(e),n.autoMovementSet()))).subscribe(c=>{this.queueMovementFinished$?.next({charId:e,...c})})),s.enqueue(t.map(c=>ai(c)?c:{position:new k(c.position),layer:c.charLayer}),i)}queueMovementFinished(){if(!this.queueMovementFinished$)throw this.createUninitializedErr();return this.queueMovementFinished$}getEnqueuedMovements(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getMovement()?.getInfo().type==="Queue"?t.getMovement().peekAll().map(n=>({command:ai(n.command)?n.command:G.fromInternal(n.command),config:n.config})):[]}clearEnqueuedMovements(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);t.getMovement()?.getInfo().type==="Queue"&&t.getMovement().clear()}getTileCost(e,t,i){return this.initGuard(),this.gridTilemap?.getTileCosts({position:new k(e),layer:t},i)??1}getState(){let e=[];if(this.gridCharacters)for(let[t,i]of this.gridCharacters.entries())e.push({id:t,position:G.fromInternal(i.getTilePos()),facingDirection:i.getFacingDirection(),speed:i.getSpeed(),labels:i.getLabels(),movementProgress:i.getMovementProgress(),collisionConfig:{collisionGroups:i.getCollisionGroups(),ignoreCollisionGroups:i.getIgnoreCollisionGroups(),collidesWithTiles:i.collidesWithTiles(),ignoreMissingTiles:i.getIgnoreMissingTiles()}});return{characters:e}}setState(e){if(this.gridCharacters)for(let t of e.characters){let i=this.gridCharacters.get(t.id);if(i){let n=i.getTilePos();G.equal(n,G.toInternal(t.position))||i.setTilePosition(G.toInternal(t.position)),i.setSpeed(t.speed),i.turnTowards(t.facingDirection),t.collisionConfig.collisionGroups&&i.setCollisionGroups(t.collisionConfig.collisionGroups),t.collisionConfig.collidesWithTiles!==void 0&&i.setCollidesWithTiles(t.collisionConfig.collidesWithTiles),t.collisionConfig.ignoreMissingTiles!==void 0&&i.setIgnoreMissingTiles(t.collisionConfig.ignoreMissingTiles),i.setMovementProgress(t.movementProgress),i.clearLabels(),i.addLabels(t.labels)}}}charRemoved(e){if(!this.charRemoved$)throw this.createUninitializedErr();return this.charRemoved$?.pipe((0,$e.take)(1),(0,$e.filter)(t=>t==e))}initGuard(){if(!this.isCreatedInternal)throw this.createUninitializedErr()}createUninitializedErr(){throw new Error("GridEngine not initialized. You need to call create() first.")}addCharacters(){this.config?.characters.forEach(e=>this.addCharacter(e))}moveChar(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);if(i.getNumberOfDirections()===4){if(!this.gridTilemap?.isIsometric()&&qn(t)){console.warn(`GridEngine: Character '${e}' can't be moved '${t}' in 4 direction mode.`);return}else if(this.gridTilemap?.isIsometric()&&!qn(t)){console.warn(`GridEngine: Character '${e}' can't be moved '${t}' in 4 direction isometric mode.`);return}}i.move(t)}createCharUnknownErr(e){return new Error(`Character unknown: ${e}`)}assembleMoveToConfig(e={}){let t={...e,noPathFoundStrategy:"STOP",pathBlockedStrategy:"WAIT"};return e?.noPathFoundStrategy&&(Object.values(un).includes(e.noPathFoundStrategy)?t.noPathFoundStrategy=e.noPathFoundStrategy:console.warn(`GridEngine: Unknown NoPathFoundStrategy '${e.noPathFoundStrategy}'. Falling back to 'STOP'`)),e?.pathBlockedStrategy&&(Object.values(Po).includes(e.pathBlockedStrategy)?t.pathBlockedStrategy=e.pathBlockedStrategy:console.warn(`GridEngine: Unknown PathBlockedStrategy '${e.pathBlockedStrategy}'. Falling back to 'WAIT'`)),t}setConfigDefaults(e){return{collisionTilePropertyName:"ge_collide",numberOfDirections:4,characterCollisionStrategy:"BLOCK_TWO_TILES",cacheTileCollisions:!1,...e}}};var kf=class extends Lo{constructor(e,t={}){super(e,t),this.distanceUtils=ct.create(8)}getForced(e,t){let i=[],n=this.posInDir(t,this.distanceUtils.direction(t.position,e.position)),{topLeft:s,downLeft:c,top:l,bottom:h,topRight:p,downRight:v}=this.normalizedPositions(n,t),b=this.distanceUtils.direction(e.position,t.position),w=(T,E)=>this.isBlocking(T,E)||this.getTransition(E.position,E.layer)!==void 0;return qn(b)?(w(e,s)&&!this.isBlocking(t,l)&&i.push(l),w(e,s)&&(w(e,c)||w(c,s))&&!this.isBlocking(t,s)&&i.push(s),w(e,c)&&!this.isBlocking(t,h)&&i.push(h),w(e,c)&&(w(e,s)||w(s,c))&&!this.isBlocking(t,c)&&i.push(c)):(w(e,l)&&(w(e,s)||w(s,l))&&(this.isBlocking(t,s)||i.push(s),this.isBlocking(t,l)||i.push(l)),w(e,l)&&(w(e,s)||w(s,l)||w(l,p))&&!this.isBlocking(t,p)&&i.push(p),w(e,h)&&(w(e,c)||w(c,l))&&(this.isBlocking(t,c)||i.push(c),this.isBlocking(t,h)||i.push(h)),w(e,h)&&(w(e,c)||w(s,h)||w(l,v))&&!this.isBlocking(t,v)&&i.push(v)),i}prune(e,t){let{right:i,topRight:n,downRight:s}=this.normalizedPositions(e,t),c=this.getForced(e,t),l=rt(e.position,t.position);return qn(l)?[i,n,s,...c]:[i,...c]}jump(e,t,i,n){let s=this.distanceUtils.direction(e.position,t.position);if(!(this.isBlocking(e,t)&&!(G.equal(t,i)&&this.options.ignoreBlockedTarget))){if(G.equal(t,i))return{p:t,dist:n};if(n>=this.maxJumpSize)return{p:t,dist:n};if(this.getTransition(t.position,e.layer)!==void 0)return{p:t,dist:n};if(this.getForced(e,t).length>0)return{p:t,dist:n};if(this.updateClosestToTarget(t,i),s==="up-left"){if(this.jump(t,this.getTilePosInDir(t,"up"),i,n+1)!==void 0)return{p:t,dist:n};if(this.jump(t,this.getTilePosInDir(t,"left"),i,n+1)!==void 0)return{p:t,dist:n}}else if(s==="down-left"){if(this.jump(t,this.getTilePosInDir(t,"down"),i,n+1)!==void 0)return{p:t,dist:n};if(this.jump(t,this.getTilePosInDir(t,"left"),i,n+1)!==void 0)return{p:t,dist:n}}else if(s==="up-right"){if(this.jump(t,this.getTilePosInDir(t,"up"),i,n+1)!==void 0)return{p:t,dist:n};if(this.jump(t,this.getTilePosInDir(t,"right"),i,n+1)!==void 0)return{p:t,dist:n}}else if(s==="down-right"){if(this.jump(t,this.getTilePosInDir(t,"down"),i,n+1)!==void 0)return{p:t,dist:n};if(this.jump(t,this.getTilePosInDir(t,"right"),i,n+1)!==void 0)return{p:t,dist:n}}return this.jump(t,this.getTilePosInDir(t,rt(e.position,t.position)),i,n+1)}}};var Do=class{constructor(e){this.gridTilemap=e}findShortestPath(e,t,i={}){return w5(i.shortestPathAlgorithm||"BIDIRECTIONAL_SEARCH",this.gridTilemap,i).findShortestPath(e,t)}};function w5(r,e,t){switch(r){case"BIDIRECTIONAL_SEARCH":return new vf(e,t);case"A_STAR":return new hf(e,t);case"JPS":return t.numberOfDirections===8?new kf(e,t):new Lo(e,t)}return new wo(e,t)}var Df=(h=>(h.SUCCESS="SUCCESS",h.NO_PATH_FOUND_MAX_RETRIES_EXCEEDED="NO_PATH_FOUND_MAX_RETRIES_EXCEEDED",h.PATH_BLOCKED_MAX_RETRIES_EXCEEDED="PATH_BLOCKED_MAX_RETRIES_EXCEEDED",h.PATH_BLOCKED="PATH_BLOCKED",h.NO_PATH_FOUND="NO_PATH_FOUND",h.PATH_BLOCKED_WAIT_TIMEOUT="PATH_BLOCKED_WAIT_TIMEOUT",h.MOVEMENT_TERMINATED="MOVEMENT_TERMINATED",h.MAX_PATH_LENGTH_REACHED="MAX_PATH_LENGTH_REACHED",h))(Df||{}),Io=class{constructor(e,t,i,{config:n,ignoreBlockedTarget:s=!1,distance:c=0}={}){this.character=e;this.tilemap=t;this.targetPos=i;this.shortestPath=[];this.distOffset=0;this.posOnPath=0;this.stopped=!1;this.pathBlockedWaitElapsed=0;this.isPositionAllowed=()=>!0;this.shortestPathAlgorithm="BIDIRECTIONAL_SEARCH";this.maxPathLength=1/0;this.considerCosts=!1;this.isBlocking=(e,t)=>e?new wo(this.tilemap,this.getPathfindingOptions()).isBlocking(this.character.getTilePos(),{position:e,layer:t}):!0;this.shortestPathAlgorithm=n?.algorithm??this.shortestPathAlgorithm,this.ignoreBlockedTarget=s,this.distance=c,this.noPathFoundStrategy=n?.noPathFoundStrategy||"STOP",this.pathBlockedStrategy=n?.pathBlockedStrategy||"WAIT",this.noPathFoundRetryable=new Ca(n?.noPathFoundRetryBackoffMs||200,n?.noPathFoundMaxRetries||-1,()=>{this.stop("NO_PATH_FOUND_MAX_RETRIES_EXCEEDED")}),this.pathBlockedRetryable=new Ca(n?.pathBlockedRetryBackoffMs||200,n?.pathBlockedMaxRetries||-1,()=>{this.stop("PATH_BLOCKED_MAX_RETRIES_EXCEEDED")}),n?.isPositionAllowedFn&&(this.isPositionAllowed=n.isPositionAllowedFn),n?.maxPathLength&&(this.maxPathLength=n.maxPathLength),n?.considerCosts&&this.shortestPathAlgorithm!=="A_STAR"&&console.warn(`GridEngine: Pathfinding option 'considerCosts' cannot be used with algorithm '${this.shortestPathAlgorithm}'. It can only be used with A* algorithm.`),this.considerCosts=n?.considerCosts||!1,this.ignoreLayers=!!n?.ignoreLayers,this.distanceUtils=ct.create(e.getNumberOfDirections()),this.pathBlockedWaitTimeoutMs=n?.pathBlockedWaitTimeoutMs||-1,this.finished$=new ko.Subject,this.setCharacter(e)}setPathBlockedStrategy(e){this.pathBlockedStrategy=e}getPathBlockedStrategy(){return this.pathBlockedStrategy}setCharacter(e){this.character=e,this.noPathFoundRetryable.reset(),this.pathBlockedRetryable.reset(),this.pathBlockedWaitElapsed=0,this.calcShortestPath(),this.character.autoMovementSet().pipe((0,ko.filter)(t=>t!==this),(0,ko.take)(1)).subscribe(()=>{this.stop("MOVEMENT_TERMINATED")})}getPathfindingOptions(){return{shortestPathAlgorithm:this.shortestPathAlgorithm,pathWidth:this.character.getTileWidth(),pathHeight:this.character.getTileHeight(),numberOfDirections:this.character.getNumberOfDirections(),isPositionAllowed:this.isPositionAllowed,collisionGroups:this.character.getCollisionGroups(),ignoredChars:[this.character.getId()],ignoreTiles:!this.character.collidesWithTiles(),ignoreMapBounds:this.character.getIgnoreMissingTiles(),ignoreBlockedTarget:this.ignoreBlockedTarget,maxPathLength:this.maxPathLength,ignoreLayers:this.ignoreLayers,considerCosts:this.considerCosts,calculateClosestToTarget:!0}}update(e){this.stopped||(this.noPathFound()&&(this.noPathFoundStrategy==="RETRY"?this.noPathFoundRetryable.retry(e,()=>this.calcShortestPath()):this.noPathFoundStrategy==="STOP"&&this.stop("NO_PATH_FOUND")),this.updatePosOnPath(),this.isBlocking(this.nextTileOnPath()?.position,this.character?.getNextTilePos().layer)?this.applyPathBlockedStrategy(e):this.pathBlockedWaitElapsed=0,this.hasArrived()?(this.stop("SUCCESS"),this.existsDistToTarget()&&this.turnTowardsTarget()):this.isBlocking(this.nextTileOnPath()?.position,this.character?.getNextTilePos().layer)||this.moveCharOnPath())}finishedObs(){return this.finished$}getInfo(){return{type:"Target",state:{pathAhead:this.shortestPath.slice(this.posOnPath).map(e=>G.fromInternal(e))},config:{algorithm:this.shortestPathAlgorithm,ignoreBlockedTarget:this.ignoreBlockedTarget,distance:this.distance,targetPos:G.fromInternal(this.targetPos),noPathFoundStrategy:this.noPathFoundStrategy,pathBlockedStrategy:this.pathBlockedStrategy,noPathFoundRetryBackoffMs:this.noPathFoundRetryable.getBackoffMs(),noPathFoundMaxRetries:this.noPathFoundRetryable.getMaxRetries()}}}resultToReason(e){switch(e){case"SUCCESS":return"Successfully arrived.";case"MOVEMENT_TERMINATED":return"Movement of character has been replaced before destination was reached.";case"PATH_BLOCKED":return"PathBlockedStrategy STOP: Path blocked.";case"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED":return`NoPathFoundStrategy RETRY: Maximum retries of ${this.noPathFoundRetryable.getMaxRetries()} exceeded.`;case"NO_PATH_FOUND":return"NoPathFoundStrategy STOP: No path found.";case"PATH_BLOCKED_MAX_RETRIES_EXCEEDED":return`PathBlockedStrategy RETRY: Maximum retries of ${this.pathBlockedRetryable.getMaxRetries()} exceeded.`;case"PATH_BLOCKED_WAIT_TIMEOUT":return`PathBlockedStrategy WAIT: Wait timeout of ${this.pathBlockedWaitTimeoutMs}ms exceeded.`}}applyPathBlockedStrategy(e){this.pathBlockedStrategy==="RETRY"?this.pathBlockedRetryable.retry(e,()=>{let t=this.getShortestPath();t.path.length>0&&this.calcShortestPath(t)}):this.pathBlockedStrategy==="STOP"?this.stop("PATH_BLOCKED"):this.pathBlockedStrategy==="WAIT"&&this.pathBlockedWaitTimeoutMs>-1&&(this.pathBlockedWaitElapsed+=e,this.pathBlockedWaitElapsed>=this.pathBlockedWaitTimeoutMs&&this.stop("PATH_BLOCKED_WAIT_TIMEOUT"))}moveCharOnPath(){let e=this.nextTileOnPath();if(!e)return;let t=this.getDir(this.character.getNextTilePos().position,e.position);this.character.move(t)}nextTileOnPath(){return this.shortestPath[this.posOnPath+1]}stop(e){this.finished$.next({position:this.character.getTilePos().position,result:e,description:this.resultToReason(e),layer:this.character.getTilePos().layer}),this.finished$.complete(),this.stopped=!0}turnTowardsTarget(){let e=this.shortestPath[this.posOnPath+1],t=this.getDir(this.character.getNextTilePos().position,e.position);this.character.turnTowards(t)}existsDistToTarget(){return this.posOnPath<this.shortestPath.length-1}hasArrived(){return!this.noPathFound()&&this.posOnPath+Math.max(0,this.distance-this.distOffset)>=this.shortestPath.length-1}updatePosOnPath(){let e=this.shortestPath[this.posOnPath];for(;this.posOnPath<this.shortestPath.length-1&&(this.character.getNextTilePos().position.x!=e.position.x||this.character.getNextTilePos().position.y!=e.position.y);)this.posOnPath++,e=this.shortestPath[this.posOnPath]}noPathFound(){return this.shortestPath.length===0}calcShortestPath(e){e=e??this.getShortestPath(),this.posOnPath=0,this.shortestPath=e.path,this.distOffset=e.distOffset}getShortestPath(){let e=new Do(this.tilemap),{path:t,closestToTarget:i}=e.findShortestPath(this.character.getNextTilePos(),this.targetPos,this.getPathfindingOptions());if(t.length==0&&this.noPathFoundStrategy==="CLOSEST_REACHABLE"){if(!i)throw Error("ClosestToTarget should never be undefined in TargetMovement.");let s=e.findShortestPath(this.character.getNextTilePos(),i,this.getPathfindingOptions()).path,c=this.distanceUtils.distance(i.position,this.targetPos.position);return{path:s,distOffset:c}}return{path:t,distOffset:0}}getDir(e,t){return this.tilemap.fromMapDirection(this.distanceUtils.direction(e,t))}};var O5=Object.create,zw=Object.defineProperty,S5=Object.getOwnPropertyDescriptor,T5=Object.getOwnPropertyNames,C5=Object.getPrototypeOf,A5=Object.prototype.hasOwnProperty,E5=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),q5=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of T5(e))!A5.call(r,n)&&n!==t&&zw(r,n,{get:()=>e[n],enumerable:!(i=S5(e,n))||i.enumerable});return r},gm=(r,e,t)=>(t=r!=null?O5(C5(r)):{},q5(e||!r||!r.__esModule?zw(t,"default",{value:r,enumerable:!0}):t,r)),bm=E5((r,e)=>{(function(){var t,i="4.17.21",n=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,v="__lodash_placeholder__",b=1,w=2,T=4,E=1,M=2,L=1,D=2,N=4,Y=8,ie=16,pe=32,Fe=64,pt=128,Vo=256,Nf=512,Uw=30,Gw="...",Bw=800,Hw=16,wm=1,$w=2,Yw=3,zi=1/0,Qr=9007199254740991,Qw=17976931348623157e292,Na=0/0,ar=4294967295,Kw=ar-1,Xw=ar>>>1,Jw=[["ary",pt],["bind",L],["bindKey",D],["curry",Y],["curryRight",ie],["flip",Nf],["partial",pe],["partialRight",Fe],["rearg",Vo]],dn="[object Arguments]",Va="[object Array]",Zw="[object AsyncFunction]",Wo="[object Boolean]",Uo="[object Date]",eO="[object DOMException]",Wa="[object Error]",Ua="[object Function]",Om="[object GeneratorFunction]",Bt="[object Map]",Go="[object Number]",tO="[object Null]",qr="[object Object]",Sm="[object Promise]",rO="[object Proxy]",Bo="[object RegExp]",Ht="[object Set]",Ho="[object String]",Ga="[object Symbol]",iO="[object Undefined]",$o="[object WeakMap]",nO="[object WeakSet]",Yo="[object ArrayBuffer]",vn="[object DataView]",Vf="[object Float32Array]",Wf="[object Float64Array]",Uf="[object Int8Array]",Gf="[object Int16Array]",Bf="[object Int32Array]",Hf="[object Uint8Array]",$f="[object Uint8ClampedArray]",Yf="[object Uint16Array]",Qf="[object Uint32Array]",oO=/\b__p \+= '';/g,aO=/\b(__p \+=) '' \+/g,sO=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tm=/&(?:amp|lt|gt|quot|#39);/g,Cm=/[&<>"']/g,uO=RegExp(Tm.source),cO=RegExp(Cm.source),lO=/<%-([\s\S]+?)%>/g,fO=/<%([\s\S]+?)%>/g,Am=/<%=([\s\S]+?)%>/g,hO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pO=/^\w*$/,dO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kf=/[\\^$.*+?()[\]{}|]/g,vO=RegExp(Kf.source),Xf=/^\s+/,mO=/\s/,yO=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gO=/\{\n\/\* \[wrapped with (.+)\] \*/,bO=/,? & /,_O=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,PO=/[()=,{}\[\]\/\s]/,wO=/\\(\\)?/g,OO=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Em=/\w*$/,SO=/^[-+]0x[0-9a-f]+$/i,TO=/^0b[01]+$/i,CO=/^\[object .+?Constructor\]$/,AO=/^0o[0-7]+$/i,EO=/^(?:0|[1-9]\d*)$/,qO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ba=/($^)/,MO=/['\n\r\u2028\u2029\\]/g,Ha="\\ud800-\\udfff",xO="\\u0300-\\u036f",LO="\\ufe20-\\ufe2f",jO="\\u20d0-\\u20ff",qm=xO+LO+jO,Mm="\\u2700-\\u27bf",xm="a-z\\xdf-\\xf6\\xf8-\\xff",IO="\\xac\\xb1\\xd7\\xf7",FO="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",DO="\\u2000-\\u206f",kO=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lm="A-Z\\xc0-\\xd6\\xd8-\\xde",jm="\\ufe0e\\ufe0f",Im=IO+FO+DO+kO,Jf="['\u2019]",RO="["+Ha+"]",Fm="["+Im+"]",$a="["+qm+"]",Dm="\\d+",zO="["+Mm+"]",km="["+xm+"]",Rm="[^"+Ha+Im+Dm+Mm+xm+Lm+"]",Zf="\\ud83c[\\udffb-\\udfff]",NO="(?:"+$a+"|"+Zf+")",zm="[^"+Ha+"]",eh="(?:\\ud83c[\\udde6-\\uddff]){2}",th="[\\ud800-\\udbff][\\udc00-\\udfff]",mn="["+Lm+"]",Nm="\\u200d",Vm="(?:"+km+"|"+Rm+")",VO="(?:"+mn+"|"+Rm+")",Wm="(?:"+Jf+"(?:d|ll|m|re|s|t|ve))?",Um="(?:"+Jf+"(?:D|LL|M|RE|S|T|VE))?",Gm=NO+"?",Bm="["+jm+"]?",WO="(?:"+Nm+"(?:"+[zm,eh,th].join("|")+")"+Bm+Gm+")*",UO="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",GO="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hm=Bm+Gm+WO,BO="(?:"+[zO,eh,th].join("|")+")"+Hm,HO="(?:"+[zm+$a+"?",$a,eh,th,RO].join("|")+")",$O=RegExp(Jf,"g"),YO=RegExp($a,"g"),rh=RegExp(Zf+"(?="+Zf+")|"+HO+Hm,"g"),QO=RegExp([mn+"?"+km+"+"+Wm+"(?="+[Fm,mn,"$"].join("|")+")",VO+"+"+Um+"(?="+[Fm,mn+Vm,"$"].join("|")+")",mn+"?"+Vm+"+"+Wm,mn+"+"+Um,GO,UO,Dm,BO].join("|"),"g"),KO=RegExp("["+Nm+Ha+qm+jm+"]"),XO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,JO=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ZO=-1,ye={};ye[Vf]=ye[Wf]=ye[Uf]=ye[Gf]=ye[Bf]=ye[Hf]=ye[$f]=ye[Yf]=ye[Qf]=!0,ye[dn]=ye[Va]=ye[Yo]=ye[Wo]=ye[vn]=ye[Uo]=ye[Wa]=ye[Ua]=ye[Bt]=ye[Go]=ye[qr]=ye[Bo]=ye[Ht]=ye[Ho]=ye[$o]=!1;var ve={};ve[dn]=ve[Va]=ve[Yo]=ve[vn]=ve[Wo]=ve[Uo]=ve[Vf]=ve[Wf]=ve[Uf]=ve[Gf]=ve[Bf]=ve[Bt]=ve[Go]=ve[qr]=ve[Bo]=ve[Ht]=ve[Ho]=ve[Ga]=ve[Hf]=ve[$f]=ve[Yf]=ve[Qf]=!0,ve[Wa]=ve[Ua]=ve[$o]=!1;var eS={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},tS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rS={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},iS={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nS=parseFloat,oS=parseInt,$m=typeof global=="object"&&global&&global.Object===Object&&global,aS=typeof self=="object"&&self&&self.Object===Object&&self,Ve=$m||aS||Function("return this")(),ih=typeof r=="object"&&r&&!r.nodeType&&r,Ni=ih&&typeof e=="object"&&e&&!e.nodeType&&e,Ym=Ni&&Ni.exports===ih,nh=Ym&&$m.process,Ft=function(){try{var C=Ni&&Ni.require&&Ni.require("util").types;return C||nh&&nh.binding&&nh.binding("util")}catch{}}(),Qm=Ft&&Ft.isArrayBuffer,Km=Ft&&Ft.isDate,Xm=Ft&&Ft.isMap,Jm=Ft&&Ft.isRegExp,Zm=Ft&&Ft.isSet,ey=Ft&&Ft.isTypedArray;function Tt(C,x,q){switch(q.length){case 0:return C.call(x);case 1:return C.call(x,q[0]);case 2:return C.call(x,q[0],q[1]);case 3:return C.call(x,q[0],q[1],q[2])}return C.apply(x,q)}function sS(C,x,q,V){for(var Q=-1,se=C==null?0:C.length;++Q<se;){var De=C[Q];x(V,De,q(De),C)}return V}function Dt(C,x){for(var q=-1,V=C==null?0:C.length;++q<V&&x(C[q],q,C)!==!1;);return C}function uS(C,x){for(var q=C==null?0:C.length;q--&&x(C[q],q,C)!==!1;);return C}function ty(C,x){for(var q=-1,V=C==null?0:C.length;++q<V;)if(!x(C[q],q,C))return!1;return!0}function Kr(C,x){for(var q=-1,V=C==null?0:C.length,Q=0,se=[];++q<V;){var De=C[q];x(De,q,C)&&(se[Q++]=De)}return se}function Ya(C,x){var q=C==null?0:C.length;return!!q&&yn(C,x,0)>-1}function oh(C,x,q){for(var V=-1,Q=C==null?0:C.length;++V<Q;)if(q(x,C[V]))return!0;return!1}function ge(C,x){for(var q=-1,V=C==null?0:C.length,Q=Array(V);++q<V;)Q[q]=x(C[q],q,C);return Q}function Xr(C,x){for(var q=-1,V=x.length,Q=C.length;++q<V;)C[Q+q]=x[q];return C}function ah(C,x,q,V){var Q=-1,se=C==null?0:C.length;for(V&&se&&(q=C[++Q]);++Q<se;)q=x(q,C[Q],Q,C);return q}function cS(C,x,q,V){var Q=C==null?0:C.length;for(V&&Q&&(q=C[--Q]);Q--;)q=x(q,C[Q],Q,C);return q}function sh(C,x){for(var q=-1,V=C==null?0:C.length;++q<V;)if(x(C[q],q,C))return!0;return!1}var lS=uh("length");function fS(C){return C.split("")}function hS(C){return C.match(_O)||[]}function ry(C,x,q){var V;return q(C,function(Q,se,De){if(x(Q,se,De))return V=se,!1}),V}function Qa(C,x,q,V){for(var Q=C.length,se=q+(V?1:-1);V?se--:++se<Q;)if(x(C[se],se,C))return se;return-1}function yn(C,x,q){return x===x?SS(C,x,q):Qa(C,iy,q)}function pS(C,x,q,V){for(var Q=q-1,se=C.length;++Q<se;)if(V(C[Q],x))return Q;return-1}function iy(C){return C!==C}function ny(C,x){var q=C==null?0:C.length;return q?lh(C,x)/q:Na}function uh(C){return function(x){return x==null?t:x[C]}}function ch(C){return function(x){return C==null?t:C[x]}}function oy(C,x,q,V,Q){return Q(C,function(se,De,de){q=V?(V=!1,se):x(q,se,De,de)}),q}function dS(C,x){var q=C.length;for(C.sort(x);q--;)C[q]=C[q].value;return C}function lh(C,x){for(var q,V=-1,Q=C.length;++V<Q;){var se=x(C[V]);se!==t&&(q=q===t?se:q+se)}return q}function fh(C,x){for(var q=-1,V=Array(C);++q<C;)V[q]=x(q);return V}function vS(C,x){return ge(x,function(q){return[q,C[q]]})}function ay(C){return C&&C.slice(0,ly(C)+1).replace(Xf,"")}function Ct(C){return function(x){return C(x)}}function hh(C,x){return ge(x,function(q){return C[q]})}function Qo(C,x){return C.has(x)}function sy(C,x){for(var q=-1,V=C.length;++q<V&&yn(x,C[q],0)>-1;);return q}function uy(C,x){for(var q=C.length;q--&&yn(x,C[q],0)>-1;);return q}function mS(C,x){for(var q=C.length,V=0;q--;)C[q]===x&&++V;return V}var yS=ch(eS),gS=ch(tS);function bS(C){return"\\"+iS[C]}function _S(C,x){return C==null?t:C[x]}function gn(C){return KO.test(C)}function PS(C){return XO.test(C)}function wS(C){for(var x,q=[];!(x=C.next()).done;)q.push(x.value);return q}function ph(C){var x=-1,q=Array(C.size);return C.forEach(function(V,Q){q[++x]=[Q,V]}),q}function cy(C,x){return function(q){return C(x(q))}}function Jr(C,x){for(var q=-1,V=C.length,Q=0,se=[];++q<V;){var De=C[q];(De===x||De===v)&&(C[q]=v,se[Q++]=q)}return se}function Ka(C){var x=-1,q=Array(C.size);return C.forEach(function(V){q[++x]=V}),q}function OS(C){var x=-1,q=Array(C.size);return C.forEach(function(V){q[++x]=[V,V]}),q}function SS(C,x,q){for(var V=q-1,Q=C.length;++V<Q;)if(C[V]===x)return V;return-1}function TS(C,x,q){for(var V=q+1;V--;)if(C[V]===x)return V;return V}function bn(C){return gn(C)?AS(C):lS(C)}function $t(C){return gn(C)?ES(C):fS(C)}function ly(C){for(var x=C.length;x--&&mO.test(C.charAt(x)););return x}var CS=ch(rS);function AS(C){for(var x=rh.lastIndex=0;rh.test(C);)++x;return x}function ES(C){return C.match(rh)||[]}function qS(C){return C.match(QO)||[]}var MS=function C(x){x=x==null?Ve:Zr.defaults(Ve.Object(),x,Zr.pick(Ve,JO));var q=x.Array,V=x.Date,Q=x.Error,se=x.Function,De=x.Math,de=x.Object,dh=x.RegExp,xS=x.String,kt=x.TypeError,Xa=q.prototype,LS=se.prototype,_n=de.prototype,Ja=x["__core-js_shared__"],Za=LS.toString,ce=_n.hasOwnProperty,jS=0,fy=function(){var o=/[^.]+$/.exec(Ja&&Ja.keys&&Ja.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),es=_n.toString,IS=Za.call(de),FS=Ve._,DS=dh("^"+Za.call(ce).replace(Kf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ts=Ym?x.Buffer:t,ei=x.Symbol,rs=x.Uint8Array,hy=ts?ts.allocUnsafe:t,is=cy(de.getPrototypeOf,de),py=de.create,dy=_n.propertyIsEnumerable,ns=Xa.splice,vy=ei?ei.isConcatSpreadable:t,Ko=ei?ei.iterator:t,Vi=ei?ei.toStringTag:t,os=function(){try{var o=Hi(de,"defineProperty");return o({},"",{}),o}catch{}}(),kS=x.clearTimeout!==Ve.clearTimeout&&x.clearTimeout,RS=V&&V.now!==Ve.Date.now&&V.now,zS=x.setTimeout!==Ve.setTimeout&&x.setTimeout,as=De.ceil,ss=De.floor,vh=de.getOwnPropertySymbols,NS=ts?ts.isBuffer:t,my=x.isFinite,VS=Xa.join,WS=cy(de.keys,de),ke=De.max,et=De.min,US=V.now,GS=x.parseInt,yy=De.random,BS=Xa.reverse,mh=Hi(x,"DataView"),Xo=Hi(x,"Map"),yh=Hi(x,"Promise"),Pn=Hi(x,"Set"),Jo=Hi(x,"WeakMap"),Zo=Hi(de,"create"),us=Jo&&new Jo,wn={},HS=$i(mh),$S=$i(Xo),YS=$i(yh),QS=$i(Pn),KS=$i(Jo),cs=ei?ei.prototype:t,ea=cs?cs.valueOf:t,gy=cs?cs.toString:t;function y(o){if(Te(o)&&!K(o)&&!(o instanceof re)){if(o instanceof Rt)return o;if(ce.call(o,"__wrapped__"))return bg(o)}return new Rt(o)}var On=function(){function o(){}return function(a){if(!we(a))return{};if(py)return py(a);o.prototype=a;var u=new o;return o.prototype=t,u}}();function ls(){}function Rt(o,a){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=t}y.templateSettings={escape:lO,evaluate:fO,interpolate:Am,variable:"",imports:{_:y}},y.prototype=ls.prototype,y.prototype.constructor=y,Rt.prototype=On(ls.prototype),Rt.prototype.constructor=Rt;function re(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ar,this.__views__=[]}function XS(){var o=new re(this.__wrapped__);return o.__actions__=dt(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=dt(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=dt(this.__views__),o}function JS(){if(this.__filtered__){var o=new re(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function ZS(){var o=this.__wrapped__.value(),a=this.__dir__,u=K(o),f=a<0,d=u?o.length:0,g=fC(0,d,this.__views__),P=g.start,S=g.end,A=S-P,j=f?S:P-1,I=this.__iteratees__,F=I.length,R=0,W=et(A,this.__takeCount__);if(!u||!f&&d==A&&W==A)return Wy(o,this.__actions__);var H=[];e:for(;A--&&R<W;){j+=a;for(var Z=-1,$=o[j];++Z<F;){var te=I[Z],ne=te.iteratee,qt=te.type,ut=ne($);if(qt==$w)$=ut;else if(!ut){if(qt==wm)continue e;break e}}H[R++]=$}return H}re.prototype=On(ls.prototype),re.prototype.constructor=re;function Wi(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var f=o[a];this.set(f[0],f[1])}}function eT(){this.__data__=Zo?Zo(null):{},this.size=0}function tT(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}function rT(o){var a=this.__data__;if(Zo){var u=a[o];return u===h?t:u}return ce.call(a,o)?a[o]:t}function iT(o){var a=this.__data__;return Zo?a[o]!==t:ce.call(a,o)}function nT(o,a){var u=this.__data__;return this.size+=this.has(o)?0:1,u[o]=Zo&&a===t?h:a,this}Wi.prototype.clear=eT,Wi.prototype.delete=tT,Wi.prototype.get=rT,Wi.prototype.has=iT,Wi.prototype.set=nT;function Mr(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var f=o[a];this.set(f[0],f[1])}}function oT(){this.__data__=[],this.size=0}function aT(o){var a=this.__data__,u=fs(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():ns.call(a,u,1),--this.size,!0}function sT(o){var a=this.__data__,u=fs(a,o);return u<0?t:a[u][1]}function uT(o){return fs(this.__data__,o)>-1}function cT(o,a){var u=this.__data__,f=fs(u,o);return f<0?(++this.size,u.push([o,a])):u[f][1]=a,this}Mr.prototype.clear=oT,Mr.prototype.delete=aT,Mr.prototype.get=sT,Mr.prototype.has=uT,Mr.prototype.set=cT;function xr(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var f=o[a];this.set(f[0],f[1])}}function lT(){this.size=0,this.__data__={hash:new Wi,map:new(Xo||Mr),string:new Wi}}function fT(o){var a=Os(this,o).delete(o);return this.size-=a?1:0,a}function hT(o){return Os(this,o).get(o)}function pT(o){return Os(this,o).has(o)}function dT(o,a){var u=Os(this,o),f=u.size;return u.set(o,a),this.size+=u.size==f?0:1,this}xr.prototype.clear=lT,xr.prototype.delete=fT,xr.prototype.get=hT,xr.prototype.has=pT,xr.prototype.set=dT;function Ui(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new xr;++a<u;)this.add(o[a])}function vT(o){return this.__data__.set(o,h),this}function mT(o){return this.__data__.has(o)}Ui.prototype.add=Ui.prototype.push=vT,Ui.prototype.has=mT;function Yt(o){var a=this.__data__=new Mr(o);this.size=a.size}function yT(){this.__data__=new Mr,this.size=0}function gT(o){var a=this.__data__,u=a.delete(o);return this.size=a.size,u}function bT(o){return this.__data__.get(o)}function _T(o){return this.__data__.has(o)}function PT(o,a){var u=this.__data__;if(u instanceof Mr){var f=u.__data__;if(!Xo||f.length<n-1)return f.push([o,a]),this.size=++u.size,this;u=this.__data__=new xr(f)}return u.set(o,a),this.size=u.size,this}Yt.prototype.clear=yT,Yt.prototype.delete=gT,Yt.prototype.get=bT,Yt.prototype.has=_T,Yt.prototype.set=PT;function by(o,a){var u=K(o),f=!u&&Yi(o),d=!u&&!f&&oi(o),g=!u&&!f&&!d&&An(o),P=u||f||d||g,S=P?fh(o.length,xS):[],A=S.length;for(var j in o)(a||ce.call(o,j))&&!(P&&(j=="length"||d&&(j=="offset"||j=="parent")||g&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||Fr(j,A)))&&S.push(j);return S}function _y(o){var a=o.length;return a?o[Eh(0,a-1)]:t}function wT(o,a){return Ss(dt(o),Gi(a,0,o.length))}function OT(o){return Ss(dt(o))}function gh(o,a,u){(u!==t&&!Qt(o[a],u)||u===t&&!(a in o))&&Lr(o,a,u)}function ta(o,a,u){var f=o[a];(!(ce.call(o,a)&&Qt(f,u))||u===t&&!(a in o))&&Lr(o,a,u)}function fs(o,a){for(var u=o.length;u--;)if(Qt(o[u][0],a))return u;return-1}function ST(o,a,u,f){return ti(o,function(d,g,P){a(f,d,u(d),P)}),f}function Py(o,a){return o&&ur(a,We(a),o)}function TT(o,a){return o&&ur(a,mt(a),o)}function Lr(o,a,u){a=="__proto__"&&os?os(o,a,{configurable:!0,enumerable:!0,value:u,writable:!0}):o[a]=u}function bh(o,a){for(var u=-1,f=a.length,d=q(f),g=o==null;++u<f;)d[u]=g?t:Zh(o,a[u]);return d}function Gi(o,a,u){return o===o&&(u!==t&&(o=o<=u?o:u),a!==t&&(o=o>=a?o:a)),o}function zt(o,a,u,f,d,g){var P,S=a&b,A=a&w,j=a&T;if(u&&(P=d?u(o,f,d,g):u(o)),P!==t)return P;if(!we(o))return o;var I=K(o);if(I){if(P=pC(o),!S)return dt(o,P)}else{var F=tt(o),R=F==Ua||F==Om;if(oi(o))return By(o,S);if(F==qr||F==dn||R&&!d){if(P=A||R?{}:lg(o),!S)return A?rC(o,TT(P,o)):tC(o,Py(P,o))}else{if(!ve[F])return d?o:{};P=dC(o,F,S)}}g||(g=new Yt);var W=g.get(o);if(W)return W;g.set(o,P),zg(o)?o.forEach(function($){P.add(zt($,a,u,$,o,g))}):kg(o)&&o.forEach(function($,te){P.set(te,zt($,a,u,te,o,g))});var H=j?A?zh:Rh:A?mt:We,Z=I?t:H(o);return Dt(Z||o,function($,te){Z&&(te=$,$=o[te]),ta(P,te,zt($,a,u,te,o,g))}),P}function CT(o){var a=We(o);return function(u){return wy(u,o,a)}}function wy(o,a,u){var f=u.length;if(o==null)return!f;for(o=de(o);f--;){var d=u[f],g=a[d],P=o[d];if(P===t&&!(d in o)||!g(P))return!1}return!0}function Oy(o,a,u){if(typeof o!="function")throw new kt(c);return ua(function(){o.apply(t,u)},a)}function ra(o,a,u,f){var d=-1,g=Ya,P=!0,S=o.length,A=[],j=a.length;if(!S)return A;u&&(a=ge(a,Ct(u))),f?(g=oh,P=!1):a.length>=n&&(g=Qo,P=!1,a=new Ui(a));e:for(;++d<S;){var I=o[d],F=u==null?I:u(I);if(I=f||I!==0?I:0,P&&F===F){for(var R=j;R--;)if(a[R]===F)continue e;A.push(I)}else g(a,F,f)||A.push(I)}return A}var ti=Ky(sr),Sy=Ky(Ph,!0);function AT(o,a){var u=!0;return ti(o,function(f,d,g){return u=!!a(f,d,g),u}),u}function hs(o,a,u){for(var f=-1,d=o.length;++f<d;){var g=o[f],P=a(g);if(P!=null&&(S===t?P===P&&!Et(P):u(P,S)))var S=P,A=g}return A}function ET(o,a,u,f){var d=o.length;for(u=J(u),u<0&&(u=-u>d?0:d+u),f=f===t||f>d?d:J(f),f<0&&(f+=d),f=u>f?0:Vg(f);u<f;)o[u++]=a;return o}function Ty(o,a){var u=[];return ti(o,function(f,d,g){a(f,d,g)&&u.push(f)}),u}function Ye(o,a,u,f,d){var g=-1,P=o.length;for(u||(u=mC),d||(d=[]);++g<P;){var S=o[g];a>0&&u(S)?a>1?Ye(S,a-1,u,f,d):Xr(d,S):f||(d[d.length]=S)}return d}var _h=Xy(),Cy=Xy(!0);function sr(o,a){return o&&_h(o,a,We)}function Ph(o,a){return o&&Cy(o,a,We)}function ps(o,a){return Kr(a,function(u){return Dr(o[u])})}function Bi(o,a){a=ii(a,o);for(var u=0,f=a.length;o!=null&&u<f;)o=o[cr(a[u++])];return u&&u==f?o:t}function Ay(o,a,u){var f=a(o);return K(o)?f:Xr(f,u(o))}function at(o){return o==null?o===t?iO:tO:Vi&&Vi in de(o)?lC(o):OC(o)}function wh(o,a){return o>a}function qT(o,a){return o!=null&&ce.call(o,a)}function MT(o,a){return o!=null&&a in de(o)}function xT(o,a,u){return o>=et(a,u)&&o<ke(a,u)}function Oh(o,a,u){for(var f=u?oh:Ya,d=o[0].length,g=o.length,P=g,S=q(g),A=1/0,j=[];P--;){var I=o[P];P&&a&&(I=ge(I,Ct(a))),A=et(I.length,A),S[P]=!u&&(a||d>=120&&I.length>=120)?new Ui(P&&I):t}I=o[0];var F=-1,R=S[0];e:for(;++F<d&&j.length<A;){var W=I[F],H=a?a(W):W;if(W=u||W!==0?W:0,!(R?Qo(R,H):f(j,H,u))){for(P=g;--P;){var Z=S[P];if(!(Z?Qo(Z,H):f(o[P],H,u)))continue e}R&&R.push(H),j.push(W)}}return j}function LT(o,a,u,f){return sr(o,function(d,g,P){a(f,u(d),g,P)}),f}function ia(o,a,u){a=ii(a,o),o=dg(o,a);var f=o==null?o:o[cr(Vt(a))];return f==null?t:Tt(f,o,u)}function Ey(o){return Te(o)&&at(o)==dn}function jT(o){return Te(o)&&at(o)==Yo}function IT(o){return Te(o)&&at(o)==Uo}function na(o,a,u,f,d){return o===a?!0:o==null||a==null||!Te(o)&&!Te(a)?o!==o&&a!==a:FT(o,a,u,f,na,d)}function FT(o,a,u,f,d,g){var P=K(o),S=K(a),A=P?Va:tt(o),j=S?Va:tt(a);A=A==dn?qr:A,j=j==dn?qr:j;var I=A==qr,F=j==qr,R=A==j;if(R&&oi(o)){if(!oi(a))return!1;P=!0,I=!1}if(R&&!I)return g||(g=new Yt),P||An(o)?sg(o,a,u,f,d,g):uC(o,a,A,u,f,d,g);if(!(u&E)){var W=I&&ce.call(o,"__wrapped__"),H=F&&ce.call(a,"__wrapped__");if(W||H){var Z=W?o.value():o,$=H?a.value():a;return g||(g=new Yt),d(Z,$,u,f,g)}}return R?(g||(g=new Yt),cC(o,a,u,f,d,g)):!1}function DT(o){return Te(o)&&tt(o)==Bt}function Sh(o,a,u,f){var d=u.length,g=d,P=!f;if(o==null)return!g;for(o=de(o);d--;){var S=u[d];if(P&&S[2]?S[1]!==o[S[0]]:!(S[0]in o))return!1}for(;++d<g;){S=u[d];var A=S[0],j=o[A],I=S[1];if(P&&S[2]){if(j===t&&!(A in o))return!1}else{var F=new Yt;if(f)var R=f(j,I,A,o,a,F);if(!(R===t?na(I,j,E|M,f,F):R))return!1}}return!0}function qy(o){if(!we(o)||gC(o))return!1;var a=Dr(o)?DS:CO;return a.test($i(o))}function kT(o){return Te(o)&&at(o)==Bo}function RT(o){return Te(o)&&tt(o)==Ht}function zT(o){return Te(o)&&Ms(o.length)&&!!ye[at(o)]}function My(o){return typeof o=="function"?o:o==null?yt:typeof o=="object"?K(o)?jy(o[0],o[1]):Ly(o):Jg(o)}function Th(o){if(!sa(o))return WS(o);var a=[];for(var u in de(o))ce.call(o,u)&&u!="constructor"&&a.push(u);return a}function NT(o){if(!we(o))return wC(o);var a=sa(o),u=[];for(var f in o)f=="constructor"&&(a||!ce.call(o,f))||u.push(f);return u}function Ch(o,a){return o<a}function xy(o,a){var u=-1,f=vt(o)?q(o.length):[];return ti(o,function(d,g,P){f[++u]=a(d,g,P)}),f}function Ly(o){var a=Vh(o);return a.length==1&&a[0][2]?hg(a[0][0],a[0][1]):function(u){return u===o||Sh(u,o,a)}}function jy(o,a){return Uh(o)&&fg(a)?hg(cr(o),a):function(u){var f=Zh(u,o);return f===t&&f===a?ep(u,o):na(a,f,E|M)}}function ds(o,a,u,f,d){o!==a&&_h(a,function(g,P){if(d||(d=new Yt),we(g))VT(o,a,P,u,ds,f,d);else{var S=f?f(Bh(o,P),g,P+"",o,a,d):t;S===t&&(S=g),gh(o,P,S)}},mt)}function VT(o,a,u,f,d,g,P){var S=Bh(o,u),A=Bh(a,u),j=P.get(A);if(j){gh(o,u,j);return}var I=g?g(S,A,u+"",o,a,P):t,F=I===t;if(F){var R=K(A),W=!R&&oi(A),H=!R&&!W&&An(A);I=A,R||W||H?K(S)?I=S:Ae(S)?I=dt(S):W?(F=!1,I=By(A,!0)):H?(F=!1,I=Hy(A,!0)):I=[]:ca(A)||Yi(A)?(I=S,Yi(S)?I=Wg(S):(!we(S)||Dr(S))&&(I=lg(A))):F=!1}F&&(P.set(A,I),d(I,A,f,g,P),P.delete(A)),gh(o,u,I)}function Iy(o,a){var u=o.length;if(u)return a+=a<0?u:0,Fr(a,u)?o[a]:t}function Fy(o,a,u){a.length?a=ge(a,function(g){return K(g)?function(P){return Bi(P,g.length===1?g[0]:g)}:g}):a=[yt];var f=-1;a=ge(a,Ct(B()));var d=xy(o,function(g,P,S){var A=ge(a,function(j){return j(g)});return{criteria:A,index:++f,value:g}});return dS(d,function(g,P){return eC(g,P,u)})}function WT(o,a){return Dy(o,a,function(u,f){return ep(o,f)})}function Dy(o,a,u){for(var f=-1,d=a.length,g={};++f<d;){var P=a[f],S=Bi(o,P);u(S,P)&&oa(g,ii(P,o),S)}return g}function UT(o){return function(a){return Bi(a,o)}}function Ah(o,a,u,f){var d=f?pS:yn,g=-1,P=a.length,S=o;for(o===a&&(a=dt(a)),u&&(S=ge(o,Ct(u)));++g<P;)for(var A=0,j=a[g],I=u?u(j):j;(A=d(S,I,A,f))>-1;)S!==o&&ns.call(S,A,1),ns.call(o,A,1);return o}function ky(o,a){for(var u=o?a.length:0,f=u-1;u--;){var d=a[u];if(u==f||d!==g){var g=d;Fr(d)?ns.call(o,d,1):xh(o,d)}}return o}function Eh(o,a){return o+ss(yy()*(a-o+1))}function GT(o,a,u,f){for(var d=-1,g=ke(as((a-o)/(u||1)),0),P=q(g);g--;)P[f?g:++d]=o,o+=u;return P}function qh(o,a){var u="";if(!o||a<1||a>Qr)return u;do a%2&&(u+=o),a=ss(a/2),a&&(o+=o);while(a);return u}function ee(o,a){return Hh(pg(o,a,yt),o+"")}function BT(o){return _y(En(o))}function HT(o,a){var u=En(o);return Ss(u,Gi(a,0,u.length))}function oa(o,a,u,f){if(!we(o))return o;a=ii(a,o);for(var d=-1,g=a.length,P=g-1,S=o;S!=null&&++d<g;){var A=cr(a[d]),j=u;if(A==="__proto__"||A==="constructor"||A==="prototype")return o;if(d!=P){var I=S[A];j=f?f(I,A,S):t,j===t&&(j=we(I)?I:Fr(a[d+1])?[]:{})}ta(S,A,j),S=S[A]}return o}var Ry=us?function(o,a){return us.set(o,a),o}:yt,$T=os?function(o,a){return os(o,"toString",{configurable:!0,enumerable:!1,value:rp(a),writable:!0})}:yt;function YT(o){return Ss(En(o))}function Nt(o,a,u){var f=-1,d=o.length;a<0&&(a=-a>d?0:d+a),u=u>d?d:u,u<0&&(u+=d),d=a>u?0:u-a>>>0,a>>>=0;for(var g=q(d);++f<d;)g[f]=o[f+a];return g}function QT(o,a){var u;return ti(o,function(f,d,g){return u=a(f,d,g),!u}),!!u}function vs(o,a,u){var f=0,d=o==null?f:o.length;if(typeof a=="number"&&a===a&&d<=Xw){for(;f<d;){var g=f+d>>>1,P=o[g];P!==null&&!Et(P)&&(u?P<=a:P<a)?f=g+1:d=g}return d}return Mh(o,a,yt,u)}function Mh(o,a,u,f){var d=0,g=o==null?0:o.length;if(g===0)return 0;a=u(a);for(var P=a!==a,S=a===null,A=Et(a),j=a===t;d<g;){var I=ss((d+g)/2),F=u(o[I]),R=F!==t,W=F===null,H=F===F,Z=Et(F);if(P)var $=f||H;else j?$=H&&(f||R):S?$=H&&R&&(f||!W):A?$=H&&R&&!W&&(f||!Z):W||Z?$=!1:$=f?F<=a:F<a;$?d=I+1:g=I}return et(g,Kw)}function zy(o,a){for(var u=-1,f=o.length,d=0,g=[];++u<f;){var P=o[u],S=a?a(P):P;if(!u||!Qt(S,A)){var A=S;g[d++]=P===0?0:P}}return g}function Ny(o){return typeof o=="number"?o:Et(o)?Na:+o}function At(o){if(typeof o=="string")return o;if(K(o))return ge(o,At)+"";if(Et(o))return gy?gy.call(o):"";var a=o+"";return a=="0"&&1/o==-zi?"-0":a}function ri(o,a,u){var f=-1,d=Ya,g=o.length,P=!0,S=[],A=S;if(u)P=!1,d=oh;else if(g>=n){var j=a?null:aC(o);if(j)return Ka(j);P=!1,d=Qo,A=new Ui}else A=a?[]:S;e:for(;++f<g;){var I=o[f],F=a?a(I):I;if(I=u||I!==0?I:0,P&&F===F){for(var R=A.length;R--;)if(A[R]===F)continue e;a&&A.push(F),S.push(I)}else d(A,F,u)||(A!==S&&A.push(F),S.push(I))}return S}function xh(o,a){return a=ii(a,o),o=dg(o,a),o==null||delete o[cr(Vt(a))]}function Vy(o,a,u,f){return oa(o,a,u(Bi(o,a)),f)}function ms(o,a,u,f){for(var d=o.length,g=f?d:-1;(f?g--:++g<d)&&a(o[g],g,o););return u?Nt(o,f?0:g,f?g+1:d):Nt(o,f?g+1:0,f?d:g)}function Wy(o,a){var u=o;return u instanceof re&&(u=u.value()),ah(a,function(f,d){return d.func.apply(d.thisArg,Xr([f],d.args))},u)}function Lh(o,a,u){var f=o.length;if(f<2)return f?ri(o[0]):[];for(var d=-1,g=q(f);++d<f;)for(var P=o[d],S=-1;++S<f;)S!=d&&(g[d]=ra(g[d]||P,o[S],a,u));return ri(Ye(g,1),a,u)}function Uy(o,a,u){for(var f=-1,d=o.length,g=a.length,P={};++f<d;){var S=f<g?a[f]:t;u(P,o[f],S)}return P}function jh(o){return Ae(o)?o:[]}function Ih(o){return typeof o=="function"?o:yt}function ii(o,a){return K(o)?o:Uh(o,a)?[o]:gg(ue(o))}var KT=ee;function ni(o,a,u){var f=o.length;return u=u===t?f:u,!a&&u>=f?o:Nt(o,a,u)}var Gy=kS||function(o){return Ve.clearTimeout(o)};function By(o,a){if(a)return o.slice();var u=o.length,f=hy?hy(u):new o.constructor(u);return o.copy(f),f}function Fh(o){var a=new o.constructor(o.byteLength);return new rs(a).set(new rs(o)),a}function XT(o,a){var u=a?Fh(o.buffer):o.buffer;return new o.constructor(u,o.byteOffset,o.byteLength)}function JT(o){var a=new o.constructor(o.source,Em.exec(o));return a.lastIndex=o.lastIndex,a}function ZT(o){return ea?de(ea.call(o)):{}}function Hy(o,a){var u=a?Fh(o.buffer):o.buffer;return new o.constructor(u,o.byteOffset,o.length)}function $y(o,a){if(o!==a){var u=o!==t,f=o===null,d=o===o,g=Et(o),P=a!==t,S=a===null,A=a===a,j=Et(a);if(!S&&!j&&!g&&o>a||g&&P&&A&&!S&&!j||f&&P&&A||!u&&A||!d)return 1;if(!f&&!g&&!j&&o<a||j&&u&&d&&!f&&!g||S&&u&&d||!P&&d||!A)return-1}return 0}function eC(o,a,u){for(var f=-1,d=o.criteria,g=a.criteria,P=d.length,S=u.length;++f<P;){var A=$y(d[f],g[f]);if(A){if(f>=S)return A;var j=u[f];return A*(j=="desc"?-1:1)}}return o.index-a.index}function Yy(o,a,u,f){for(var d=-1,g=o.length,P=u.length,S=-1,A=a.length,j=ke(g-P,0),I=q(A+j),F=!f;++S<A;)I[S]=a[S];for(;++d<P;)(F||d<g)&&(I[u[d]]=o[d]);for(;j--;)I[S++]=o[d++];return I}function Qy(o,a,u,f){for(var d=-1,g=o.length,P=-1,S=u.length,A=-1,j=a.length,I=ke(g-S,0),F=q(I+j),R=!f;++d<I;)F[d]=o[d];for(var W=d;++A<j;)F[W+A]=a[A];for(;++P<S;)(R||d<g)&&(F[W+u[P]]=o[d++]);return F}function dt(o,a){var u=-1,f=o.length;for(a||(a=q(f));++u<f;)a[u]=o[u];return a}function ur(o,a,u,f){var d=!u;u||(u={});for(var g=-1,P=a.length;++g<P;){var S=a[g],A=f?f(u[S],o[S],S,u,o):t;A===t&&(A=o[S]),d?Lr(u,S,A):ta(u,S,A)}return u}function tC(o,a){return ur(o,Wh(o),a)}function rC(o,a){return ur(o,ug(o),a)}function ys(o,a){return function(u,f){var d=K(u)?sS:ST,g=a?a():{};return d(u,o,B(f,2),g)}}function Sn(o){return ee(function(a,u){var f=-1,d=u.length,g=d>1?u[d-1]:t,P=d>2?u[2]:t;for(g=o.length>3&&typeof g=="function"?(d--,g):t,P&&st(u[0],u[1],P)&&(g=d<3?t:g,d=1),a=de(a);++f<d;){var S=u[f];S&&o(a,S,f,g)}return a})}function Ky(o,a){return function(u,f){if(u==null)return u;if(!vt(u))return o(u,f);for(var d=u.length,g=a?d:-1,P=de(u);(a?g--:++g<d)&&f(P[g],g,P)!==!1;);return u}}function Xy(o){return function(a,u,f){for(var d=-1,g=de(a),P=f(a),S=P.length;S--;){var A=P[o?S:++d];if(u(g[A],A,g)===!1)break}return a}}function iC(o,a,u){var f=a&L,d=aa(o);function g(){var P=this&&this!==Ve&&this instanceof g?d:o;return P.apply(f?u:this,arguments)}return g}function Jy(o){return function(a){a=ue(a);var u=gn(a)?$t(a):t,f=u?u[0]:a.charAt(0),d=u?ni(u,1).join(""):a.slice(1);return f[o]()+d}}function Tn(o){return function(a){return ah(Kg(Qg(a).replace($O,"")),o,"")}}function aa(o){return function(){var a=arguments;switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3]);case 5:return new o(a[0],a[1],a[2],a[3],a[4]);case 6:return new o(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new o(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var u=On(o.prototype),f=o.apply(u,a);return we(f)?f:u}}function nC(o,a,u){var f=aa(o);function d(){for(var g=arguments.length,P=q(g),S=g,A=Cn(d);S--;)P[S]=arguments[S];var j=g<3&&P[0]!==A&&P[g-1]!==A?[]:Jr(P,A);if(g-=j.length,g<u)return ig(o,a,gs,d.placeholder,t,P,j,t,t,u-g);var I=this&&this!==Ve&&this instanceof d?f:o;return Tt(I,this,P)}return d}function Zy(o){return function(a,u,f){var d=de(a);if(!vt(a)){var g=B(u,3);a=We(a),u=function(S){return g(d[S],S,d)}}var P=o(a,u,f);return P>-1?d[g?a[P]:P]:t}}function eg(o){return Ir(function(a){var u=a.length,f=u,d=Rt.prototype.thru;for(o&&a.reverse();f--;){var g=a[f];if(typeof g!="function")throw new kt(c);if(d&&!P&&ws(g)=="wrapper")var P=new Rt([],!0)}for(f=P?f:u;++f<u;){g=a[f];var S=ws(g),A=S=="wrapper"?Nh(g):t;A&&Gh(A[0])&&A[1]==(pt|Y|pe|Vo)&&!A[4].length&&A[9]==1?P=P[ws(A[0])].apply(P,A[3]):P=g.length==1&&Gh(g)?P[S]():P.thru(g)}return function(){var j=arguments,I=j[0];if(P&&j.length==1&&K(I))return P.plant(I).value();for(var F=0,R=u?a[F].apply(this,j):I;++F<u;)R=a[F].call(this,R);return R}})}function gs(o,a,u,f,d,g,P,S,A,j){var I=a&pt,F=a&L,R=a&D,W=a&(Y|ie),H=a&Nf,Z=R?t:aa(o);function $(){for(var te=arguments.length,ne=q(te),qt=te;qt--;)ne[qt]=arguments[qt];if(W)var ut=Cn($),Mt=mS(ne,ut);if(f&&(ne=Yy(ne,f,d,W)),g&&(ne=Qy(ne,g,P,W)),te-=Mt,W&&te<j){var Ee=Jr(ne,ut);return ig(o,a,gs,$.placeholder,u,ne,Ee,S,A,j-te)}var Kt=F?u:this,Rr=R?Kt[o]:o;return te=ne.length,S?ne=SC(ne,S):H&&te>1&&ne.reverse(),I&&A<te&&(ne.length=A),this&&this!==Ve&&this instanceof $&&(Rr=Z||aa(Rr)),Rr.apply(Kt,ne)}return $}function tg(o,a){return function(u,f){return LT(u,o,a(f),{})}}function bs(o,a){return function(u,f){var d;if(u===t&&f===t)return a;if(u!==t&&(d=u),f!==t){if(d===t)return f;typeof u=="string"||typeof f=="string"?(u=At(u),f=At(f)):(u=Ny(u),f=Ny(f)),d=o(u,f)}return d}}function Dh(o){return Ir(function(a){return a=ge(a,Ct(B())),ee(function(u){var f=this;return o(a,function(d){return Tt(d,f,u)})})})}function _s(o,a){a=a===t?" ":At(a);var u=a.length;if(u<2)return u?qh(a,o):a;var f=qh(a,as(o/bn(a)));return gn(a)?ni($t(f),0,o).join(""):f.slice(0,o)}function oC(o,a,u,f){var d=a&L,g=aa(o);function P(){for(var S=-1,A=arguments.length,j=-1,I=f.length,F=q(I+A),R=this&&this!==Ve&&this instanceof P?g:o;++j<I;)F[j]=f[j];for(;A--;)F[j++]=arguments[++S];return Tt(R,d?u:this,F)}return P}function rg(o){return function(a,u,f){return f&&typeof f!="number"&&st(a,u,f)&&(u=f=t),a=kr(a),u===t?(u=a,a=0):u=kr(u),f=f===t?a<u?1:-1:kr(f),GT(a,u,f,o)}}function Ps(o){return function(a,u){return typeof a=="string"&&typeof u=="string"||(a=Wt(a),u=Wt(u)),o(a,u)}}function ig(o,a,u,f,d,g,P,S,A,j){var I=a&Y,F=I?P:t,R=I?t:P,W=I?g:t,H=I?t:g;a|=I?pe:Fe,a&=~(I?Fe:pe),a&N||(a&=~(L|D));var Z=[o,a,d,W,F,H,R,S,A,j],$=u.apply(t,Z);return Gh(o)&&vg($,Z),$.placeholder=f,mg($,o,a)}function kh(o){var a=De[o];return function(u,f){if(u=Wt(u),f=f==null?0:et(J(f),292),f&&my(u)){var d=(ue(u)+"e").split("e"),g=a(d[0]+"e"+(+d[1]+f));return d=(ue(g)+"e").split("e"),+(d[0]+"e"+(+d[1]-f))}return a(u)}}var aC=Pn&&1/Ka(new Pn([,-0]))[1]==zi?function(o){return new Pn(o)}:op;function ng(o){return function(a){var u=tt(a);return u==Bt?ph(a):u==Ht?OS(a):vS(a,o(a))}}function jr(o,a,u,f,d,g,P,S){var A=a&D;if(!A&&typeof o!="function")throw new kt(c);var j=f?f.length:0;if(j||(a&=~(pe|Fe),f=d=t),P=P===t?P:ke(J(P),0),S=S===t?S:J(S),j-=d?d.length:0,a&Fe){var I=f,F=d;f=d=t}var R=A?t:Nh(o),W=[o,a,u,f,d,I,F,g,P,S];if(R&&PC(W,R),o=W[0],a=W[1],u=W[2],f=W[3],d=W[4],S=W[9]=W[9]===t?A?0:o.length:ke(W[9]-j,0),!S&&a&(Y|ie)&&(a&=~(Y|ie)),!a||a==L)var H=iC(o,a,u);else a==Y||a==ie?H=nC(o,a,S):(a==pe||a==(L|pe))&&!d.length?H=oC(o,a,u,f):H=gs.apply(t,W);var Z=R?Ry:vg;return mg(Z(H,W),o,a)}function og(o,a,u,f){return o===t||Qt(o,_n[u])&&!ce.call(f,u)?a:o}function ag(o,a,u,f,d,g){return we(o)&&we(a)&&(g.set(a,o),ds(o,a,t,ag,g),g.delete(a)),o}function sC(o){return ca(o)?t:o}function sg(o,a,u,f,d,g){var P=u&E,S=o.length,A=a.length;if(S!=A&&!(P&&A>S))return!1;var j=g.get(o),I=g.get(a);if(j&&I)return j==a&&I==o;var F=-1,R=!0,W=u&M?new Ui:t;for(g.set(o,a),g.set(a,o);++F<S;){var H=o[F],Z=a[F];if(f)var $=P?f(Z,H,F,a,o,g):f(H,Z,F,o,a,g);if($!==t){if($)continue;R=!1;break}if(W){if(!sh(a,function(te,ne){if(!Qo(W,ne)&&(H===te||d(H,te,u,f,g)))return W.push(ne)})){R=!1;break}}else if(!(H===Z||d(H,Z,u,f,g))){R=!1;break}}return g.delete(o),g.delete(a),R}function uC(o,a,u,f,d,g,P){switch(u){case vn:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case Yo:return!(o.byteLength!=a.byteLength||!g(new rs(o),new rs(a)));case Wo:case Uo:case Go:return Qt(+o,+a);case Wa:return o.name==a.name&&o.message==a.message;case Bo:case Ho:return o==a+"";case Bt:var S=ph;case Ht:var A=f&E;if(S||(S=Ka),o.size!=a.size&&!A)return!1;var j=P.get(o);if(j)return j==a;f|=M,P.set(o,a);var I=sg(S(o),S(a),f,d,g,P);return P.delete(o),I;case Ga:if(ea)return ea.call(o)==ea.call(a)}return!1}function cC(o,a,u,f,d,g){var P=u&E,S=Rh(o),A=S.length,j=Rh(a),I=j.length;if(A!=I&&!P)return!1;for(var F=A;F--;){var R=S[F];if(!(P?R in a:ce.call(a,R)))return!1}var W=g.get(o),H=g.get(a);if(W&&H)return W==a&&H==o;var Z=!0;g.set(o,a),g.set(a,o);for(var $=P;++F<A;){R=S[F];var te=o[R],ne=a[R];if(f)var qt=P?f(ne,te,R,a,o,g):f(te,ne,R,o,a,g);if(!(qt===t?te===ne||d(te,ne,u,f,g):qt)){Z=!1;break}$||($=R=="constructor")}if(Z&&!$){var ut=o.constructor,Mt=a.constructor;ut!=Mt&&"constructor"in o&&"constructor"in a&&!(typeof ut=="function"&&ut instanceof ut&&typeof Mt=="function"&&Mt instanceof Mt)&&(Z=!1)}return g.delete(o),g.delete(a),Z}function Ir(o){return Hh(pg(o,t,wg),o+"")}function Rh(o){return Ay(o,We,Wh)}function zh(o){return Ay(o,mt,ug)}var Nh=us?function(o){return us.get(o)}:op;function ws(o){for(var a=o.name+"",u=wn[a],f=ce.call(wn,a)?u.length:0;f--;){var d=u[f],g=d.func;if(g==null||g==o)return d.name}return a}function Cn(o){var a=ce.call(y,"placeholder")?y:o;return a.placeholder}function B(){var o=y.iteratee||ip;return o=o===ip?My:o,arguments.length?o(arguments[0],arguments[1]):o}function Os(o,a){var u=o.__data__;return yC(a)?u[typeof a=="string"?"string":"hash"]:u.map}function Vh(o){for(var a=We(o),u=a.length;u--;){var f=a[u],d=o[f];a[u]=[f,d,fg(d)]}return a}function Hi(o,a){var u=_S(o,a);return qy(u)?u:t}function lC(o){var a=ce.call(o,Vi),u=o[Vi];try{o[Vi]=t;var f=!0}catch{}var d=es.call(o);return f&&(a?o[Vi]=u:delete o[Vi]),d}var Wh=vh?function(o){return o==null?[]:(o=de(o),Kr(vh(o),function(a){return dy.call(o,a)}))}:ap,ug=vh?function(o){for(var a=[];o;)Xr(a,Wh(o)),o=is(o);return a}:ap,tt=at;(mh&&tt(new mh(new ArrayBuffer(1)))!=vn||Xo&&tt(new Xo)!=Bt||yh&&tt(yh.resolve())!=Sm||Pn&&tt(new Pn)!=Ht||Jo&&tt(new Jo)!=$o)&&(tt=function(o){var a=at(o),u=a==qr?o.constructor:t,f=u?$i(u):"";if(f)switch(f){case HS:return vn;case $S:return Bt;case YS:return Sm;case QS:return Ht;case KS:return $o}return a});function fC(o,a,u){for(var f=-1,d=u.length;++f<d;){var g=u[f],P=g.size;switch(g.type){case"drop":o+=P;break;case"dropRight":a-=P;break;case"take":a=et(a,o+P);break;case"takeRight":o=ke(o,a-P);break}}return{start:o,end:a}}function hC(o){var a=o.match(gO);return a?a[1].split(bO):[]}function cg(o,a,u){a=ii(a,o);for(var f=-1,d=a.length,g=!1;++f<d;){var P=cr(a[f]);if(!(g=o!=null&&u(o,P)))break;o=o[P]}return g||++f!=d?g:(d=o==null?0:o.length,!!d&&Ms(d)&&Fr(P,d)&&(K(o)||Yi(o)))}function pC(o){var a=o.length,u=new o.constructor(a);return a&&typeof o[0]=="string"&&ce.call(o,"index")&&(u.index=o.index,u.input=o.input),u}function lg(o){return typeof o.constructor=="function"&&!sa(o)?On(is(o)):{}}function dC(o,a,u){var f=o.constructor;switch(a){case Yo:return Fh(o);case Wo:case Uo:return new f(+o);case vn:return XT(o,u);case Vf:case Wf:case Uf:case Gf:case Bf:case Hf:case $f:case Yf:case Qf:return Hy(o,u);case Bt:return new f;case Go:case Ho:return new f(o);case Bo:return JT(o);case Ht:return new f;case Ga:return ZT(o)}}function vC(o,a){var u=a.length;if(!u)return o;var f=u-1;return a[f]=(u>1?"& ":"")+a[f],a=a.join(u>2?", ":" "),o.replace(yO,`{
/* [wrapped with `+a+`] */
`)}function mC(o){return K(o)||Yi(o)||!!(vy&&o&&o[vy])}function Fr(o,a){var u=typeof o;return a=a??Qr,!!a&&(u=="number"||u!="symbol"&&EO.test(o))&&o>-1&&o%1==0&&o<a}function st(o,a,u){if(!we(u))return!1;var f=typeof a;return(f=="number"?vt(u)&&Fr(a,u.length):f=="string"&&a in u)?Qt(u[a],o):!1}function Uh(o,a){if(K(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||Et(o)?!0:pO.test(o)||!hO.test(o)||a!=null&&o in de(a)}function yC(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function Gh(o){var a=ws(o),u=y[a];if(typeof u!="function"||!(a in re.prototype))return!1;if(o===u)return!0;var f=Nh(u);return!!f&&o===f[0]}function gC(o){return!!fy&&fy in o}var bC=Ja?Dr:sp;function sa(o){var a=o&&o.constructor,u=typeof a=="function"&&a.prototype||_n;return o===u}function fg(o){return o===o&&!we(o)}function hg(o,a){return function(u){return u==null?!1:u[o]===a&&(a!==t||o in de(u))}}function _C(o){var a=Es(o,function(f){return u.size===p&&u.clear(),f}),u=a.cache;return a}function PC(o,a){var u=o[1],f=a[1],d=u|f,g=d<(L|D|pt),P=f==pt&&u==Y||f==pt&&u==Vo&&o[7].length<=a[8]||f==(pt|Vo)&&a[7].length<=a[8]&&u==Y;if(!(g||P))return o;f&L&&(o[2]=a[2],d|=u&L?0:N);var S=a[3];if(S){var A=o[3];o[3]=A?Yy(A,S,a[4]):S,o[4]=A?Jr(o[3],v):a[4]}return S=a[5],S&&(A=o[5],o[5]=A?Qy(A,S,a[6]):S,o[6]=A?Jr(o[5],v):a[6]),S=a[7],S&&(o[7]=S),f&pt&&(o[8]=o[8]==null?a[8]:et(o[8],a[8])),o[9]==null&&(o[9]=a[9]),o[0]=a[0],o[1]=d,o}function wC(o){var a=[];if(o!=null)for(var u in de(o))a.push(u);return a}function OC(o){return es.call(o)}function pg(o,a,u){return a=ke(a===t?o.length-1:a,0),function(){for(var f=arguments,d=-1,g=ke(f.length-a,0),P=q(g);++d<g;)P[d]=f[a+d];d=-1;for(var S=q(a+1);++d<a;)S[d]=f[d];return S[a]=u(P),Tt(o,this,S)}}function dg(o,a){return a.length<2?o:Bi(o,Nt(a,0,-1))}function SC(o,a){for(var u=o.length,f=et(a.length,u),d=dt(o);f--;){var g=a[f];o[f]=Fr(g,u)?d[g]:t}return o}function Bh(o,a){if(!(a==="constructor"&&typeof o[a]=="function")&&a!="__proto__")return o[a]}var vg=yg(Ry),ua=zS||function(o,a){return Ve.setTimeout(o,a)},Hh=yg($T);function mg(o,a,u){var f=a+"";return Hh(o,vC(f,TC(hC(f),u)))}function yg(o){var a=0,u=0;return function(){var f=US(),d=Hw-(f-u);if(u=f,d>0){if(++a>=Bw)return arguments[0]}else a=0;return o.apply(t,arguments)}}function Ss(o,a){var u=-1,f=o.length,d=f-1;for(a=a===t?f:a;++u<a;){var g=Eh(u,d),P=o[g];o[g]=o[u],o[u]=P}return o.length=a,o}var gg=_C(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(dO,function(u,f,d,g){a.push(d?g.replace(wO,"$1"):f||u)}),a});function cr(o){if(typeof o=="string"||Et(o))return o;var a=o+"";return a=="0"&&1/o==-zi?"-0":a}function $i(o){if(o!=null){try{return Za.call(o)}catch{}try{return o+""}catch{}}return""}function TC(o,a){return Dt(Jw,function(u){var f="_."+u[0];a&u[1]&&!Ya(o,f)&&o.push(f)}),o.sort()}function bg(o){if(o instanceof re)return o.clone();var a=new Rt(o.__wrapped__,o.__chain__);return a.__actions__=dt(o.__actions__),a.__index__=o.__index__,a.__values__=o.__values__,a}function CC(o,a,u){(u?st(o,a,u):a===t)?a=1:a=ke(J(a),0);var f=o==null?0:o.length;if(!f||a<1)return[];for(var d=0,g=0,P=q(as(f/a));d<f;)P[g++]=Nt(o,d,d+=a);return P}function AC(o){for(var a=-1,u=o==null?0:o.length,f=0,d=[];++a<u;){var g=o[a];g&&(d[f++]=g)}return d}function EC(){var o=arguments.length;if(!o)return[];for(var a=q(o-1),u=arguments[0],f=o;f--;)a[f-1]=arguments[f];return Xr(K(u)?dt(u):[u],Ye(a,1))}var qC=ee(function(o,a){return Ae(o)?ra(o,Ye(a,1,Ae,!0)):[]}),MC=ee(function(o,a){var u=Vt(a);return Ae(u)&&(u=t),Ae(o)?ra(o,Ye(a,1,Ae,!0),B(u,2)):[]}),xC=ee(function(o,a){var u=Vt(a);return Ae(u)&&(u=t),Ae(o)?ra(o,Ye(a,1,Ae,!0),t,u):[]});function LC(o,a,u){var f=o==null?0:o.length;return f?(a=u||a===t?1:J(a),Nt(o,a<0?0:a,f)):[]}function jC(o,a,u){var f=o==null?0:o.length;return f?(a=u||a===t?1:J(a),a=f-a,Nt(o,0,a<0?0:a)):[]}function IC(o,a){return o&&o.length?ms(o,B(a,3),!0,!0):[]}function FC(o,a){return o&&o.length?ms(o,B(a,3),!0):[]}function DC(o,a,u,f){var d=o==null?0:o.length;return d?(u&&typeof u!="number"&&st(o,a,u)&&(u=0,f=d),ET(o,a,u,f)):[]}function _g(o,a,u){var f=o==null?0:o.length;if(!f)return-1;var d=u==null?0:J(u);return d<0&&(d=ke(f+d,0)),Qa(o,B(a,3),d)}function Pg(o,a,u){var f=o==null?0:o.length;if(!f)return-1;var d=f-1;return u!==t&&(d=J(u),d=u<0?ke(f+d,0):et(d,f-1)),Qa(o,B(a,3),d,!0)}function wg(o){var a=o==null?0:o.length;return a?Ye(o,1):[]}function kC(o){var a=o==null?0:o.length;return a?Ye(o,zi):[]}function RC(o,a){var u=o==null?0:o.length;return u?(a=a===t?1:J(a),Ye(o,a)):[]}function zC(o){for(var a=-1,u=o==null?0:o.length,f={};++a<u;){var d=o[a];f[d[0]]=d[1]}return f}function Og(o){return o&&o.length?o[0]:t}function NC(o,a,u){var f=o==null?0:o.length;if(!f)return-1;var d=u==null?0:J(u);return d<0&&(d=ke(f+d,0)),yn(o,a,d)}function VC(o){var a=o==null?0:o.length;return a?Nt(o,0,-1):[]}var WC=ee(function(o){var a=ge(o,jh);return a.length&&a[0]===o[0]?Oh(a):[]}),UC=ee(function(o){var a=Vt(o),u=ge(o,jh);return a===Vt(u)?a=t:u.pop(),u.length&&u[0]===o[0]?Oh(u,B(a,2)):[]}),GC=ee(function(o){var a=Vt(o),u=ge(o,jh);return a=typeof a=="function"?a:t,a&&u.pop(),u.length&&u[0]===o[0]?Oh(u,t,a):[]});function BC(o,a){return o==null?"":VS.call(o,a)}function Vt(o){var a=o==null?0:o.length;return a?o[a-1]:t}function HC(o,a,u){var f=o==null?0:o.length;if(!f)return-1;var d=f;return u!==t&&(d=J(u),d=d<0?ke(f+d,0):et(d,f-1)),a===a?TS(o,a,d):Qa(o,iy,d,!0)}function $C(o,a){return o&&o.length?Iy(o,J(a)):t}var YC=ee(Sg);function Sg(o,a){return o&&o.length&&a&&a.length?Ah(o,a):o}function QC(o,a,u){return o&&o.length&&a&&a.length?Ah(o,a,B(u,2)):o}function KC(o,a,u){return o&&o.length&&a&&a.length?Ah(o,a,t,u):o}var XC=Ir(function(o,a){var u=o==null?0:o.length,f=bh(o,a);return ky(o,ge(a,function(d){return Fr(d,u)?+d:d}).sort($y)),f});function JC(o,a){var u=[];if(!(o&&o.length))return u;var f=-1,d=[],g=o.length;for(a=B(a,3);++f<g;){var P=o[f];a(P,f,o)&&(u.push(P),d.push(f))}return ky(o,d),u}function $h(o){return o==null?o:BS.call(o)}function ZC(o,a,u){var f=o==null?0:o.length;return f?(u&&typeof u!="number"&&st(o,a,u)?(a=0,u=f):(a=a==null?0:J(a),u=u===t?f:J(u)),Nt(o,a,u)):[]}function eA(o,a){return vs(o,a)}function tA(o,a,u){return Mh(o,a,B(u,2))}function rA(o,a){var u=o==null?0:o.length;if(u){var f=vs(o,a);if(f<u&&Qt(o[f],a))return f}return-1}function iA(o,a){return vs(o,a,!0)}function nA(o,a,u){return Mh(o,a,B(u,2),!0)}function oA(o,a){var u=o==null?0:o.length;if(u){var f=vs(o,a,!0)-1;if(Qt(o[f],a))return f}return-1}function aA(o){return o&&o.length?zy(o):[]}function sA(o,a){return o&&o.length?zy(o,B(a,2)):[]}function uA(o){var a=o==null?0:o.length;return a?Nt(o,1,a):[]}function cA(o,a,u){return o&&o.length?(a=u||a===t?1:J(a),Nt(o,0,a<0?0:a)):[]}function lA(o,a,u){var f=o==null?0:o.length;return f?(a=u||a===t?1:J(a),a=f-a,Nt(o,a<0?0:a,f)):[]}function fA(o,a){return o&&o.length?ms(o,B(a,3),!1,!0):[]}function hA(o,a){return o&&o.length?ms(o,B(a,3)):[]}var pA=ee(function(o){return ri(Ye(o,1,Ae,!0))}),dA=ee(function(o){var a=Vt(o);return Ae(a)&&(a=t),ri(Ye(o,1,Ae,!0),B(a,2))}),vA=ee(function(o){var a=Vt(o);return a=typeof a=="function"?a:t,ri(Ye(o,1,Ae,!0),t,a)});function mA(o){return o&&o.length?ri(o):[]}function yA(o,a){return o&&o.length?ri(o,B(a,2)):[]}function gA(o,a){return a=typeof a=="function"?a:t,o&&o.length?ri(o,t,a):[]}function Yh(o){if(!(o&&o.length))return[];var a=0;return o=Kr(o,function(u){if(Ae(u))return a=ke(u.length,a),!0}),fh(a,function(u){return ge(o,uh(u))})}function Tg(o,a){if(!(o&&o.length))return[];var u=Yh(o);return a==null?u:ge(u,function(f){return Tt(a,t,f)})}var bA=ee(function(o,a){return Ae(o)?ra(o,a):[]}),_A=ee(function(o){return Lh(Kr(o,Ae))}),PA=ee(function(o){var a=Vt(o);return Ae(a)&&(a=t),Lh(Kr(o,Ae),B(a,2))}),wA=ee(function(o){var a=Vt(o);return a=typeof a=="function"?a:t,Lh(Kr(o,Ae),t,a)}),OA=ee(Yh);function SA(o,a){return Uy(o||[],a||[],ta)}function TA(o,a){return Uy(o||[],a||[],oa)}var CA=ee(function(o){var a=o.length,u=a>1?o[a-1]:t;return u=typeof u=="function"?(o.pop(),u):t,Tg(o,u)});function Cg(o){var a=y(o);return a.__chain__=!0,a}function AA(o,a){return a(o),o}function Ts(o,a){return a(o)}var EA=Ir(function(o){var a=o.length,u=a?o[0]:0,f=this.__wrapped__,d=function(g){return bh(g,o)};return a>1||this.__actions__.length||!(f instanceof re)||!Fr(u)?this.thru(d):(f=f.slice(u,+u+(a?1:0)),f.__actions__.push({func:Ts,args:[d],thisArg:t}),new Rt(f,this.__chain__).thru(function(g){return a&&!g.length&&g.push(t),g}))});function qA(){return Cg(this)}function MA(){return new Rt(this.value(),this.__chain__)}function xA(){this.__values__===t&&(this.__values__=Ng(this.value()));var o=this.__index__>=this.__values__.length,a=o?t:this.__values__[this.__index__++];return{done:o,value:a}}function LA(){return this}function jA(o){for(var a,u=this;u instanceof ls;){var f=bg(u);f.__index__=0,f.__values__=t,a?d.__wrapped__=f:a=f;var d=f;u=u.__wrapped__}return d.__wrapped__=o,a}function IA(){var o=this.__wrapped__;if(o instanceof re){var a=o;return this.__actions__.length&&(a=new re(this)),a=a.reverse(),a.__actions__.push({func:Ts,args:[$h],thisArg:t}),new Rt(a,this.__chain__)}return this.thru($h)}function FA(){return Wy(this.__wrapped__,this.__actions__)}var DA=ys(function(o,a,u){ce.call(o,u)?++o[u]:Lr(o,u,1)});function kA(o,a,u){var f=K(o)?ty:AT;return u&&st(o,a,u)&&(a=t),f(o,B(a,3))}function RA(o,a){var u=K(o)?Kr:Ty;return u(o,B(a,3))}var zA=Zy(_g),NA=Zy(Pg);function VA(o,a){return Ye(Cs(o,a),1)}function WA(o,a){return Ye(Cs(o,a),zi)}function UA(o,a,u){return u=u===t?1:J(u),Ye(Cs(o,a),u)}function Ag(o,a){var u=K(o)?Dt:ti;return u(o,B(a,3))}function Eg(o,a){var u=K(o)?uS:Sy;return u(o,B(a,3))}var GA=ys(function(o,a,u){ce.call(o,u)?o[u].push(a):Lr(o,u,[a])});function BA(o,a,u,f){o=vt(o)?o:En(o),u=u&&!f?J(u):0;var d=o.length;return u<0&&(u=ke(d+u,0)),xs(o)?u<=d&&o.indexOf(a,u)>-1:!!d&&yn(o,a,u)>-1}var HA=ee(function(o,a,u){var f=-1,d=typeof a=="function",g=vt(o)?q(o.length):[];return ti(o,function(P){g[++f]=d?Tt(a,P,u):ia(P,a,u)}),g}),$A=ys(function(o,a,u){Lr(o,u,a)});function Cs(o,a){var u=K(o)?ge:xy;return u(o,B(a,3))}function YA(o,a,u,f){return o==null?[]:(K(a)||(a=a==null?[]:[a]),u=f?t:u,K(u)||(u=u==null?[]:[u]),Fy(o,a,u))}var QA=ys(function(o,a,u){o[u?0:1].push(a)},function(){return[[],[]]});function KA(o,a,u){var f=K(o)?ah:oy,d=arguments.length<3;return f(o,B(a,4),u,d,ti)}function XA(o,a,u){var f=K(o)?cS:oy,d=arguments.length<3;return f(o,B(a,4),u,d,Sy)}function JA(o,a){var u=K(o)?Kr:Ty;return u(o,qs(B(a,3)))}function ZA(o){var a=K(o)?_y:BT;return a(o)}function eE(o,a,u){(u?st(o,a,u):a===t)?a=1:a=J(a);var f=K(o)?wT:HT;return f(o,a)}function tE(o){var a=K(o)?OT:YT;return a(o)}function rE(o){if(o==null)return 0;if(vt(o))return xs(o)?bn(o):o.length;var a=tt(o);return a==Bt||a==Ht?o.size:Th(o).length}function iE(o,a,u){var f=K(o)?sh:QT;return u&&st(o,a,u)&&(a=t),f(o,B(a,3))}var nE=ee(function(o,a){if(o==null)return[];var u=a.length;return u>1&&st(o,a[0],a[1])?a=[]:u>2&&st(a[0],a[1],a[2])&&(a=[a[0]]),Fy(o,Ye(a,1),[])}),As=RS||function(){return Ve.Date.now()};function oE(o,a){if(typeof a!="function")throw new kt(c);return o=J(o),function(){if(--o<1)return a.apply(this,arguments)}}function qg(o,a,u){return a=u?t:a,a=o&&a==null?o.length:a,jr(o,pt,t,t,t,t,a)}function Mg(o,a){var u;if(typeof a!="function")throw new kt(c);return o=J(o),function(){return--o>0&&(u=a.apply(this,arguments)),o<=1&&(a=t),u}}var Qh=ee(function(o,a,u){var f=L;if(u.length){var d=Jr(u,Cn(Qh));f|=pe}return jr(o,f,a,u,d)}),xg=ee(function(o,a,u){var f=L|D;if(u.length){var d=Jr(u,Cn(xg));f|=pe}return jr(a,f,o,u,d)});function Lg(o,a,u){a=u?t:a;var f=jr(o,Y,t,t,t,t,t,a);return f.placeholder=Lg.placeholder,f}function jg(o,a,u){a=u?t:a;var f=jr(o,ie,t,t,t,t,t,a);return f.placeholder=jg.placeholder,f}function Ig(o,a,u){var f,d,g,P,S,A,j=0,I=!1,F=!1,R=!0;if(typeof o!="function")throw new kt(c);a=Wt(a)||0,we(u)&&(I=!!u.leading,F="maxWait"in u,g=F?ke(Wt(u.maxWait)||0,a):g,R="trailing"in u?!!u.trailing:R);function W(Ee){var Kt=f,Rr=d;return f=d=t,j=Ee,P=o.apply(Rr,Kt),P}function H(Ee){return j=Ee,S=ua(te,a),I?W(Ee):P}function Z(Ee){var Kt=Ee-A,Rr=Ee-j,Zg=a-Kt;return F?et(Zg,g-Rr):Zg}function $(Ee){var Kt=Ee-A,Rr=Ee-j;return A===t||Kt>=a||Kt<0||F&&Rr>=g}function te(){var Ee=As();if($(Ee))return ne(Ee);S=ua(te,Z(Ee))}function ne(Ee){return S=t,R&&f?W(Ee):(f=d=t,P)}function qt(){S!==t&&Gy(S),j=0,f=A=d=S=t}function ut(){return S===t?P:ne(As())}function Mt(){var Ee=As(),Kt=$(Ee);if(f=arguments,d=this,A=Ee,Kt){if(S===t)return H(A);if(F)return Gy(S),S=ua(te,a),W(A)}return S===t&&(S=ua(te,a)),P}return Mt.cancel=qt,Mt.flush=ut,Mt}var aE=ee(function(o,a){return Oy(o,1,a)}),sE=ee(function(o,a,u){return Oy(o,Wt(a)||0,u)});function uE(o){return jr(o,Nf)}function Es(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new kt(c);var u=function(){var f=arguments,d=a?a.apply(this,f):f[0],g=u.cache;if(g.has(d))return g.get(d);var P=o.apply(this,f);return u.cache=g.set(d,P)||g,P};return u.cache=new(Es.Cache||xr),u}Es.Cache=xr;function qs(o){if(typeof o!="function")throw new kt(c);return function(){var a=arguments;switch(a.length){case 0:return!o.call(this);case 1:return!o.call(this,a[0]);case 2:return!o.call(this,a[0],a[1]);case 3:return!o.call(this,a[0],a[1],a[2])}return!o.apply(this,a)}}function cE(o){return Mg(2,o)}var lE=KT(function(o,a){a=a.length==1&&K(a[0])?ge(a[0],Ct(B())):ge(Ye(a,1),Ct(B()));var u=a.length;return ee(function(f){for(var d=-1,g=et(f.length,u);++d<g;)f[d]=a[d].call(this,f[d]);return Tt(o,this,f)})}),Kh=ee(function(o,a){var u=Jr(a,Cn(Kh));return jr(o,pe,t,a,u)}),Fg=ee(function(o,a){var u=Jr(a,Cn(Fg));return jr(o,Fe,t,a,u)}),fE=Ir(function(o,a){return jr(o,Vo,t,t,t,a)});function hE(o,a){if(typeof o!="function")throw new kt(c);return a=a===t?a:J(a),ee(o,a)}function pE(o,a){if(typeof o!="function")throw new kt(c);return a=a==null?0:ke(J(a),0),ee(function(u){var f=u[a],d=ni(u,0,a);return f&&Xr(d,f),Tt(o,this,d)})}function dE(o,a,u){var f=!0,d=!0;if(typeof o!="function")throw new kt(c);return we(u)&&(f="leading"in u?!!u.leading:f,d="trailing"in u?!!u.trailing:d),Ig(o,a,{leading:f,maxWait:a,trailing:d})}function vE(o){return qg(o,1)}function mE(o,a){return Kh(Ih(a),o)}function yE(){if(!arguments.length)return[];var o=arguments[0];return K(o)?o:[o]}function gE(o){return zt(o,T)}function bE(o,a){return a=typeof a=="function"?a:t,zt(o,T,a)}function _E(o){return zt(o,b|T)}function PE(o,a){return a=typeof a=="function"?a:t,zt(o,b|T,a)}function wE(o,a){return a==null||wy(o,a,We(a))}function Qt(o,a){return o===a||o!==o&&a!==a}var OE=Ps(wh),SE=Ps(function(o,a){return o>=a}),Yi=Ey(function(){return arguments}())?Ey:function(o){return Te(o)&&ce.call(o,"callee")&&!dy.call(o,"callee")},K=q.isArray,TE=Qm?Ct(Qm):jT;function vt(o){return o!=null&&Ms(o.length)&&!Dr(o)}function Ae(o){return Te(o)&&vt(o)}function CE(o){return o===!0||o===!1||Te(o)&&at(o)==Wo}var oi=NS||sp,AE=Km?Ct(Km):IT;function EE(o){return Te(o)&&o.nodeType===1&&!ca(o)}function qE(o){if(o==null)return!0;if(vt(o)&&(K(o)||typeof o=="string"||typeof o.splice=="function"||oi(o)||An(o)||Yi(o)))return!o.length;var a=tt(o);if(a==Bt||a==Ht)return!o.size;if(sa(o))return!Th(o).length;for(var u in o)if(ce.call(o,u))return!1;return!0}function ME(o,a){return na(o,a)}function xE(o,a,u){u=typeof u=="function"?u:t;var f=u?u(o,a):t;return f===t?na(o,a,t,u):!!f}function Xh(o){if(!Te(o))return!1;var a=at(o);return a==Wa||a==eO||typeof o.message=="string"&&typeof o.name=="string"&&!ca(o)}function LE(o){return typeof o=="number"&&my(o)}function Dr(o){if(!we(o))return!1;var a=at(o);return a==Ua||a==Om||a==Zw||a==rO}function Dg(o){return typeof o=="number"&&o==J(o)}function Ms(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Qr}function we(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}function Te(o){return o!=null&&typeof o=="object"}var kg=Xm?Ct(Xm):DT;function jE(o,a){return o===a||Sh(o,a,Vh(a))}function IE(o,a,u){return u=typeof u=="function"?u:t,Sh(o,a,Vh(a),u)}function FE(o){return Rg(o)&&o!=+o}function DE(o){if(bC(o))throw new Q(s);return qy(o)}function kE(o){return o===null}function RE(o){return o==null}function Rg(o){return typeof o=="number"||Te(o)&&at(o)==Go}function ca(o){if(!Te(o)||at(o)!=qr)return!1;var a=is(o);if(a===null)return!0;var u=ce.call(a,"constructor")&&a.constructor;return typeof u=="function"&&u instanceof u&&Za.call(u)==IS}var Jh=Jm?Ct(Jm):kT;function zE(o){return Dg(o)&&o>=-Qr&&o<=Qr}var zg=Zm?Ct(Zm):RT;function xs(o){return typeof o=="string"||!K(o)&&Te(o)&&at(o)==Ho}function Et(o){return typeof o=="symbol"||Te(o)&&at(o)==Ga}var An=ey?Ct(ey):zT;function NE(o){return o===t}function VE(o){return Te(o)&&tt(o)==$o}function WE(o){return Te(o)&&at(o)==nO}var UE=Ps(Ch),GE=Ps(function(o,a){return o<=a});function Ng(o){if(!o)return[];if(vt(o))return xs(o)?$t(o):dt(o);if(Ko&&o[Ko])return wS(o[Ko]());var a=tt(o),u=a==Bt?ph:a==Ht?Ka:En;return u(o)}function kr(o){if(!o)return o===0?o:0;if(o=Wt(o),o===zi||o===-zi){var a=o<0?-1:1;return a*Qw}return o===o?o:0}function J(o){var a=kr(o),u=a%1;return a===a?u?a-u:a:0}function Vg(o){return o?Gi(J(o),0,ar):0}function Wt(o){if(typeof o=="number")return o;if(Et(o))return Na;if(we(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=we(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=ay(o);var u=TO.test(o);return u||AO.test(o)?oS(o.slice(2),u?2:8):SO.test(o)?Na:+o}function Wg(o){return ur(o,mt(o))}function BE(o){return o?Gi(J(o),-Qr,Qr):o===0?o:0}function ue(o){return o==null?"":At(o)}var HE=Sn(function(o,a){if(sa(a)||vt(a)){ur(a,We(a),o);return}for(var u in a)ce.call(a,u)&&ta(o,u,a[u])}),Ug=Sn(function(o,a){ur(a,mt(a),o)}),Ls=Sn(function(o,a,u,f){ur(a,mt(a),o,f)}),$E=Sn(function(o,a,u,f){ur(a,We(a),o,f)}),YE=Ir(bh);function QE(o,a){var u=On(o);return a==null?u:Py(u,a)}var KE=ee(function(o,a){o=de(o);var u=-1,f=a.length,d=f>2?a[2]:t;for(d&&st(a[0],a[1],d)&&(f=1);++u<f;)for(var g=a[u],P=mt(g),S=-1,A=P.length;++S<A;){var j=P[S],I=o[j];(I===t||Qt(I,_n[j])&&!ce.call(o,j))&&(o[j]=g[j])}return o}),XE=ee(function(o){return o.push(t,ag),Tt(Gg,t,o)});function JE(o,a){return ry(o,B(a,3),sr)}function ZE(o,a){return ry(o,B(a,3),Ph)}function eq(o,a){return o==null?o:_h(o,B(a,3),mt)}function tq(o,a){return o==null?o:Cy(o,B(a,3),mt)}function rq(o,a){return o&&sr(o,B(a,3))}function iq(o,a){return o&&Ph(o,B(a,3))}function nq(o){return o==null?[]:ps(o,We(o))}function oq(o){return o==null?[]:ps(o,mt(o))}function Zh(o,a,u){var f=o==null?t:Bi(o,a);return f===t?u:f}function aq(o,a){return o!=null&&cg(o,a,qT)}function ep(o,a){return o!=null&&cg(o,a,MT)}var sq=tg(function(o,a,u){a!=null&&typeof a.toString!="function"&&(a=es.call(a)),o[a]=u},rp(yt)),uq=tg(function(o,a,u){a!=null&&typeof a.toString!="function"&&(a=es.call(a)),ce.call(o,a)?o[a].push(u):o[a]=[u]},B),cq=ee(ia);function We(o){return vt(o)?by(o):Th(o)}function mt(o){return vt(o)?by(o,!0):NT(o)}function lq(o,a){var u={};return a=B(a,3),sr(o,function(f,d,g){Lr(u,a(f,d,g),f)}),u}function fq(o,a){var u={};return a=B(a,3),sr(o,function(f,d,g){Lr(u,d,a(f,d,g))}),u}var hq=Sn(function(o,a,u){ds(o,a,u)}),Gg=Sn(function(o,a,u,f){ds(o,a,u,f)}),pq=Ir(function(o,a){var u={};if(o==null)return u;var f=!1;a=ge(a,function(g){return g=ii(g,o),f||(f=g.length>1),g}),ur(o,zh(o),u),f&&(u=zt(u,b|w|T,sC));for(var d=a.length;d--;)xh(u,a[d]);return u});function dq(o,a){return Bg(o,qs(B(a)))}var vq=Ir(function(o,a){return o==null?{}:WT(o,a)});function Bg(o,a){if(o==null)return{};var u=ge(zh(o),function(f){return[f]});return a=B(a),Dy(o,u,function(f,d){return a(f,d[0])})}function mq(o,a,u){a=ii(a,o);var f=-1,d=a.length;for(d||(d=1,o=t);++f<d;){var g=o==null?t:o[cr(a[f])];g===t&&(f=d,g=u),o=Dr(g)?g.call(o):g}return o}function yq(o,a,u){return o==null?o:oa(o,a,u)}function gq(o,a,u,f){return f=typeof f=="function"?f:t,o==null?o:oa(o,a,u,f)}var Hg=ng(We),$g=ng(mt);function bq(o,a,u){var f=K(o),d=f||oi(o)||An(o);if(a=B(a,4),u==null){var g=o&&o.constructor;d?u=f?new g:[]:we(o)?u=Dr(g)?On(is(o)):{}:u={}}return(d?Dt:sr)(o,function(P,S,A){return a(u,P,S,A)}),u}function _q(o,a){return o==null?!0:xh(o,a)}function Pq(o,a,u){return o==null?o:Vy(o,a,Ih(u))}function wq(o,a,u,f){return f=typeof f=="function"?f:t,o==null?o:Vy(o,a,Ih(u),f)}function En(o){return o==null?[]:hh(o,We(o))}function Oq(o){return o==null?[]:hh(o,mt(o))}function Sq(o,a,u){return u===t&&(u=a,a=t),u!==t&&(u=Wt(u),u=u===u?u:0),a!==t&&(a=Wt(a),a=a===a?a:0),Gi(Wt(o),a,u)}function Tq(o,a,u){return a=kr(a),u===t?(u=a,a=0):u=kr(u),o=Wt(o),xT(o,a,u)}function Cq(o,a,u){if(u&&typeof u!="boolean"&&st(o,a,u)&&(a=u=t),u===t&&(typeof a=="boolean"?(u=a,a=t):typeof o=="boolean"&&(u=o,o=t)),o===t&&a===t?(o=0,a=1):(o=kr(o),a===t?(a=o,o=0):a=kr(a)),o>a){var f=o;o=a,a=f}if(u||o%1||a%1){var d=yy();return et(o+d*(a-o+nS("1e-"+((d+"").length-1))),a)}return Eh(o,a)}var Aq=Tn(function(o,a,u){return a=a.toLowerCase(),o+(u?Yg(a):a)});function Yg(o){return tp(ue(o).toLowerCase())}function Qg(o){return o=ue(o),o&&o.replace(qO,yS).replace(YO,"")}function Eq(o,a,u){o=ue(o),a=At(a);var f=o.length;u=u===t?f:Gi(J(u),0,f);var d=u;return u-=a.length,u>=0&&o.slice(u,d)==a}function qq(o){return o=ue(o),o&&cO.test(o)?o.replace(Cm,gS):o}function Mq(o){return o=ue(o),o&&vO.test(o)?o.replace(Kf,"\\$&"):o}var xq=Tn(function(o,a,u){return o+(u?"-":"")+a.toLowerCase()}),Lq=Tn(function(o,a,u){return o+(u?" ":"")+a.toLowerCase()}),jq=Jy("toLowerCase");function Iq(o,a,u){o=ue(o),a=J(a);var f=a?bn(o):0;if(!a||f>=a)return o;var d=(a-f)/2;return _s(ss(d),u)+o+_s(as(d),u)}function Fq(o,a,u){o=ue(o),a=J(a);var f=a?bn(o):0;return a&&f<a?o+_s(a-f,u):o}function Dq(o,a,u){o=ue(o),a=J(a);var f=a?bn(o):0;return a&&f<a?_s(a-f,u)+o:o}function kq(o,a,u){return u||a==null?a=0:a&&(a=+a),GS(ue(o).replace(Xf,""),a||0)}function Rq(o,a,u){return(u?st(o,a,u):a===t)?a=1:a=J(a),qh(ue(o),a)}function zq(){var o=arguments,a=ue(o[0]);return o.length<3?a:a.replace(o[1],o[2])}var Nq=Tn(function(o,a,u){return o+(u?"_":"")+a.toLowerCase()});function Vq(o,a,u){return u&&typeof u!="number"&&st(o,a,u)&&(a=u=t),u=u===t?ar:u>>>0,u?(o=ue(o),o&&(typeof a=="string"||a!=null&&!Jh(a))&&(a=At(a),!a&&gn(o))?ni($t(o),0,u):o.split(a,u)):[]}var Wq=Tn(function(o,a,u){return o+(u?" ":"")+tp(a)});function Uq(o,a,u){return o=ue(o),u=u==null?0:Gi(J(u),0,o.length),a=At(a),o.slice(u,u+a.length)==a}function Gq(o,a,u){var f=y.templateSettings;u&&st(o,a,u)&&(a=t),o=ue(o),a=Ls({},a,f,og);var d=Ls({},a.imports,f.imports,og),g=We(d),P=hh(d,g),S,A,j=0,I=a.interpolate||Ba,F="__p += '",R=dh((a.escape||Ba).source+"|"+I.source+"|"+(I===Am?OO:Ba).source+"|"+(a.evaluate||Ba).source+"|$","g"),W="//# sourceURL="+(ce.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ZO+"]")+`
`;o.replace(R,function($,te,ne,qt,ut,Mt){return ne||(ne=qt),F+=o.slice(j,Mt).replace(MO,bS),te&&(S=!0,F+=`' +
__e(`+te+`) +
'`),ut&&(A=!0,F+=`';
`+ut+`;
__p += '`),ne&&(F+=`' +
((__t = (`+ne+`)) == null ? '' : __t) +
'`),j=Mt+$.length,$}),F+=`';
`;var H=ce.call(a,"variable")&&a.variable;if(!H)F=`with (obj) {
`+F+`
}
`;else if(PO.test(H))throw new Q(l);F=(A?F.replace(oO,""):F).replace(aO,"$1").replace(sO,"$1;"),F="function("+(H||"obj")+`) {
`+(H?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(A?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var Z=Xg(function(){return se(g,W+"return "+F).apply(t,P)});if(Z.source=F,Xh(Z))throw Z;return Z}function Bq(o){return ue(o).toLowerCase()}function Hq(o){return ue(o).toUpperCase()}function $q(o,a,u){if(o=ue(o),o&&(u||a===t))return ay(o);if(!o||!(a=At(a)))return o;var f=$t(o),d=$t(a),g=sy(f,d),P=uy(f,d)+1;return ni(f,g,P).join("")}function Yq(o,a,u){if(o=ue(o),o&&(u||a===t))return o.slice(0,ly(o)+1);if(!o||!(a=At(a)))return o;var f=$t(o),d=uy(f,$t(a))+1;return ni(f,0,d).join("")}function Qq(o,a,u){if(o=ue(o),o&&(u||a===t))return o.replace(Xf,"");if(!o||!(a=At(a)))return o;var f=$t(o),d=sy(f,$t(a));return ni(f,d).join("")}function Kq(o,a){var u=Uw,f=Gw;if(we(a)){var d="separator"in a?a.separator:d;u="length"in a?J(a.length):u,f="omission"in a?At(a.omission):f}o=ue(o);var g=o.length;if(gn(o)){var P=$t(o);g=P.length}if(u>=g)return o;var S=u-bn(f);if(S<1)return f;var A=P?ni(P,0,S).join(""):o.slice(0,S);if(d===t)return A+f;if(P&&(S+=A.length-S),Jh(d)){if(o.slice(S).search(d)){var j,I=A;for(d.global||(d=dh(d.source,ue(Em.exec(d))+"g")),d.lastIndex=0;j=d.exec(I);)var F=j.index;A=A.slice(0,F===t?S:F)}}else if(o.indexOf(At(d),S)!=S){var R=A.lastIndexOf(d);R>-1&&(A=A.slice(0,R))}return A+f}function Xq(o){return o=ue(o),o&&uO.test(o)?o.replace(Tm,CS):o}var Jq=Tn(function(o,a,u){return o+(u?" ":"")+a.toUpperCase()}),tp=Jy("toUpperCase");function Kg(o,a,u){return o=ue(o),a=u?t:a,a===t?PS(o)?qS(o):hS(o):o.match(a)||[]}var Xg=ee(function(o,a){try{return Tt(o,t,a)}catch(u){return Xh(u)?u:new Q(u)}}),Zq=Ir(function(o,a){return Dt(a,function(u){u=cr(u),Lr(o,u,Qh(o[u],o))}),o});function eM(o){var a=o==null?0:o.length,u=B();return o=a?ge(o,function(f){if(typeof f[1]!="function")throw new kt(c);return[u(f[0]),f[1]]}):[],ee(function(f){for(var d=-1;++d<a;){var g=o[d];if(Tt(g[0],this,f))return Tt(g[1],this,f)}})}function tM(o){return CT(zt(o,b))}function rp(o){return function(){return o}}function rM(o,a){return o==null||o!==o?a:o}var iM=eg(),nM=eg(!0);function yt(o){return o}function ip(o){return My(typeof o=="function"?o:zt(o,b))}function oM(o){return Ly(zt(o,b))}function aM(o,a){return jy(o,zt(a,b))}var sM=ee(function(o,a){return function(u){return ia(u,o,a)}}),uM=ee(function(o,a){return function(u){return ia(o,u,a)}});function np(o,a,u){var f=We(a),d=ps(a,f);u==null&&!(we(a)&&(d.length||!f.length))&&(u=a,a=o,o=this,d=ps(a,We(a)));var g=!(we(u)&&"chain"in u)||!!u.chain,P=Dr(o);return Dt(d,function(S){var A=a[S];o[S]=A,P&&(o.prototype[S]=function(){var j=this.__chain__;if(g||j){var I=o(this.__wrapped__),F=I.__actions__=dt(this.__actions__);return F.push({func:A,args:arguments,thisArg:o}),I.__chain__=j,I}return A.apply(o,Xr([this.value()],arguments))})}),o}function cM(){return Ve._===this&&(Ve._=FS),this}function op(){}function lM(o){return o=J(o),ee(function(a){return Iy(a,o)})}var fM=Dh(ge),hM=Dh(ty),pM=Dh(sh);function Jg(o){return Uh(o)?uh(cr(o)):UT(o)}function dM(o){return function(a){return o==null?t:Bi(o,a)}}var vM=rg(),mM=rg(!0);function ap(){return[]}function sp(){return!1}function yM(){return{}}function gM(){return""}function bM(){return!0}function _M(o,a){if(o=J(o),o<1||o>Qr)return[];var u=ar,f=et(o,ar);a=B(a),o-=ar;for(var d=fh(f,a);++u<o;)a(u);return d}function PM(o){return K(o)?ge(o,cr):Et(o)?[o]:dt(gg(ue(o)))}function wM(o){var a=++jS;return ue(o)+a}var OM=bs(function(o,a){return o+a},0),SM=kh("ceil"),TM=bs(function(o,a){return o/a},1),CM=kh("floor");function AM(o){return o&&o.length?hs(o,yt,wh):t}function EM(o,a){return o&&o.length?hs(o,B(a,2),wh):t}function qM(o){return ny(o,yt)}function MM(o,a){return ny(o,B(a,2))}function xM(o){return o&&o.length?hs(o,yt,Ch):t}function LM(o,a){return o&&o.length?hs(o,B(a,2),Ch):t}var jM=bs(function(o,a){return o*a},1),IM=kh("round"),FM=bs(function(o,a){return o-a},0);function DM(o){return o&&o.length?lh(o,yt):0}function kM(o,a){return o&&o.length?lh(o,B(a,2)):0}return y.after=oE,y.ary=qg,y.assign=HE,y.assignIn=Ug,y.assignInWith=Ls,y.assignWith=$E,y.at=YE,y.before=Mg,y.bind=Qh,y.bindAll=Zq,y.bindKey=xg,y.castArray=yE,y.chain=Cg,y.chunk=CC,y.compact=AC,y.concat=EC,y.cond=eM,y.conforms=tM,y.constant=rp,y.countBy=DA,y.create=QE,y.curry=Lg,y.curryRight=jg,y.debounce=Ig,y.defaults=KE,y.defaultsDeep=XE,y.defer=aE,y.delay=sE,y.difference=qC,y.differenceBy=MC,y.differenceWith=xC,y.drop=LC,y.dropRight=jC,y.dropRightWhile=IC,y.dropWhile=FC,y.fill=DC,y.filter=RA,y.flatMap=VA,y.flatMapDeep=WA,y.flatMapDepth=UA,y.flatten=wg,y.flattenDeep=kC,y.flattenDepth=RC,y.flip=uE,y.flow=iM,y.flowRight=nM,y.fromPairs=zC,y.functions=nq,y.functionsIn=oq,y.groupBy=GA,y.initial=VC,y.intersection=WC,y.intersectionBy=UC,y.intersectionWith=GC,y.invert=sq,y.invertBy=uq,y.invokeMap=HA,y.iteratee=ip,y.keyBy=$A,y.keys=We,y.keysIn=mt,y.map=Cs,y.mapKeys=lq,y.mapValues=fq,y.matches=oM,y.matchesProperty=aM,y.memoize=Es,y.merge=hq,y.mergeWith=Gg,y.method=sM,y.methodOf=uM,y.mixin=np,y.negate=qs,y.nthArg=lM,y.omit=pq,y.omitBy=dq,y.once=cE,y.orderBy=YA,y.over=fM,y.overArgs=lE,y.overEvery=hM,y.overSome=pM,y.partial=Kh,y.partialRight=Fg,y.partition=QA,y.pick=vq,y.pickBy=Bg,y.property=Jg,y.propertyOf=dM,y.pull=YC,y.pullAll=Sg,y.pullAllBy=QC,y.pullAllWith=KC,y.pullAt=XC,y.range=vM,y.rangeRight=mM,y.rearg=fE,y.reject=JA,y.remove=JC,y.rest=hE,y.reverse=$h,y.sampleSize=eE,y.set=yq,y.setWith=gq,y.shuffle=tE,y.slice=ZC,y.sortBy=nE,y.sortedUniq=aA,y.sortedUniqBy=sA,y.split=Vq,y.spread=pE,y.tail=uA,y.take=cA,y.takeRight=lA,y.takeRightWhile=fA,y.takeWhile=hA,y.tap=AA,y.throttle=dE,y.thru=Ts,y.toArray=Ng,y.toPairs=Hg,y.toPairsIn=$g,y.toPath=PM,y.toPlainObject=Wg,y.transform=bq,y.unary=vE,y.union=pA,y.unionBy=dA,y.unionWith=vA,y.uniq=mA,y.uniqBy=yA,y.uniqWith=gA,y.unset=_q,y.unzip=Yh,y.unzipWith=Tg,y.update=Pq,y.updateWith=wq,y.values=En,y.valuesIn=Oq,y.without=bA,y.words=Kg,y.wrap=mE,y.xor=_A,y.xorBy=PA,y.xorWith=wA,y.zip=OA,y.zipObject=SA,y.zipObjectDeep=TA,y.zipWith=CA,y.entries=Hg,y.entriesIn=$g,y.extend=Ug,y.extendWith=Ls,np(y,y),y.add=OM,y.attempt=Xg,y.camelCase=Aq,y.capitalize=Yg,y.ceil=SM,y.clamp=Sq,y.clone=gE,y.cloneDeep=_E,y.cloneDeepWith=PE,y.cloneWith=bE,y.conformsTo=wE,y.deburr=Qg,y.defaultTo=rM,y.divide=TM,y.endsWith=Eq,y.eq=Qt,y.escape=qq,y.escapeRegExp=Mq,y.every=kA,y.find=zA,y.findIndex=_g,y.findKey=JE,y.findLast=NA,y.findLastIndex=Pg,y.findLastKey=ZE,y.floor=CM,y.forEach=Ag,y.forEachRight=Eg,y.forIn=eq,y.forInRight=tq,y.forOwn=rq,y.forOwnRight=iq,y.get=Zh,y.gt=OE,y.gte=SE,y.has=aq,y.hasIn=ep,y.head=Og,y.identity=yt,y.includes=BA,y.indexOf=NC,y.inRange=Tq,y.invoke=cq,y.isArguments=Yi,y.isArray=K,y.isArrayBuffer=TE,y.isArrayLike=vt,y.isArrayLikeObject=Ae,y.isBoolean=CE,y.isBuffer=oi,y.isDate=AE,y.isElement=EE,y.isEmpty=qE,y.isEqual=ME,y.isEqualWith=xE,y.isError=Xh,y.isFinite=LE,y.isFunction=Dr,y.isInteger=Dg,y.isLength=Ms,y.isMap=kg,y.isMatch=jE,y.isMatchWith=IE,y.isNaN=FE,y.isNative=DE,y.isNil=RE,y.isNull=kE,y.isNumber=Rg,y.isObject=we,y.isObjectLike=Te,y.isPlainObject=ca,y.isRegExp=Jh,y.isSafeInteger=zE,y.isSet=zg,y.isString=xs,y.isSymbol=Et,y.isTypedArray=An,y.isUndefined=NE,y.isWeakMap=VE,y.isWeakSet=WE,y.join=BC,y.kebabCase=xq,y.last=Vt,y.lastIndexOf=HC,y.lowerCase=Lq,y.lowerFirst=jq,y.lt=UE,y.lte=GE,y.max=AM,y.maxBy=EM,y.mean=qM,y.meanBy=MM,y.min=xM,y.minBy=LM,y.stubArray=ap,y.stubFalse=sp,y.stubObject=yM,y.stubString=gM,y.stubTrue=bM,y.multiply=jM,y.nth=$C,y.noConflict=cM,y.noop=op,y.now=As,y.pad=Iq,y.padEnd=Fq,y.padStart=Dq,y.parseInt=kq,y.random=Cq,y.reduce=KA,y.reduceRight=XA,y.repeat=Rq,y.replace=zq,y.result=mq,y.round=IM,y.runInContext=C,y.sample=ZA,y.size=rE,y.snakeCase=Nq,y.some=iE,y.sortedIndex=eA,y.sortedIndexBy=tA,y.sortedIndexOf=rA,y.sortedLastIndex=iA,y.sortedLastIndexBy=nA,y.sortedLastIndexOf=oA,y.startCase=Wq,y.startsWith=Uq,y.subtract=FM,y.sum=DM,y.sumBy=kM,y.template=Gq,y.times=_M,y.toFinite=kr,y.toInteger=J,y.toLength=Vg,y.toLower=Bq,y.toNumber=Wt,y.toSafeInteger=BE,y.toString=ue,y.toUpper=Hq,y.trim=$q,y.trimEnd=Yq,y.trimStart=Qq,y.truncate=Kq,y.unescape=Xq,y.uniqueId=wM,y.upperCase=Jq,y.upperFirst=tp,y.each=Ag,y.eachRight=Eg,y.first=Og,np(y,function(){var o={};return sr(y,function(a,u){ce.call(y.prototype,u)||(o[u]=a)}),o}(),{chain:!1}),y.VERSION=i,Dt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){y[o].placeholder=y}),Dt(["drop","take"],function(o,a){re.prototype[o]=function(u){u=u===t?1:ke(J(u),0);var f=this.__filtered__&&!a?new re(this):this.clone();return f.__filtered__?f.__takeCount__=et(u,f.__takeCount__):f.__views__.push({size:et(u,ar),type:o+(f.__dir__<0?"Right":"")}),f},re.prototype[o+"Right"]=function(u){return this.reverse()[o](u).reverse()}}),Dt(["filter","map","takeWhile"],function(o,a){var u=a+1,f=u==wm||u==Yw;re.prototype[o]=function(d){var g=this.clone();return g.__iteratees__.push({iteratee:B(d,3),type:u}),g.__filtered__=g.__filtered__||f,g}}),Dt(["head","last"],function(o,a){var u="take"+(a?"Right":"");re.prototype[o]=function(){return this[u](1).value()[0]}}),Dt(["initial","tail"],function(o,a){var u="drop"+(a?"":"Right");re.prototype[o]=function(){return this.__filtered__?new re(this):this[u](1)}}),re.prototype.compact=function(){return this.filter(yt)},re.prototype.find=function(o){return this.filter(o).head()},re.prototype.findLast=function(o){return this.reverse().find(o)},re.prototype.invokeMap=ee(function(o,a){return typeof o=="function"?new re(this):this.map(function(u){return ia(u,o,a)})}),re.prototype.reject=function(o){return this.filter(qs(B(o)))},re.prototype.slice=function(o,a){o=J(o);var u=this;return u.__filtered__&&(o>0||a<0)?new re(u):(o<0?u=u.takeRight(-o):o&&(u=u.drop(o)),a!==t&&(a=J(a),u=a<0?u.dropRight(-a):u.take(a-o)),u)},re.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},re.prototype.toArray=function(){return this.take(ar)},sr(re.prototype,function(o,a){var u=/^(?:filter|find|map|reject)|While$/.test(a),f=/^(?:head|last)$/.test(a),d=y[f?"take"+(a=="last"?"Right":""):a],g=f||/^find/.test(a);d&&(y.prototype[a]=function(){var P=this.__wrapped__,S=f?[1]:arguments,A=P instanceof re,j=S[0],I=A||K(P),F=function(te){var ne=d.apply(y,Xr([te],S));return f&&R?ne[0]:ne};I&&u&&typeof j=="function"&&j.length!=1&&(A=I=!1);var R=this.__chain__,W=!!this.__actions__.length,H=g&&!R,Z=A&&!W;if(!g&&I){P=Z?P:new re(this);var $=o.apply(P,S);return $.__actions__.push({func:Ts,args:[F],thisArg:t}),new Rt($,R)}return H&&Z?o.apply(this,S):($=this.thru(F),H?f?$.value()[0]:$.value():$)})}),Dt(["pop","push","shift","sort","splice","unshift"],function(o){var a=Xa[o],u=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",f=/^(?:pop|shift)$/.test(o);y.prototype[o]=function(){var d=arguments;if(f&&!this.__chain__){var g=this.value();return a.apply(K(g)?g:[],d)}return this[u](function(P){return a.apply(K(P)?P:[],d)})}}),sr(re.prototype,function(o,a){var u=y[a];if(u){var f=u.name+"";ce.call(wn,f)||(wn[f]=[]),wn[f].push({name:a,func:u})}}),wn[gs(t,D).name]=[{name:"wrapper",func:t}],re.prototype.clone=XS,re.prototype.reverse=JS,re.prototype.value=ZS,y.prototype.at=EA,y.prototype.chain=qA,y.prototype.commit=MA,y.prototype.next=xA,y.prototype.plant=jA,y.prototype.reverse=IA,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=FA,y.prototype.first=y.prototype.head,Ko&&(y.prototype[Ko]=LA),y},Zr=MS();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ve._=Zr,define(function(){return Zr})):Ni?((Ni.exports=Zr)._=Zr,ih._=Zr):Ve._=Zr}).call(r)}),Nw=class extends Set{constructor(r,e=!1){super(r),this.valuesAsFlags=e}};function ka(r){if(r instanceof Map)return Object.fromEntries([...r.entries()].map(([e,t])=>[e,ka(t)]));if(r instanceof Set)return Array.from(r.values()).map(ka);if(r instanceof Nw)return{values:[...r.values()],valuesAsFlags:r.valuesAsFlags};if(typeof r=="object"){let e={};return Object.entries(r).forEach(([t,i])=>{e[t]=ka(i)}),e}else return r}var vZ=gm(bm(),1);var M5=gm(bm(),1);function pn(r,e){if(typeof r!="object")throw new Error(`Cannot merge into non-object objectToMergeWith. Received: ${JSON.stringify(r)}`);if(typeof e!="object")throw new Error(`Cannot merge using non-object objectToMergeWith. Received: ${JSON.stringify(e)}`);let t=(0,M5.cloneDeep)(r);for(let[i,n]of Object.entries(e))typeof n!="object"||n instanceof Set||t[i]===void 0?t[i]=n:t[i]=pn(t[i],n);return t}function Vw(r,e){if(!(r===void 0||typeof r!="object"))for(let t of Object.keys(r)){if(t===e)return r[t];let i=r[t];if(typeof i=="object"){let n=Vw(i,e);if(n!==void 0)return n}}}var ym="@composite:",x5="@inherit:",L5=class{constructor(r,e,t){this.tiledClassToMembersMap=r,this.enumNameToValuesMap=e,this.parserOptions=t,this.memoiser=new Map}flattenMembers(r,e){return this.memoiser.has(r)?{[r]:this.memoiser.get(r)}:(this.memoiser.set(r,e.reduce((t,i)=>({...t,...this.flattenMemberProperty(i)}),{})),{[r]:this.memoiser.get(r)})}flattenMemberProperty(r){let e=r.propertyType??r.propertytype;if(r.type==="class"){if(!this.memoiser.has(e)){let n=this.tiledClassToMembersMap.get(e).reduce((s,c)=>pn(this.flattenMemberProperty(c),s),{});this.memoiser.set(e,n)}let t=this.memoiser.get(e),i=pn(t,this.flattenValue(r.value,t));return this.checkIfShouldFlatten(r.name)?i:{[r.name.replace(ym,"")]:i}}else return this.enumNameToValuesMap.has(e)?this.enumNameToValuesMap.get(e).valuesAsFlags?{[r.name]:new Set(r.value.split(",").filter(t=>t!==""))}:{[r.name]:r.value}:{[r.name]:r.value}}get memoisedFlattenedProperties(){return this.memoiser}flattenValue(r,e){return Object.entries(r).reduce((t,[i,n])=>{if(typeof n!="object")return Vw(e,i)instanceof Set?pn({[i]:new Set(n.split(",").filter(s=>s!==""))},t):pn({[i]:n},t);if(this.checkIfShouldFlatten(i))return pn(this.flattenValue(n,e),t);{let s=i.replace(ym,"");return pn({[s]:this.flattenValue(n,e)},t)}},{})}checkIfShouldFlatten(r){return this.parserOptions?.defaultComposite===!0?r.startsWith(x5):!r.startsWith(ym)}},Rw=gm(bm(),1),j5=class{constructor(r){this.flattener=r}flattenPropertiesOnObject(r){return{...this.flattener.memoisedFlattenedProperties.get(r.class??r.type),...r.properties?.reduce((e,t)=>({...e,...this.flattener.flattenMemberProperty(t)}),{}),name:r.name,id:r.id,class:r.class??r.type??null,x:r.x,y:r.y}}flattenPropertiesOnTile(r){return{...this.flattener.memoisedFlattenedProperties.get(r.class??r.type),...r.properties?.reduce((e,t)=>({...e,...this.flattener.flattenMemberProperty(t)}),{}),id:r.id,class:r.class??r.type??null}}getCustomTypesMap(){return new Map([...this.flattener.memoisedFlattenedProperties.entries()].map(([r,e])=>[r,(0,Rw.cloneDeep)(e)]))}getEnumsMap(){return new Map([...this.flattener.enumNameToValuesMap.entries()].map(([r,e])=>[r,(0,Rw.cloneDeep)(e)]))}toJSON(){return JSON.stringify({customTypes:ka(this.getCustomTypesMap()),enums:ka(this.getEnumsMap())},null,4)}};function I5(r,e){let t=new Map(r.propertyTypes.filter(s=>s.type==="enum").map(s=>[s.name,new Nw(s.values,s.valuesAsFlags)])),i=new Map(r.propertyTypes.filter(s=>s.type==="class").map(s=>[s.name,s.members])),n=new L5(i,t,e);return i.forEach((s,c)=>{n.flattenMembers(c,s)}),new j5(n)}var Ww={parse:I5};var Ri=class{constructor(e,t){this.phaserTile=e;this.tiledProject=t}getProperty(e){let t={};if(this.tiledProject){let n=Ww.parse(this.tiledProject),s=this.getType();if(s){let c=n.getCustomTypesMap()?.get(s);if(c)for(let[l,h]of Object.entries(c))t[l]=h}}return this.phaserTile.properties[e]??t[e]}hasProperty(e){return this.getProperty(e)!=null}getType(){return this.phaserTile.tileset?.tileData[this.phaserTile.index-1]?.type}};var Ro=class{constructor(e,t){this.phaserTilemapLayer=e;this.tiledProject=t}getName(){return this.phaserTilemapLayer.layer.name}getProperty(e){return this.phaserTilemapLayer.layer.properties?.find(n=>n.name==e)?.value}hasProperty(e){return this.getProperty(e)!=null}isCharLayer(){return this.hasProperty(Fa)}getData(){return this.phaserTilemapLayer.layer.data.map(e=>e.map(t=>new Ri(t,this.tiledProject)))}};var Ra=class{constructor(e,t){this.phaserTilemap=e;this.tiledProject=t;for(let i of this.phaserTilemap.layers)if(i.tilemapLayer==null)throw new Error(`Error initializing tilemap. Layer '${i.name}' has no 'tilemapLayer'. This can happen if you call 'createLayer' with the wrong layer ID.`)}getTileWidth(){return this.phaserTilemap.tileWidth}getTileHeight(){return this.phaserTilemap.tileHeight}getWidth(){return this.phaserTilemap.width}getHeight(){return this.phaserTilemap.height}getOrientation(){return this.phaserTilemap.orientation==Phaser.Tilemaps.Orientation.ISOMETRIC.toString()?"isometric":"orthogonal"}getLayers(){return this.phaserTilemap.layers.map(e=>new Ro(e.tilemapLayer,this.tiledProject))}hasTileAt(e,t,i){return!!this.phaserTilemap.hasTileAt(e,t,i)}getTileAt(e,t,i){let n=this.phaserTilemap.getTileAt(e,t,!1,i);if(n)return new Ri(n,this.tiledProject)}};var Rf=class{constructor(e,t="orthogonal",i="ge_collide"){this.map=e;this.orientation=t;this.layerMap=new Map;this.layers=[];let n=-1,s=-1;Object.entries(e).map(([c,l])=>{let h=l.data[0]?.length,p=l.data.length;if(n!==-1&&n!==h||s!==-1&&s!==p)throw new Error("All tilemap layers must have the same dimensions.");n=h,s=p;let v=[];for(let w=0;w<l.data.length;w++){let T=[];for(let E=0;E<l.data[w].length;E++){let M=new Pm(l.data[w][E]===1,i);T.push(M)}v.push(T)}let b=new _m(c,v,l.isCharLayer);this.layers.push(b),this.layerMap.set(c,b)})}getWidth(){return Object.values(this.map)[0]?.data[0]?.length||0}getHeight(){return Object.values(this.map)[0]?.data.length||0}getOrientation(){return this.orientation}getLayers(){return this.layers}hasTileAt(e,t,i){return!i||!this.layerMap.get(i)?!1:e>=0&&e<this.getWidth()&&t>=0&&t<this.getHeight()}getTileAt(e,t,i){if(!i)return;let n=this.layerMap.get(i);if(n)return n.getData()[t][e]}},_m=class{constructor(e,t,i=!1){this.name=e;this.tiles=t;this.isCharLayerInternal=i}getName(){return this.name}getProperty(e){if(e==="ge_charLayer"&&this.isCharLayerInternal)return this.name}hasProperty(e){return e==="ge_charLayer"&&this.isCharLayerInternal}getData(){return this.tiles}isCharLayer(){return this.isCharLayerInternal}},Pm=class{constructor(e,t){this.isBlocking=e;this.collisionPropertyName=t}getProperty(e){return e===this.collisionPropertyName?this.isBlocking:!1}hasProperty(e){return e===this.collisionPropertyName}};var zo=class{constructor(e,t){this.props={};let i=e.find(s=>{if(!s.tiles)return!1;let c=s.firstgid??0;return!!s.tiles.find(h=>h.id+c===t)});if(!i)return;let n=i.tiles?.find(s=>s.id+(i.firstgid??0)===t);if(n?.properties)for(let s of n.properties)s.name&&(this.props[s.name]=s.value)}getProperty(e){return this.props[e]}hasProperty(e){return this.props[e]!==void 0}};var No=class{constructor(e,t){this.layer=t;this.data=[];if(this.data=[],this.layer.data)for(let i=0;i<(this.layer.height||0);i++){let n=[];for(let s=0;s<(this.layer.width||0);s++){let c=this.layer.data[i*(this.layer.width||0)+s];c!==void 0?n.push(new zo(e,c)):n.push(void 0)}this.data.push(n)}}getName(){return this.layer.name}getProperty(e){return this.layer.properties?.find(t=>t.name===e)?.value}hasProperty(e){return this.getProperty(e)!==void 0}getData(){return this.data}isCharLayer(){return this.hasProperty("ge_charLayer")}};var zf=class{constructor(e){this.rawTilemap=e;this.layers=[];this.layers=this.rawTilemap.layers?.map(t=>new No(this.rawTilemap.tilesets,t))}hasTileAt(e,t,i){if(e<0||e>=this.rawTilemap.width||t<0||t>=this.rawTilemap.height||!this.rawTilemap.layers)return!1;let n=this.rawTilemap.layers.find(c=>c.name===i);if(!n)return!1;let s=t*this.rawTilemap.width+e;return n.data[s]>0}getTileAt(e,t,i){if(e<0||e>=this.rawTilemap.width||t<0||t>=this.rawTilemap.height||!this.rawTilemap.layers)return;let n=this.layers.find(s=>s.getName()===i);if(n)return n.getData()[t][e]}getOrientation(){return this.rawTilemap.orientation}getLayers(){return this.layers}getWidth(){return this.rawTilemap.width}getHeight(){return this.rawTilemap.height}};var za=class r{constructor(e){this.scene=e;this.geHeadless=new Da(!1);this.isCreatedInternal=!1;r.welcomeMessagePrinted||(console.log(`Using GridEngine Phaser Plugin v${Ef}`),r.welcomeMessagePrinted=!0),this.scene.sys.events.once("boot",this.boot,this)}static{this.welcomeMessagePrinted=!1}boot(){this.scene.sys.events.on("update",this.update,this)}getCharLayer(e){return this.geHeadless.getCharLayer(e)}getTransition(e,t){return this.geHeadless.getTransition(e,t)}setTransition(e,t,i){this.geHeadless.setTransition(e,t,i)}create(e,t){this.geHeadless.create(new Ra(e,t.tiledProject),t),this.isCreatedInternal=!0,this.gridCharacters=new Map;let i=this.setConfigDefaults(t);this.config=i,this.gridTilemap=new sn(e),this.addCharacters()}getPosition(e){return this.geHeadless.getPosition(e)}move(e,t){this.geHeadless.move(e,t)}moveRandomly(e,t=0,i=-1){this.geHeadless.moveRandomly(e,t,i)}getMovement(e){return this.geHeadless.getMovement(e)}moveTo(e,t,i){return this.geHeadless.moveTo(e,t,i)}stopMovement(e){this.geHeadless.stopMovement(e)}setSpeed(e,t){this.geHeadless.setSpeed(e,t)}getSpeed(e){return this.geHeadless.getSpeed(e)}getContainer(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getContainer()}getOffsetX(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getOffsetX()}setOffsetX(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);i.setOffsetX(t)}getOffsetY(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getOffsetY()}setOffsetY(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);i.setOffsetY(t)}collidesWithTiles(e){return this.geHeadless.collidesWithTiles(e)}getWalkingAnimationMapping(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getAnimation()?.getWalkingAnimationMapping()}hasLayerOverlay(){return this.initGuard(),!!this.config?.layerOverlay}setWalkingAnimationMapping(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);i.getAnimation()?.setWalkingAnimationMapping(t)}update(e,t){if(this.isCreatedInternal&&this.gridCharacters)for(let[i,n]of this.gridCharacters)n.update(t);this.geHeadless.update(e,t)}addCharacter(e){this.geHeadless.addCharacter(e),this.addCharacterInternal(e)}hasCharacter(e){return this.geHeadless.hasCharacter(e)}removeCharacter(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);t.destroy(),this.gridCharacters?.delete(e),this.geHeadless.removeCharacter(e)}removeAllCharacters(){if(this.initGuard(),!!this.gridCharacters){for(let e of this.gridCharacters.keys())this.removeCharacter(e);this.geHeadless.removeAllCharacters()}}getAllCharacters(e){return this.geHeadless.getAllCharacters(e)}getLabels(e){return this.geHeadless.getLabels(e)}addLabels(e,t){this.geHeadless.addLabels(e,t)}removeLabels(e,t){this.geHeadless.removeLabels(e,t)}clearLabels(e){this.geHeadless.clearLabels(e)}follow(e,t,i,n){let s;i===void 0?s={distance:0,closestPointIfBlocked:!1}:typeof i=="number"?(s={distance:i,closestPointIfBlocked:!1},n&&(s.closestPointIfBlocked=!0)):s=i,this.geHeadless.follow(e,t,s)}isMoving(e){return this.geHeadless.isMoving(e)}getFacingDirection(e){return this.geHeadless.getFacingDirection(e)}getFacingPosition(e){return this.geHeadless.getFacingPosition(e)}turnTowards(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);i.turnTowards(t),this.geHeadless.turnTowards(e,t)}getCharactersAt(e,t){return this.geHeadless.getCharactersAt(e,t)}setPosition(e,t,i){this.geHeadless.setPosition(e,t,i)}getSprite(e){this.initGuard();let t=this.gridCharacters?.get(e);if(!t)throw this.createCharUnknownErr(e);return t.getSprite()}setSprite(e,t){this.initGuard();let i=this.gridCharacters?.get(e);if(!i)throw this.createCharUnknownErr(e);t.setOrigin(0,0),this.setCharSprite(t,i)}isBlocked(e,t,i=["geDefault"]){return this.geHeadless.isBlocked(e,t,i)}isTileBlocked(e,t){return this.geHeadless.isTileBlocked(e,t)}getCollisionGroups(e){return this.geHeadless.getCollisionGroups(e)}setCollisionGroups(e,t){this.geHeadless.setCollisionGroups(e,t)}getIgnoreCollisionGroups(e){return this.geHeadless.getIgnoreCollisionGroups(e)}setIgnoreCollisionGroups(e,t){this.geHeadless.setIgnoreCollisionGroups(e,t)}getTilePosInDirection(e,t,i){return this.geHeadless.getTilePosInDirection(e,t,i)}findShortestPath(e,t,i={}){return this.geHeadless.findShortestPath(e,t,i)}steppedOn(e,t,i){return this.geHeadless.steppedOn(e,t,i)}characterShifted(){return this.geHeadless.characterShifted()}movementStarted(){return this.geHeadless.movementStarted()}movementStopped(){return this.geHeadless.movementStopped()}directionChanged(){return this.geHeadless.directionChanged()}positionChangeStarted(){return this.geHeadless.positionChangeStarted()}positionChangeFinished(){return this.geHeadless.positionChangeFinished()}getMovementProgress(e){return this.geHeadless.getMovementProgress(e)}rebuildTileCollisionCache(e,t,i,n){this.geHeadless.rebuildTileCollisionCache(e,t,i,n)}addQueueMovements(e,t,i){this.geHeadless.addQueueMovements(e,t,i)}getEnqueuedMovements(e){return this.geHeadless.getEnqueuedMovements(e)}queueMovementFinished(){return this.geHeadless.queueMovementFinished()}clearEnqueuedMovements(e){return this.geHeadless.clearEnqueuedMovements(e)}getState(){return{characters:this.geHeadless.getState().characters.map(e=>({...e,offsetX:this.getOffsetX(e.id),offsetY:this.getOffsetY(e.id)}))}}setState(e){if(this.geHeadless.setState(e),this.gridCharacters)for(let t of e.characters){let i=this.gridCharacters.get(t.id);i&&(i.setOffsetX(t.offsetX),i.setOffsetY(t.offsetY))}}getTileCost(e,t,i){return this.initGuard(),this.geHeadless.getTileCost(e,t,i)}setConfigDefaults(e){return{collisionTilePropertyName:"ge_collide",numberOfDirections:4,characterCollisionStrategy:"BLOCK_TWO_TILES",layerOverlay:!1,cacheTileCollisions:!1,...e}}initGuard(){if(!this.isCreatedInternal)throw this.createUninitializedErr()}createUninitializedErr(){throw new Error("GridEngine not initialized. You need to call create() first.")}addCharacters(){this.config?.characters.forEach(e=>this.addCharacterInternal(e))}createCharUnknownErr(e){return new Error(`Character unknown: ${e}`)}setCharSprite(e,t){t.setSprite(e)}addCharacterInternal(e){if(this.initGuard(),!this.gridTilemap)throw this.createUninitializedErr();if(!this.config)throw this.createUninitializedErr();let t=new af(e,this.scene,this.gridTilemap,this.config.layerOverlay,this.geHeadless);this.gridCharacters?.set(e.id,t)}};var F5=za;0&&(module.exports={ArrayTilemap,CharacterShiftAction,CollisionStrategy,Direction,GridEngine,GridEngineHeadless,MoveToResult,NoPathFoundStrategy,NumberOfDirections,PathBlockedStrategy,PhaserTile,PhaserTileLayer,PhaserTilemap,QueuedPathBlockedStrategy,TiledLayer,TiledTile,TiledTilemap,directionFromPos});
/*! Bundled license information:

tiled-property-flattener/dist/tiled_property_flattener.min.js:
  (*! Bundled license information:
  
  lodash/lodash.js:
    (**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     *)
  *)
*/
