{"hash":"1aac1006467ad8a1abfe092a9ebe9b36d4810c34","data":{"example":{"id":"b673a315a9d44f9fc8d9f7e2b2eb3efe","title":"Position Changed","path":"/example/position-changed/","content":"<h1 id=\"position-changed-observable\"><a href=\"#position-changed-observable\" aria-hidden=\"true\"><span class=\"autolink fa-solid fa-link\"></span></a>Position Changed Observable</h1>\n<p><strong>Press the arrow keys to move.</strong> This demo demonstrates how to use the <code>positionChanged</code> observable on the tilemap, allowing you to track where the characters have moved to, and further allowing you to add custom features to various tiles if you wish. This demo also uses the <a href=\"../phaser-containers\">Phaser Containers</a> feature.</p>\n<iframe src=\"../../x/position-changed\"></iframe>\n<h2 id=\"example-code\"><a href=\"#example-code\" aria-hidden=\"true\"><span class=\"autolink fa-solid fa-link\"></span></a>Example Code</h2>\n<p><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> game <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Game</span><span class=\"token punctuation\">(</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span>preload<span class=\"token punctuation\">,</span> create<span class=\"token punctuation\">,</span> update<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">load</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"tiles\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"../../assets/tf_jungle_tileset.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">load</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">tilemapTiledJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jungle\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"../../assets/jungle-small.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">load</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">spritesheet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"../../assets/characters.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">frameWidth</span><span class=\"token operator\">:</span> <span class=\"token number\">52</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">frameHeight</span><span class=\"token operator\">:</span> <span class=\"token number\">72</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> jungleTilemap <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">make</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">tilemap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">\"jungle\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  jungleTilemap<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addTilesetImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jungle\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"tiles\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword control-flow\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> jungleTilemap<span class=\"token punctuation\">.</span><span class=\"token property-access\">layers</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> layer <span class=\"token operator\">=</span> jungleTilemap<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">createLayer</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token string\">\"jungle\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    layer<span class=\"token punctuation\">.</span><span class=\"token property-access\">scale</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">const</span> playerSprite <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">add</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">sprite</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"player\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  playerSprite<span class=\"token punctuation\">.</span><span class=\"token property-access\">scale</span> <span class=\"token operator\">=</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> positionChangeText <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">add</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">text</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">110</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> positionChangeFinishedText <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">add</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">text</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">add</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">container</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n    playerSprite<span class=\"token punctuation\">,</span>\n    positionChangeText<span class=\"token punctuation\">,</span>\n    positionChangeFinishedText<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cameras</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">main</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">startFollow</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cameras</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">main</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setFollowOffset</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>playerSprite<span class=\"token punctuation\">.</span><span class=\"token property-access\">width</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>playerSprite<span class=\"token punctuation\">.</span><span class=\"token property-access\">height</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> gridEngineConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">characters</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">sprite</span><span class=\"token operator\">:</span> playerSprite<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">walkingAnimationMapping</span><span class=\"token operator\">:</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">startPosition</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        container<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> shopText <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">add</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">text</span><span class=\"token punctuation\">(</span>\n    <span class=\"token number\">6</span> <span class=\"token operator\">*</span> <span class=\"token number\">48</span><span class=\"token punctuation\">,</span>\n    <span class=\"token number\">10</span> <span class=\"token operator\">*</span> <span class=\"token number\">48</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"You are standing on a special tile!\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">fontSize</span><span class=\"token operator\">:</span> <span class=\"token number\">25</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  shopText<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  shopText<span class=\"token punctuation\">.</span><span class=\"token property-access\">depth</span> <span class=\"token operator\">=</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> hint <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">add</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">text</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span> <span class=\"token operator\">*</span> <span class=\"token number\">48</span><span class=\"token punctuation\">,</span> <span class=\"token number\">14</span> <span class=\"token operator\">*</span> <span class=\"token number\">48</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Step on the colored tile\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">fontSize</span><span class=\"token operator\">:</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  hint<span class=\"token punctuation\">.</span><span class=\"token property-access\">depth</span> <span class=\"token operator\">=</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">tintTile</span><span class=\"token punctuation\">(</span>jungleTilemap<span class=\"token punctuation\">,</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x6eff94</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">create</span><span class=\"token punctuation\">(</span>jungleTilemap<span class=\"token punctuation\">,</span> gridEngineConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span>\n    <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">positionChangeStarted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> charId<span class=\"token punctuation\">,</span> exitTile<span class=\"token punctuation\">,</span> enterTile <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n      positionChangeText<span class=\"token punctuation\">.</span><span class=\"token property-access\">text</span> <span class=\"token operator\">=</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">positionChangeStarted:\\n exit: (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>exitTile<span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>exitTile<span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)\\n</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">+</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">enter: (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>enterTile<span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>enterTile<span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span>\n    <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">positionChangeFinished</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> charId<span class=\"token punctuation\">,</span> exitTile<span class=\"token punctuation\">,</span> enterTile <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n      positionChangeFinishedText<span class=\"token punctuation\">.</span><span class=\"token property-access\">text</span> <span class=\"token operator\">=</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">positionChangeFinished:\\n exit: (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>exitTile<span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>exitTile<span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)\\n</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">+</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">enter: (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>enterTile<span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>enterTile<span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">hasTrigger</span><span class=\"token punctuation\">(</span>jungleTilemap<span class=\"token punctuation\">,</span> enterTile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        shopText<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">hasTrigger</span><span class=\"token punctuation\">(</span>jungleTilemap<span class=\"token punctuation\">,</span> exitTile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        shopText<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> cursors <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">input</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">keyboard</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">createCursorKeys</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span><span class=\"token property-access\">left</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">isDown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"left\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span><span class=\"token property-access\">right</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">isDown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"right\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span><span class=\"token property-access\">up</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">isDown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"up\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span><span class=\"token property-access\">down</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">isDown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"down\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">tintTile</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tilemap<span class=\"token punctuation\">,</span> row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">,</span> color</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword control-flow\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> tilemap<span class=\"token punctuation\">.</span><span class=\"token property-access\">layers</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    tilemap<span class=\"token punctuation\">.</span><span class=\"token property-access\">layers</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">tilemapLayer</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">layer</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">[</span>row<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">tint</span> <span class=\"token operator\">=</span> color<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">hasTrigger</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tilemap<span class=\"token punctuation\">,</span> position</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword control-flow\">return</span> tilemap<span class=\"token punctuation\">.</span><span class=\"token property-access\">layers</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">some</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">layer</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> tile <span class=\"token operator\">=</span> tilemap<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTileAt</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span><span class=\"token punctuation\">,</span> position<span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> layer<span class=\"token punctuation\">.</span><span class=\"token property-access\">name</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword control-flow\">return</span> tile<span class=\"token operator\">?.</span>properties<span class=\"token operator\">?.</span>trigger<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></p>\n<h2 id=\"example-phaser-config\"><a href=\"#example-phaser-config\" aria-hidden=\"true\"><span class=\"autolink fa-solid fa-link\"></span></a>Example Phaser Config</h2>\n<p><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">preload<span class=\"token punctuation\">,</span> create<span class=\"token punctuation\">,</span> update</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GridEngineExample\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">render</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">antialias</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">Phaser</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AUTO</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gridEngine\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">plugin</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">GridEngine</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">mapping</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gridEngine\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">scale</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">700</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">528</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">preload</span><span class=\"token operator\">:</span> preload<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">create</span><span class=\"token operator\">:</span> create<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">update</span><span class=\"token operator\">:</span> update<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">backgroundColor</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#48C4F8\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></p>\n","fileInfo":{"name":"20-position-changed"}}},"context":{}}