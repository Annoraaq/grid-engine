{"hash":"fc4d3534bc7e0003bf0d805b0bf2f78e1db5cb06","data":{"example":{"id":"86221523b584597b76fe78d8438d9893","title":"Phaser Containers","path":"/example/phaser-containers/","content":"<h1 id=\"phaser-containers\"><a href=\"#phaser-containers\" aria-hidden=\"true\"><span class=\"autolink fa-solid fa-link\"></span></a>Phaser Containers</h1>\n<p><strong>Press the arrow keys to move.</strong> This demo demonstrates how you can work with Phaser's Containers, enabling other Phaser components (such as text labels) to follow the character.</p>\n<iframe src=\"../../x/phaser-container\"></iframe>\n<h2 id=\"example-code\"><a href=\"#example-code\" aria-hidden=\"true\"><span class=\"autolink fa-solid fa-link\"></span></a>Example Code</h2>\n<p><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> game <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Phaser<span class=\"token punctuation\">.</span>Game</span><span class=\"token punctuation\">(</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span>preload<span class=\"token punctuation\">,</span> create<span class=\"token punctuation\">,</span> update<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">load</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">image</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"tiles\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/assets/cloud_tileset.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">load</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">tilemapTiledJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"cloud-city-map\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/assets/cloud_city.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">load</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">spritesheet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/assets/characters.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">frameWidth</span><span class=\"token operator\">:</span> <span class=\"token number\">52</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">frameHeight</span><span class=\"token operator\">:</span> <span class=\"token number\">72</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> cloudCityTilemap <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">make</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">tilemap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cloud-city-map\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cloudCityTilemap<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addTilesetImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cloud City\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"tiles\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword control-flow\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> cloudCityTilemap<span class=\"token punctuation\">.</span><span class=\"token property-access\">layers</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> layer <span class=\"token operator\">=</span> cloudCityTilemap<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">createLayer</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Cloud City\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    layer<span class=\"token punctuation\">.</span><span class=\"token property-access\">scale</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">const</span> playerSprite <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">add</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">sprite</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"player\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  playerSprite<span class=\"token punctuation\">.</span><span class=\"token property-access\">scale</span> <span class=\"token operator\">=</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">add</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">text</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Player 1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  text<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setColor</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#000000\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">add</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">container</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>playerSprite<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cameras</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">main</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">startFollow</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cameras</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">main</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setFollowOffset</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>playerSprite<span class=\"token punctuation\">.</span><span class=\"token property-access\">width</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>playerSprite<span class=\"token punctuation\">.</span><span class=\"token property-access\">height</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> gridEngineConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">characters</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">sprite</span><span class=\"token operator\">:</span> playerSprite<span class=\"token punctuation\">,</span>\n        container<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">walkingAnimationMapping</span><span class=\"token operator\">:</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">walkingAnimationEnabled</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">startPosition</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token number\">8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">create</span><span class=\"token punctuation\">(</span>cloudCityTilemap<span class=\"token punctuation\">,</span> gridEngineConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> cursors <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">input</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">keyboard</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">createCursorKeys</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span><span class=\"token property-access\">left</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">isDown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"left\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span><span class=\"token property-access\">right</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">isDown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"right\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span><span class=\"token property-access\">up</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">isDown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"up\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>cursors<span class=\"token punctuation\">.</span><span class=\"token property-access\">down</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">isDown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">gridEngine</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">move</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"player\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"down\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></p>\n<h2 id=\"example-phaser-config\"><a href=\"#example-phaser-config\" aria-hidden=\"true\"><span class=\"autolink fa-solid fa-link\"></span></a>Example Phaser Config</h2>\n<p><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">preload<span class=\"token punctuation\">,</span> create<span class=\"token punctuation\">,</span> update</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GridEngineExample\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">render</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">antialias</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">Phaser</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AUTO</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gridEngine\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">plugin</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">GridEngine</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">mapping</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gridEngine\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">scale</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">700</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">528</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">scene</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">preload</span><span class=\"token operator\">:</span> preload<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">create</span><span class=\"token operator\">:</span> create<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">update</span><span class=\"token operator\">:</span> update<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">backgroundColor</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#48C4F8\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></p>\n","fileInfo":{"name":"19-phaser-container"}}},"context":{}}